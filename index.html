<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://yoursite.com">
  <title>Souler ACan’s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Souler ACan’s blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Souler ACan’s blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Souler ACan’s blog">
  
    <link rel="alternative" href="/atom.xml" title="Souler ACan’s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" type="text/css" href="/./main.0cf68a.css">
  <style type="text/css">
  
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
  </style>
  

  

</head>

<body>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      
<div class="overlay" style="background: #4d4d4d"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="" class="js-avatar">
		</a>
		<hgroup>
		  <h1 class="header-author"><a href="/">ACan</a></h1>
		</hgroup>
		
		<p class="header-subtitle">who am i ？</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/tags/随笔/">随笔</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
    		
    			
    			<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">所有文章</a>
    			
            
    			
    			<a q-on="click: openSlider(e, 'friends')" href="javascript:void(0)">友链</a>
    			
            
    			
    			<a q-on="click: openSlider(e, 'aboutme')" href="javascript:void(0)">关于我</a>
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="#" title="github"><i class="icon-github"></i></a>
		        
					<a class="weibo" target="_blank" href="#" title="weibo"><i class="icon-weibo"></i></a>
		        
					<a class="rss" target="_blank" href="#" title="rss"><i class="icon-rss"></i></a>
		        
					<a class="zhihu" target="_blank" href="#" title="zhihu"><i class="icon-zhihu"></i></a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: #4d4d4d"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author">ACan</h1>
			</hgroup>
			
			<p class="header-subtitle"><i class="icon icon-quo-left"></i>who am i ？<i class="icon icon-quo-right"></i></p>
			
			
			
				
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="#" title="github"><i class="icon-github"></i></a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo"><i class="icon-weibo"></i></a>
			        
						<a class="rss" target="_blank" href="#" title="rss"><i class="icon-rss"></i></a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu"><i class="icon-zhihu"></i></a>
			        
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 50%">
				
				
					<li style="width: 50%"><a href="/">主页</a></li>
		        
					<li style="width: 50%"><a href="/tags/随笔/">随笔</a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1" class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            
  
    <article id="post-第七周-进程和计划任务以及shell编程进阶" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/09/02/第七周-进程和计划任务以及shell编程进阶/">进程和计划任务以及shell编程进阶</a>
    </h1>
  

        
        <a href="/2018/09/02/第七周-进程和计划任务以及shell编程进阶/" class="archive-article-date">
  	<time datetime="2018-09-02T13:00:00.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-09-02</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="第七周"><a href="#第七周" class="headerlink" title="第七周"></a>第七周</h1><h2 id="进程概念"><a href="#进程概念" class="headerlink" title="进程概念"></a>进程概念</h2><p><strong>内核的功能：</strong><br>    进程管理、文件系统、网络功能、内存管理、驱动程序、安全功能等  </p>
<p><strong>进程(process)：</strong><br>    指正在执行中的程序，占用内存空间<br>    进程编号：PID,用来标记各个进程<br>    进程元数据：PID,UID,GID<br>    进程存在生命期  </p>
<p><strong>进程数据结构：</strong><br>    task struct：Linux内核存储进程信息的数据结构格式<br>    task list：多个任务的task struct组成的链表   </p>
<p><strong>task命令</strong><br>    task -cp 0 <pid> 把进程绑定在第一个CPU上<br><strong>进程precess创建：</strong></pid></p>
<pre><code>操作系统中的第一个进程：  
    centos6中的第一个进程init  
    centos7中的第一个进程systemd  

进程：由父进程创建,CoW机制 
    进程有父进程和子进程、进程又可创建多个线程
    CoW机制：写实复制
        写时复制（Copy-on-Write，也缩写为COW），顾名思义，就是在写入时才真正复制一份内存进行修改。
        fork()、clone()
    线程(thread)：
        在pstree中
            {}表示线程
        一个进程中至少有一个线程
        同一个进程中的线程共享进程资源
</code></pre><p><strong>pstree命令</strong>  </p>
<pre><code>用于查看进程树  
选项：  
-p 查看进程树和pid
</code></pre><h2 id="进程的状态和优先级"><a href="#进程的状态和优先级" class="headerlink" title="进程的状态和优先级"></a>进程的状态和优先级</h2><p><strong>基本状态</strong></p>
<p>进程在其生命周期内，由于系统中各进程之间的相互制约关系及系统的运行环境的变化，使得进程的状态也在不断地发生变化。通常进程有以下五种状态，前三种是进程的基本状态。</p>
<pre><code>就绪状态：
    进程已处于准备运行的状态，即进程获得了除处理机之外的一切所需资源，一旦得到处理机即可运行
阻塞状态：
    又称等待状态：进程正在等待某一事件而暂停运行，如等待某资源为可用（不包括处理机）或等待输入/输出完成。即使处理机空闲，该进程也不能运行。
运行状态：
    进程正在处理机上运行。在单处理机环境下，每一时刻最多只有一个进程处于运行状态
创建状态：
    进程正在被创建，尚未转到就绪状态。创建进程通常需要多个步骤：首先申请一个空白的PCB，并向PCB中填写一些控制和管理进程的信息；然后由系统为该进程分配运行时所必需的资源；最后把该进程转入到就绪状态。
终止状态： 
    进程正从系统中消失，这可能是进程正常结束或其他原因中断退出运行。当进程需要结束运行时，系统首先必须置该进程为结束状态，然后再进一步处理资源释放和回收等工作。
</code></pre><p><strong>状态切换</strong></p>
<pre><code>就绪状态 -&gt; 运行状态：
    处于就绪状态的进程被调度后，获得处理机资源（分派处理机时间片），于是进程由就绪状态转换为运行状态。
运行状态 -&gt; 就绪状态：
    处于运行状态的进程在时间片用完后，不得不让出处理机，从而进程由运行状态转换为就绪状态。此外，在可剥夺的操作系统中，当有更高优先级的进程就 、 绪时，调度程度将正执行的进程转换为就绪状态，让更高优先级的进程执行。
运行状态 -&gt; 阻塞状态：
    当进程请求某一资源（如外设）的使用和分配或等待某一事件的发生（如I/O操作的完成）时，它就从运行状态转换为阻塞状态。进程以系统调用的形式请求操作系统提供服务，这是一种特殊的、由运行用户态程序调用操作系统内核过程的形式。
阻塞状态 -&gt; 就绪状态：
    当进程等待的事件到来时，如I/O操作结束或中断结束时，中断处理程序必须把相应进程的状态由阻塞状态转换为就绪状态。
以下两种状态是不可能发生的：
阻塞状态 -&gt; 运行状态：
    即使给阻塞进程分配CPU，也无法执行，操作系统在进行调度时不会从阻塞队列进行挑选，而是从就绪队列中选取
就绪状态 -&gt; 阻塞状态：
    就绪状态根本就没有执行，谈不上进入阻塞状态
</code></pre><p><strong>DMA设备</strong><br>DMA(Direct Memory Access，直接内存存取) 是所有现代电脑的重要特色，它允许不同速度的硬件装置来沟通，而不需要依赖于 CPU 的大量中断负载。否则，CPU 需要从来源把每一片段的资料复制到暂存器，然后把它们再次写回到新的地方。在这个时间中，CPU 对于其他的工作来说就无法使用。</p>
<pre><code>总结结：内存直接访问，大大提示了CPU的利用率
</code></pre><h2 id="进程优先级："><a href="#进程优先级：" class="headerlink" title="进程优先级："></a>进程优先级：</h2><p><strong>进程优先级</strong>  </p>
<pre><code>系统优先级：  
    数字越小，优先级越高  
    0-139(centos4，5)  
        各有140个运行队列和过期队列  
    0-99(centos6)  
实时优先级：  
    99-0 值最大，优先级越高  
nice优先级：  
    -20到19，对应系统优先级100-139  
原理：CUP时间片切换  
    运行队列与等待队列来回切换  
</code></pre><p><strong>Big O</strong><br>    时间复杂度，用时和规模的关系：<br>        O(1)、<br>        O(logn)、<br>        O(n)、<br>        O(n^2)、<br>        O(2^n)</p>
<h2 id="进程相关概念"><a href="#进程相关概念" class="headerlink" title="进程相关概念"></a>进程相关概念</h2><p><strong>进程内存</strong></p>
<pre><code>page frame：存储页面数据，存储Page 4K
涉及LRU算法：近期最少使用算法，释放内存
    不断的淘汰垫底的数据
物理地址空间和线性地址空间
MMU:负责转换线性和wuli
TLB:保存虚拟地址和物理地址映射关系的缓存
</code></pre><p><strong>IPC:Inter Process Communication</strong></p>
<pre><code>同一主机：
    signal：信号
    shm：shared memory
    semaphore：信号量，一种计数器
不同主机：
    socker：IP和端口号
    RPC：remote procedure call
    MQ：消息队列,Kafka，ActiveMQ    
</code></pre><p><strong>进程状态</strong></p>
<pre><code>Linux内核：抢占式多任务
    进程类型：
    守护进程：daemon，在系统引导过程中启动的进程，和终端无关
    前台进程：跟终端相关，通过终端启动的进程
    两者可互相转化
进程状态：
    运行态：running
    就绪态：ready
    睡眠态：
        可中断：interruptable
        不可中断：uninterruptable
    停止态：stopped
        休眠于内存，但不会被调度，除非手动启动
    僵死态：zombie
        结束进程，父进程结束前，子进程不关闭
</code></pre><h2 id="系统管理工具"><a href="#系统管理工具" class="headerlink" title="系统管理工具"></a>系统管理工具</h2><p><strong>进程的分类</strong></p>
<pre><code>CPU-Bound：CPU密集型，非交互
IO-Bound：IO密集型，交互
linux系统各进程的相关信息均保存在/proc/PID目录下的各文件中
</code></pre><p><strong>pstree命令</strong></p>
<pre><code>显示进程的树状结构
选项：
    -p 显示线程
</code></pre><p><strong>ps工具</strong></p>
<pre><code>ps：process state 进程状态 ，当前进程的快照
三种格式的选项
    UNIX风格的短选项
    BSD风格的选项
    GNU风格的长选项
默认显示当前终端的开启的相关进程
BSD选项：
    a 显示所有和终端有关的进程
    x 显示和终端无关的进程
    u 显示进程所有者的信息
    k &lt;属性&gt;，排序
     -&lt;属性&gt;，倒序
    o 显示指定属性的信息
    f 显示进程树
    L 显示支持的属性列表
UNIX风格选项：
    -C 显示指定命令列表，单个，可多个
    -L 显示线程
    -e 显示所有进程
    -f 显示的属性更加丰富
    -H 显示子进程和父进程
    -u 显示有效的用户ID
    -U 显示真正的用户ID
    -p 显示指定pid的进程
    --ppid 显示属于pid的子进程

常见组合：
    aux
    -ef
    -eFH
    -eo
    axo

eg:按cpu百分比排序
        ps axo pid,%cpu k %cpu

ps输出属性：
    VSZ：虚拟内存集,线性内存
    RSS：常驻内存集
    STAT:进程状态
        R:running
        S:interruptable sleeping
        D:uninterruptable sleeping
        T:stopped
        Z:zombie
        +:前台进程
        l:多线程进程
        L:内存分页并带锁
        N:低优先级进程
        &lt;:高优先级进程
        s:子进程发起者
        ni:nice值
        pri:priority 优先级
        psr：processor CPU编号
        rtprio：实时优先级        
</code></pre><p><strong>进程优先级</strong></p>
<pre><code>优先级调整：
    静态优先级：100-139
    进程默认启动时的nice值为0，优先级为120
    只有根用户才能降低nice值

    nice -n &lt;优先级&gt; PID
    renice -n &lt;优先级&gt; PID
查看nice优先级(ni参数)
    ps axo pid,comm,ni
</code></pre><p><strong>搜索进程</strong></p>
<pre><code>pgrep命令
搜索进程
选项：
    -U 进程发起者
    -u 进程生效者
    -l 显示进程名
    -t &lt;终端&gt; 显示指定终端运行的进程
    -a 显示完整格式的进程名
    -P &lt;PID&gt; 显示指定进程的子进程
pidof
    pidof &lt;进程名&gt; 显示进程是否正常工作以及显示PID
</code></pre><p><strong>系统工具</strong></p>
<pre><code>uptime命令
    显示当前时间，系统已启动时间，当前在线人数，以及系统平均负载情况(1/5/10)
系统平均负载：
    指在特定时间间隔内运行队列中的平均进程数
通常每个CPU内核的当前活动进程数不大于3,那么系统的性能良好。如果每个CPU内核的任务数大于5，那么此主机的性能有严重问题
如果linux主机是一个双核CPU，当Load Average为6的时候说明机器已经被充分使用
</code></pre><p><strong>进程管理工具</strong><br>top工具：可以实时动态地查看系统的整体运行情况，是一个综合了多方信息监测系统性能和运行信息的实用工具。通过top命令所提供的互动式界面，用热键可以管理。</p>
<pre><code>top命令
    选项：
        -d # 指定刷新时间间隔，默认3秒
        -b 显示所有进程
        -n # 刷新指定次数后退出
        -H 线程模式
    内置选项：
        P 以%CPU排序
        M 以%MEM排序
        T 以占据CPU时长排序
        l 显示uptime信息
        t 显示cpu信息
        m 显示memory信息
        s 修改刷新时间间隔
        k 杀死指定进程
    退出：q
    保存文件:W  
</code></pre><p>htop工具：top的花里胡哨版</p>
<pre><code>htop命令(需安装，使用epel源，花里胡哨的，支持鼠标点击)
    选项：
        -d # 指定刷新时间间隔
        -u &lt;username&gt; 仅显示指定用户的进程
        -s 以指定字段进行排序
</code></pre><h2 id="内存工具"><a href="#内存工具" class="headerlink" title="内存工具"></a>内存工具</h2><p><strong>free命令</strong></p>
<pre><code>功能：
    用来查看内存使用情况的主要命令。和top命令相比,它的优点是使用简单,并且只占用很少的系统资源。
选项：
    -h   人类易读格式
    -b 　以Byte为单位显示内存使用情况。 
    -k 　以KB为单位显示内存使用情况。 
    -m 　以MB为单位显示内存使用情况。
    -g   以GB为单位显示内存使用情况。 
    -o 　不显示缓冲区调节列。 
    -s&lt;间隔秒数&gt; 　持续观察内存使用状况。 
    -t 　显示内存总和列。 
    -V 　显示版本信息
</code></pre><p><strong>iostat命令</strong></p>
<pre><code>功能：
    统计CPU和设备IO信息
    通过iostat方便查看CPU、网卡、tty设备、磁盘、CD-ROM 等等设备的活动情况,    负载信息。
选项：
    -C 显示CPU使用情况
    -d 显示磁盘使用情况
    -k 以 KB 为单位显示
    -m 以 M 为单位显示
    -N 显示磁盘阵列(LVM) 信息
    -n 显示NFS 使用情况
    -p[磁盘] 显示磁盘和分区的情况
    -t 显示终端和CPU的信息
    -x 显示详细信息
    -V 显示版本信息
</code></pre><p><strong>pmap命令</strong></p>
<pre><code>功能：
    提供了进程的内存映射，用于显示一个或多个进程的内存状态
用法：pmap &lt;PID&gt;
选项：
    -x extended显示扩展格式
    -d device显示设备格式
    -q quiet不显示header/footer行
    -V 显示版本信息
</code></pre><p><strong>glances命令</strong></p>
<pre><code>功能：
    远程监视 CPU，平均负载，内存，网络流量，磁盘 I/O，其他处理器 和 文件系统 空间的利用情况。
使用方法：
    C/S模式下运行glances命令
    服务端先开启
        glances -s -B &lt;服务端地址&gt;
    客户端连接进去远程监控服务端
        glances -c &lt;服务端地址&gt;
选项：
    -b：显示网络连接速度 Byte/ 秒
    -B @IP|host ：绑定服务器端 IP 地址或者主机名称
    -c @IP|host：连接 glances 服务器端
    -C file：设置配置文件默认是 /etc/glances/glances.conf 
    -d：关闭磁盘 I/O 模块
    -e：显示传感器温度
    -f file：设置输出文件（格式是 HTML 或者 CSV）
    -m：关闭挂载的磁盘模块
    -n：关闭网络模块
    -p PORT：设置运行端口默认是 61209 
    -P password：设置客户端 / 服务器密码
    -s：设置 glances 运行模式为服务器
    -t sec：设置屏幕刷新的时间间隔，单位为秒，默认值为 2 秒，数值许可范围：1~32767 
    -h : 显示帮助信息
    -v : 显示版本信息

交互式选项：
    h ：显示帮助信息
    q ：离开程序退出
    c ：按照 CPU 实时负载对系统进程进行排序
    m ：按照内存使用状况对系统进程排序
    i ：按照 I/O 使用状况对系统进程排序
    p ：按照进程名称排序
    d ：显示磁盘读写状况 
    w ：删除日志文件
    l ：显示日志
    s ：显示传感器信息
    f ：显示系统信息
    1 ：轮流显示每个 CPU 内核的使用情况（次选项仅仅使用在多核 CPU 系统）
</code></pre><p><strong>vmstat工具</strong></p>
<pre><code>功能：
    用于查看虚拟内存信息
用法：
    vmstat n #  
    n表示刷新时间间隔，#表示扫描次数
选项：
    -s 显示内存的统计数据

所显示参数的含义详解
procs:
    r：可运行（正运行或等待运行）进程的个数，和核心数有关
    b：处于不可中断睡眠态的进程个数(被阻塞的队列的长度)

memory：
    swpd: 交换内存的使用总量
    free：空闲物理内存总量
    buffer：用于buffer的内存总量
    cache：用于cache的内存总量
swap:
    si：从磁盘交换进内存的数据速率(kb/s)
    so：从内存交换至磁盘的数据速率(kb/s)
io：
    bi：从块设备读入数据到系统的速率(kb/s)
    bo: 保存数据至块设备的速率
system：
    in: interrupts  每次CUP的中断次数，包括时间中断
    cs: context switch  进程上下文切换速率
cpu：
    us:Timespent running non-kernel code 用户CPU时间
    sy: Time spent running kernel code   系统CPU时间
    id: Time spent idle                  空闲CUP时间
    wa: Time spent waiting for IO        等待IO CPU时间
    st: Time stolen from a virtual machine 从虚拟机中窃取的时间
</code></pre><p><strong>dstat工具</strong></p>
<pre><code>功能：
    结合了vmstat，iostat，ifstat，netstat以及更多的信息
选项：
    -l ：显示负载统计量
    -m ：显示内存使用率（包括used，buffer，cache，free值）
    -r ：显示I/O统计
    -s ：显示交换分区使用情况
    -t ：将当前时间显示在第一行
    –fs ：显示文件系统统计数据（包括文件总数量和inodes值）
    –nocolor ：不显示颜色（有时候有用）
    –socket ：显示网络统计数据
    –tcp ：显示常用的TCP统计
    –udp ：显示监听的UDP接口及其当前用量的一些动态数据
</code></pre><p><strong>iotop工具</strong></p>
<pre><code>功能：
    一个用来监视磁盘I/O使用状况的top类工具。iotop具有与top相似的UI，其中包括PID、用户、I/O、进程等相关信息，能够观察每个进程的在磁盘中的读写速度
内建选项：
    左右箭头：改变排序方式，默认是按IO排序。
    r：改变排序顺序。
    o：只显示有IO输出的进程。
    p：进程/线程的显示方式的切换。
    a：显示累积使用量。
    q：退出。
选项：
    -o：只显示有io操作的进程
    -b：批量显示，无交互，主要用作记录到文件。
    -n NUM：显示NUM次，主要用于非交互式模式。
    -d SEC：间隔SEC秒显示一次。
    -p PID：监控的进程pid。
    -u USER：监控的进程用户。
</code></pre><p><strong>lsof工具</strong></p>
<pre><code>功能：
    用于查看你进程开打的文件，打开文件的进程，进程打开的端口(TCP、UDP)。找回/恢复删除的文件。是十分方便的系统监视工具，因为 lsof 需要访问核心内存和各种文件，所以需要root用户执行。

用法：lsof [参数][文件]
选项：
    -a &lt;程序的绝对路径&gt;  查看进程被谁使用
    -p &lt;PID&gt; 查看进程使用的文件
    -c &lt;程序名&gt; 查看指定程序打开的文件
    -g  列出GID号进程详情
    -d&lt;文件号&gt; 列出占用该文件号的进程
    +d&lt;目录&gt;  列出目录下被打开的文件
    +D&lt;目录&gt;  递归列出目录下被打开的文件
    -n&lt;目录&gt;  列出使用NFS的文件
    -i&lt;条件&gt;  列出符合条件的进程
    -u  列出UID号进程详情
    -h 显示帮助信息
    -v 显示版本信息
eg:
    lsof -i -n 查看所有的网络连接
    lsof -i ：80 -n 查看80端口被谁占用

恢复删除文件，前提是正在使用的文件
lsof|grep &lt;被删除文件&gt;
cd /proc/&lt;PID&gt;/fd/&lt;n&gt;
cat &gt;  &lt;被删除文件&gt; 
</code></pre><p><strong>kill工具</strong><br>    功能：<br>        常用与杀死进程<br>    用法：kill &lt;信号&gt; <pid><br>    选项：<br>        -l 查看可用信号<br>            表示方法：<br>                数字<br>                全称<br>                简称<br>        -1  不关闭进程且重读配置文件<br>        -2  终止正在运行的进程，相当于crtl+c<br>        -3<br>        -9  强制杀死某程序，但无法杀死再生进程<br>        -15 正常的关闭某程序<br>        -18 继续运行<br>        -19 睡眠<br><strong>killall工具</strong></pid></p>
<pre><code>功能：
    用来结束同名的的所有进程
用法：killall [参数] [进程名]
选项：
    -Z 只杀死拥有scontext 的进程
    -e 要求匹配进程名称
    -I 忽略小写
    -g 杀死进程组而不是进程
    -i 交互模式，杀死进程前先询问用户
    -l 列出所有的已知信号名称
    -q 不输出警告信息
    -s 发送指定的信号
    -v 报告信号是否成功发送
    -w 等待进程死亡
    --help 显示帮助信息
    --version 显示版本显示
</code></pre><p><strong>pkill命令</strong></p>
<pre><code>功能：
    搜索并关闭进程，可以按照进程名杀死进程。pkill和killall应用方法差不多，也是直接杀死运行中的程序；如果您想杀掉单个进程，请用kill来杀掉
选项：
    -o：仅向找到的最小（起始）进程号发送信号；
    -n：仅向找到的最大（结束）进程号发送信号；
    -P：指定父进程号发送信号；
    -g：指定进程组；
    -t：指定开启进程的终端。
</code></pre><hr>
<h2 id="作业管理"><a href="#作业管理" class="headerlink" title="作业管理"></a>作业管理</h2><p><strong>作业相关理论知识</strong></p>
<pre><code>前台作业：通过终端启动，且启动后一直占据终端资源
后台作业：可通过终端启动，但启动后即转入后台运行(释放终端)
    后台停止
    后台运行
让作业转入后台：
    1.运行中的作业： ctrl+z
        转入后台休眠
    2.尚未启动的作业：command &amp;
        将其后台作业呼出到前台
后台作业虽然被送往后台运行，但其依然与终端相关；退出终端，将关闭后台作业。如果希望送往后台后，剥离与终端的关系。
常用到命令：
    bg 停止转运行
    kill -18 停止转运行，后台
    kill -19 运行转停止，后台
</code></pre><p><strong>jobs工具</strong><br>    功能：<br>        用于查看当前终端所有作业</p>
<pre><code>bg [job_num] 将后台休眠中的的程序呼出到前台，ctrl+无法将其终止
fg [job_num] 将后台呼出到前台，crtl+c可将其终止
</code></pre><p><strong>断网时的解决方案，剥离与终端的关系</strong></p>
<pre><code>nohub命令
screen命令
</code></pre><p><strong>并行执行，提高效率</strong></p>
<pre><code>并行执行的三种方法
1.
{ 命令&amp; 命令&amp; }  或者  { 命令 } &amp;
2.
    (命令&amp;);(命令&amp;);(命令&amp;)
3.调用脚本
vi all.sh
    f1.sh&amp;
    f2.sh&amp;
    f3.sh&amp;
</code></pre><hr>
<h2 id="任务计划"><a href="#任务计划" class="headerlink" title="任务计划"></a>任务计划</h2><p><strong>at工具</strong> (不常用)</p>
<pre><code>功能：在一个指定的时间执行一个指定任务，只能执行一次，且需要开启atd进程 
交互式命令
    ctrl+D正常退出at命令
    会生成计划任务文件存放于/var/spool/at
计划任务中标准输出以邮件的方式发送
    写在计划任务里的任务不要有标准输出，防止磁盘被撑满
禁止普通用户使用计划任务
    /etc/at.deny 黑名单，优先级低
    /etc/at.allow 白名单，优先级高
    当不存在黑白名单时，表示只有管理员可以设置计划任务，普通用户将没有权限设置计划任务
用法：at [option] time
    time指定某时某分
选项：
    -m 当指定的任务被完成之后，将给用户发送邮件，即使没有标准输出
    -I atq的别名
    -d atrm的别名
    -v 显示任务将被执行的时间
    -c 打印任务的内容到标准输出
    -V 显示版本信息
    -q&lt;列队&gt; 使用指定的列队
    -f&lt;文件&gt; 从指定文件读入任务而不是从标准输入读入
    -t&lt;时间参数&gt; 以时间参数的形式提交要运行的任
time格式：
    1)HH:MM  02:00
        在今日的HH:MM 进行，若该时刻已过，则明天此时执行任务

    2)HH:MM YYYY-MM-DD   02:00 2016-09-20
        规定在某年某月的某一天的特殊时刻进行该项任务 

    3)HH:MM[am|pm] [Month] [Date]
        表示在某月某日或者明天执行该任务
    04pm March 17
    17:20 tomorrow

    4)HH:MM[am|pm] + number [minutes|hours|days|weeks]
        表示在某个时间点再加几个时间后才进行该项任务
    now + 5 min 
    02pm + 3 days
</code></pre><p><strong>关于进程服务开机自启</strong></p>
<pre><code>eg：atd服务
    centos6中:
        chkconfig --list atd  查看开机是否启动
        service atd status 是否当前是启动状态
        service atd start 启动当前服务
        chkconfig atd on 开机启动
        chkconfig atd off 开机关闭
    centos7中:
        systemctl is-enabled atd  查看开机是否启动
        systemctl status atd  是否当前是启动状态
        systemctl start atd  启动当前服务

eg：防火墙服务
    centos6中：
        chkconfig iptables off 开机关闭

        使用vim编辑/etc/sysconfig/selinux文件,将SELINUX=&lt;&gt;  更改为SELINUX=disable
    centos7中:
        systemctl disable firewalld 开机关闭
        使用vim编辑/etc/sysconfig/selinux文件,将SELINUX=&lt;&gt;  更改为SELINUX=disable

eg:ntpd服务，自动同步时间

    步骤1
    ntpdate &lt;ip&gt;
    步骤2
    /etc/ntp.conf
    server &lt;ip&gt; iburst
    server ntp.aliyun.com iburst
    步骤3
    设置为开启启动ntpd服务
    chkconfig ntpd on
    步骤4
    立即启动ntpd服务
    service ntpd start

eg:chrony服务，centos7中同步时间
    (待补充)
</code></pre><h2 id="cron-周期性计划任务-第2个视频，重点待补充"><a href="#cron-周期性计划任务-第2个视频，重点待补充" class="headerlink" title="cron 周期性计划任务  (第2个视频，重点待补充)"></a>cron 周期性计划任务  (第2个视频，重点待补充)</h2><p><strong>cron所涉及的文件</strong></p>
<pre><code>主程序包：cronie
    包含crontab命令
补充程序包：cronie-anacron

维护任务包：crontabs
    相关文件夹
        /etc/cron.daily 系统每天的计划任务
        /etc/cron.hourly 系统每小时的计划任务
        /etc/cron.weekly 系统每周的计划任务
        /etc/cron.monthly 系统每个月的计划任务
run-part 
    用于调用某个文件夹中的所有计划任务
</code></pre><p><strong>anacron系统</strong>(了解下即可)</p>
<pre><code>辅助性工具，由于关机而没有执行的任务，开机自动检测，未执行的任务，自动补充执行计划任务，centos6以后的版本取消anacron服务，由crond服务管理

适用于笔记本电脑、家用电脑台式机，服务器不用。

centos6中
    清除临时文件的计划任务
    /etc/cron.daily/tmpwatch 
centos7中
    清除临时文件
    使用systemd-tmpfiles-setup服务实现
查看anacron的信息
    rpm -qi cronie-anacron 
查看crontab信息
    rpm -ql crontabs 
守护进程所存放文件夹
    /usr/lib/systemd/system/crond.service
</code></pre><p><strong>系统计划任务的配置文件</strong></p>
<pre><code>/etc/contabs文件 
    定义管理员创建的系统任务计划
    当所执行的任务命令较为复杂时，写成脚本再进行调用
</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#配置文件格式：</span></span><br><span class="line">SHELL=/bin/bash</span><br><span class="line">PATH=/sbin:/bin:/usr/sbin:/usr/bin</span><br><span class="line">MAILTO=root</span><br><span class="line"></span><br><span class="line"><span class="comment"># For details see man 4 crontabs</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Example of job definition:</span></span><br><span class="line"><span class="comment"># .---------------- minute (0 - 59)</span></span><br><span class="line"><span class="comment"># |  .------------- hour (0 - 23)</span></span><br><span class="line"><span class="comment"># |  |  .---------- day of month (1 - 31)</span></span><br><span class="line"><span class="comment"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span></span><br><span class="line"><span class="comment"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span></span><br><span class="line"><span class="comment"># |  |  |  |  |</span></span><br><span class="line"><span class="comment"># *  *  *  *  * user-name  command to be executed</span></span><br><span class="line">30 2 *  * sun root /root/back.sh</span><br></pre></td></tr></table></figure>
<pre><code>/etc/cron.d/目录
    也用于存放计划任务，使计划任务易于管理

cron的日志文件
    /var/log/cron

特殊的时间格式
    @yearly 每年  
        表示 0 0 1 1 *
    @annually 每年
        表示 0 0 1 1 *  
    @monthly 每月
        表示 0 0 1 * *
    @weekly 每星期
        表示 0 0 * * 0
    @daily 每天
        表示 0 0 * * *
    @hourly 每小时
        表示 0 * * * *
    @reboot 下次开机后的时候
        表示 run once after reboot


&quot;@reboot root reboot&quot; 的解决方案
    开机界面 e
    linux16 在最后加入 rd.break
    按 ctrl+x
    mount 查看根的挂载点
    进入相应位置更改配置文件
    重启即可
</code></pre><p><strong>普通用户创建计划任务</strong></p>
<pre><code>crontab工具
功能：
    通过crontab 命令，我们可以在固定的间隔时间执行指定的系统指令或 shell script脚本。时间间隔的单位可以是分钟、小时、日、月、周及以上的任意组合。这个命令非常适合周期性的日志分析或数据备份等工作。创建计划任务
crontab命令
    crontab -e 调出vim编辑器并手动编辑计划任务
    crontab -l 查看当前用户的计划任务
    crontab -l -u &lt;user&gt; 查看指定用户的计划任务
    crontab -r 删除所有计划任务
    crontab -ir 交互式删除指定计划任务
计划任务存放位置
    /var/spool/cron/
计划任务日志文件
    /var/log/cron
使用前添加环境变量，定义使用何种编辑器来编辑计划任务
    EDITOR=vi; export EDITOR
cron的黑白名单
    /etc/cron.deny 黑名单
    /etc/cron.allow 白名单，优先级高于黑名单
</code></pre><p><strong>注意事项</strong></p>
<pre><code>注意：
    计划任务运行结果的标准输出和错误将以邮件的传给相关用户，将导致产生垃圾信息。
解决方案：
    利用重定向将标准输出和错误重定向到垃圾箱中。
    1.command &gt; /dev/null
    2.command &amp;&gt; /dev/null
对于cron任务来讲，%具有特殊用途；如果在命令中要使用%，则需要转义，将%放置于单引号中，则不可用转义。
</code></pre><p><strong>将计划任务精确到秒</strong></p>
<pre><code>sleep命令
    秒级命令
    用法：sleep &lt;n&gt;[时间单位]
    可用时间单位：
        &lt;n&gt;s 秒，默认不用加
        &lt;n&gt;m 分钟
        &lt;n&gt;h 小时
        &lt;n&gt;d 天数
    eg：每20秒执行一次
        cmd1;sleep 20;cmd1;
    eg：每7分钟执行一次
        cmd1;sleep 420;cmd1;
usleep命令 
    微秒级命令
        1000=1毫秒
        1000000=1秒
    eg：0.5秒执行一次
        usleep 500000
</code></pre><hr>
<h2 id="Shell脚本编程进阶"><a href="#Shell脚本编程进阶" class="headerlink" title="Shell脚本编程进阶"></a>Shell脚本编程进阶</h2><pre><code>shell脚本的三种类型：
    顺序执行
    选择执行
    循环执行

选择执行：
    条件选择if语句
        用法：
        1.单分支
            if  &lt;判断条件语句&gt;;then

            fi
        2.双分支
            if  &lt;判断条件语句&gt;;then

            else

            fi
        3.多分支
            if  &lt;判断条件语句&gt;;then

            elif    &lt;判断条件语句&gt;;then

            elif    &lt;判断条件语句&gt;;then

            elif    &lt;判断条件语句&gt;;then

            else

            fi
    条件判断case语句
        用法：
        case &lt;判断条件&gt; in
        &lt;判断条件&gt;)
            echo 
            ;;
        &lt;判断条件&gt;)
            echo 
            ;;
        &lt;判断条件&gt;)
            echo
            ;;
        .
        .
        .
        *)
            echo
        esac
循环执行    
    for循环语句
        用法：
            for &lt;变量名&gt; in &lt;列表&gt;;do
                循环体
            done
    while循环语句(判断条件为真则这行循环)
        用法：
            while [判断条件];do
                循环体
            done
    until循环语句(判断条件为假则执行循环)
        用法：
            until [判断条件];do
                循环体
            done
</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">脚本实例：使用<span class="keyword">if</span>语句判断分数</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"please input score: "</span> num </span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$num</span> =~ ^[[:digit:]]+$ ]];<span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">"<span class="variable">$num</span>"</span> -ge 0 -a <span class="string">"<span class="variable">$num</span>"</span> -lt 60 ];<span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"not good"</span></span><br><span class="line">    <span class="keyword">elif</span> [ <span class="string">"<span class="variable">$num</span>"</span> -ge 60 -a <span class="string">"<span class="variable">$num</span>"</span> -lt 80  ];<span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"good"</span></span><br><span class="line">    <span class="keyword">elif</span> [ <span class="string">"<span class="variable">$num</span>"</span> -ge 80 -a <span class="string">"<span class="variable">$num</span>"</span> -le 100  ];<span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"very good"</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"please input a right score"</span></span><br><span class="line">    <span class="keyword">fi</span>  </span><br><span class="line"><span class="keyword">else</span>        </span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"please input a number"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">脚本实例：使用<span class="keyword">case</span>语句实现菜单选择</span><br><span class="line">cat &lt;&lt;EOF</span><br><span class="line">1:lanmian</span><br><span class="line">2:huimian</span><br><span class="line">3:daoxiaomian</span><br><span class="line">4:juanbing</span><br><span class="line">5:mifan</span><br><span class="line">EOF</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"please input your choose number: "</span> num                                </span><br><span class="line"><span class="keyword">case</span> <span class="variable">$num</span> <span class="keyword">in</span></span><br><span class="line">1)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"lamian price is 15"</span>;;</span><br><span class="line">2)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"huimian price is 18"</span>;;</span><br><span class="line">3)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"daoxiaomian price is 13"</span>;;</span><br><span class="line">4)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"juanbing price is 10"</span>;;</span><br><span class="line">5)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"mifan price is 2"</span>;;</span><br><span class="line">*)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"no list"</span></span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">脚本实例：网址扫描器</span><br><span class="line">&gt; /app/iplist.log</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"please input netid: "</span> net</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..254&#125;;<span class="keyword">do</span></span><br><span class="line">    &#123; <span class="keyword">if</span> ping -c1 -w1 <span class="variable">$net</span>.<span class="variable">$i</span> &amp;&gt; /dev/null ;<span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$net</span>.<span class="variable">$i</span> is up</span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$net</span>.<span class="variable">$i</span> &gt; /app/iplist.log</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        ehco <span class="variable">$net</span>.<span class="variable">$i</span> is down</span><br><span class="line">      <span class="keyword">fi</span> &#125; &amp;</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">wait</span></span><br></pre></td></tr></table></figure>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/09/02/第七周-进程和计划任务以及shell编程进阶/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-第五周-RAID" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/15/第五周-RAID/">RAID知识点以及命令dd、du、df</a>
    </h1>
  

        
        <a href="/2018/08/15/第五周-RAID/" class="archive-article-date">
  	<time datetime="2018-08-15T12:00:00.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-08-15</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="命令dfdd、du"><a href="#命令dfdd、du" class="headerlink" title="命令dfdd、du"></a>命令dfdd、du</h2><p>df命令</p>
<pre><code>查看设备占用空间的工具
用法:
选项:
    -H 以1000为单位，(卖U盘的厂商都是这样)
    -h 以1024为单位,人类易读
    -T 显示文件系统
    -i 节点使用情况
    -P 格式对其
</code></pre><p>du命令 </p>
<pre><code>列出并查看所有文件夹的大小
选项：
    -h 人类易读
    -s 将文件夹的大小汇总
    --max-depth=1 显示一级目录下的文件夹
    --max-depth=0 显示目录本身
</code></pre><p>dd命令</p>
<pre><code>转换或复制文件
用法：dd if=/path/from/SRC of=/path/to/DEST bs=  count=
bs=表示复制单元大小，count表示复制多少个bs
修复老旧硬盘，消磁
dd if=/dev/sda of=/dev/sda
</code></pre><h2 id="RAID"><a href="#RAID" class="headerlink" title="RAID"></a>RAID</h2><p>多个磁盘合成一个”阵列”来提供更好的性能、冗余，或者两者都提供。<br>RAID成服务器标配，内置RAID卡</p>
<p>提高IO能力<br>    磁盘并行读写<br>提高耐用性<br>磁盘冗余来实现<br>级别：多块磁盘组织在一起的工作方式有所不同<br>RAID实现的方式：<br>    外接式磁盘阵列：通过扩展卡提供适配能力<br>    内接式RAID：主板集成RAID控制器<br>        安装OS前在BIOS里配置<br>    软件RAID：通过OS实现</p>
<p>RAID防止物理损坏</p>
<p>存储方式：将文件分为若干块chunk，将chunk均匀的存储在每个硬盘上</p>
<p><strong>RAID级别</strong></p>
<p>RAID 0 （条带集）</p>
<pre><code>磁盘利用率100%
性能好，容错性差，服务器上一般不用
存储方式：将文件分为若干块chunk，将chunk均匀的存储在每个硬盘上   
chunk
</code></pre><p>RAID 1  （镜像）</p>
<pre><code>磁盘利用率50%
读写性能有所下降
有容错能力
最少硬盘数：2，2N
自动备份
</code></pre><p>已被淘汰：RAID 4 (带校验位的条带集)<br>已被淘汰：JBOD</p>
<p>RAID 5 (带1个校验位的条带集)</p>
<pre><code>磁盘利用率(n-1/n)%
读写性能提升
容错性：允许坏1个硬盘,并将进入降级状态
降级状态：
    写入数据的速度变慢
    读入数据的速度几乎没影响
最少需要硬盘：3，3+
</code></pre><p>RAID 6 (带2个校验位的条带集)</p>
<pre><code>磁盘利用率(n-2/n)%
读写性能提升
容错性：允许坏2个硬盘，并进入降级状态
降级状态：
    写入数据的速度变慢
    读入数据的速度几乎没影响
最少需要硬盘：4，4+
</code></pre><p>RAID 7 </p>
<pre><code>可以理解为一个独立存储计算机，自带有操作系统和管理工具，可以独立运行，理论上性能最高的RAID模式
</code></pre><p>RIAD 01</p>
<pre><code>容错率低
最少磁盘数：4，4+
</code></pre><p>RAID 10 </p>
<pre><code>读写性能提升
容错率高
最少磁盘数：4，4+
</code></pre><p>RAID 50</p>
<p><strong>mdadm命令</strong></p>
<pre><code>选项：
-C &lt;设备名&gt;   自定义创建RAID设备名
    /dev/md0、/dev/md1、/dev/md2等等
-a &lt;yes|no&gt;    是否初始化RAID设备
-l&lt;n&gt;   n表示所创建的RAID级别
-n&lt;n&gt; &lt;分区&gt; n表示分区成员个数，以及分区名字
-D  &lt;设备名&gt;  查看RAID信息
-Ds &lt;设备名&gt;  查看RAID的UUID
-x&lt;n&gt; &lt;设备名&gt; n表示空白设备(非活动分区)的数量
</code></pre><p><strong>软RIAD的创建实验系列</strong><br>实验：RAID 0</p>
<pre><code>准备分区或者硬盘,记得给分区添加fd标签
创建RAID
mdadm -C /dev/md0 -a yes -l0 -n4 /dev/sd{b,c,d,e}1
将uuid写入配置文件中
mdadm -Ds /dev/md0 &gt; /etc/mdadm.conf
创建文件系统
mkfs.xfs /dev/md0
创建挂载点
mkdir /mnt/raid0
配置fstab文件
使配置文件生效
mount -a
</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 ~]<span class="comment"># lsblk           </span></span><br><span class="line">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda      8:0    0  120G  0 disk </span><br><span class="line">├─sda1   8:1    0    1G  0 part /boot</span><br><span class="line">├─sda2   8:2    0   50G  0 part /</span><br><span class="line">├─sda3   8:3    0   20G  0 part /app</span><br><span class="line">├─sda4   8:4    0    1K  0 part </span><br><span class="line">└─sda5   8:5    0    2G  0 part [SWAP]</span><br><span class="line">sdb      8:16   0    8G  0 disk </span><br><span class="line">└─sdb1   8:17   0    1G  0 part </span><br><span class="line">sdc      8:32   0    6G  0 disk </span><br><span class="line">└─sdc1   8:33   0    1G  0 part </span><br><span class="line">sdd      8:48   0    4G  0 disk </span><br><span class="line">└─sdd1   8:49   0    1G  0 part </span><br><span class="line">sde      8:64   0    2G  0 disk </span><br><span class="line">└─sde1   8:65   0    1G  0 part </span><br><span class="line">[root@Souler7 ~]<span class="comment"># mdadm -C /dev/md0 -a yes -l0 -n4 /dev/sd&#123;b,c,d,e&#125;1  </span></span><br><span class="line">mdadm: Defaulting to version 1.2 metadata</span><br><span class="line">mdadm: array /dev/md0 started.</span><br><span class="line">[root@Souler7 ~]<span class="comment"># mdadm -D /dev/md0  </span></span><br><span class="line"></span><br><span class="line">/dev/md0:</span><br><span class="line">           Version : 1.2</span><br><span class="line">     Creation Time : Sat Aug 18 19:21:14 2018</span><br><span class="line">        Raid Level : raid0</span><br><span class="line">        Array Size : 4186112 (3.99 GiB 4.29 GB)</span><br><span class="line">      Raid Devices : 4</span><br><span class="line">     Total Devices : 4</span><br><span class="line">       Persistence : Superblock is persistent</span><br><span class="line"></span><br><span class="line">       Update Time : Sat Aug 18 19:21:14 2018</span><br><span class="line">             State : clean </span><br><span class="line">    Active Devices : 4</span><br><span class="line">   Working Devices : 4</span><br><span class="line">    Failed Devices : 0</span><br><span class="line">     Spare Devices : 0</span><br><span class="line"></span><br><span class="line">        Chunk Size : 512K</span><br><span class="line"></span><br><span class="line">Consistency Policy : none</span><br><span class="line"></span><br><span class="line">              Name : Souler7.localdomain:0  (<span class="built_in">local</span> to host Souler7.localdomain)</span><br><span class="line">              UUID : 59d6abd0:ca5d529b:0a58fb7c:c8a5dfdc</span><br><span class="line">            Events : 0</span><br><span class="line"></span><br><span class="line">    Number   Major   Minor   RaidDevice State</span><br><span class="line">       0       8       17        0      active sync   /dev/sdb1</span><br><span class="line">       1       8       33        1      active sync   /dev/sdc1</span><br><span class="line">       2       8       49        2      active sync   /dev/sdd1</span><br><span class="line">       3       8       65        3      active sync   /dev/sde1</span><br><span class="line">[root@Souler7 ~]<span class="comment"># mdadm -Ds /dev/md0 &gt; /etc/mdadm.conf</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># cat /etc/mdadm.conf</span></span><br><span class="line">ARRAY /dev/md0 metadata=1.2 name=Souler7.localdomain:0 UUID=59d6abd0:ca5d529b:0a58fb7c:c8a5dfdc</span><br><span class="line">[root@Souler7 ~]<span class="comment"># mkfs.xfs /dev/md0</span></span><br><span class="line">meta-data=/dev/md0               isize=512    agcount=8, agsize=130816 blks</span><br><span class="line">         =                       sectsz=512   attr=2, projid32bit=1</span><br><span class="line">         =                       crc=1        finobt=0, sparse=0</span><br><span class="line">data     =                       bsize=4096   blocks=1046528, imaxpct=25</span><br><span class="line">         =                       sunit=128    swidth=512 blks</span><br><span class="line">naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</span><br><span class="line"><span class="built_in">log</span>      =internal <span class="built_in">log</span>           bsize=4096   blocks=2560, version=2</span><br><span class="line">         =                       sectsz=512   sunit=8 blks, lazy-count=1</span><br><span class="line">realtime =none                   extsz=4096   blocks=0, rtextents=0</span><br><span class="line">[root@Souler7 ~]<span class="comment"># lsblk</span></span><br><span class="line">NAME    MAJ:MIN RM  SIZE RO TYPE  MOUNTPOINT</span><br><span class="line">sda       8:0    0  120G  0 disk  </span><br><span class="line">├─sda1    8:1    0    1G  0 part  /boot</span><br><span class="line">├─sda2    8:2    0   50G  0 part  /</span><br><span class="line">├─sda3    8:3    0   20G  0 part  /app</span><br><span class="line">├─sda4    8:4    0    1K  0 part  </span><br><span class="line">└─sda5    8:5    0    2G  0 part  [SWAP]</span><br><span class="line">sdb       8:16   0    8G  0 disk  </span><br><span class="line">└─sdb1    8:17   0    1G  0 part  </span><br><span class="line">  └─md0   9:0    0    4G  0 raid0 </span><br><span class="line">sdc       8:32   0    6G  0 disk  </span><br><span class="line">└─sdc1    8:33   0    1G  0 part  </span><br><span class="line">  └─md0   9:0    0    4G  0 raid0 </span><br><span class="line">sdd       8:48   0    4G  0 disk  </span><br><span class="line">└─sdd1    8:49   0    1G  0 part  </span><br><span class="line">  └─md0   9:0    0    4G  0 raid0 </span><br><span class="line">sde       8:64   0    2G  0 disk  </span><br><span class="line">└─sde1    8:65   0    1G  0 part  </span><br><span class="line">  └─md0   9:0    0    4G  0 raid0 </span><br><span class="line">[root@Souler7 ~]<span class="comment"># lsblk -f</span></span><br><span class="line">NAME    FSTYPE    LABEL                 UUID                                 MOUNTPOINT</span><br><span class="line">sda                                                                          </span><br><span class="line">├─sda1  xfs                             0969a307-2d09-4c7d-b13d-6aa550635363 /boot</span><br><span class="line">├─sda2  xfs                             c074ae1d-45ec-4214-a9a1-af4357b03745 /</span><br><span class="line">├─sda3  xfs                             551335e1-2a4e-4b36-a2bb-3197f391b6c3 /app</span><br><span class="line">├─sda4                                                                       </span><br><span class="line">└─sda5  swap                            62f3e665-d832-444f-8217-f8713f5228a7 [SWAP]</span><br><span class="line">sdb                                                                          </span><br><span class="line">└─sdb1  linux_rai Souler7.localdomain:0 59d6abd0-ca5d-529b-0a58-fb7cc8a5dfdc </span><br><span class="line">  └─md0 xfs                             b8f25a84-c016-4005-9581-c13c99dc33db </span><br><span class="line">sdc                                                                          </span><br><span class="line">└─sdc1  linux_rai Souler7.localdomain:0 59d6abd0-ca5d-529b-0a58-fb7cc8a5dfdc </span><br><span class="line">  └─md0 xfs                             b8f25a84-c016-4005-9581-c13c99dc33db </span><br><span class="line">sdd                                                                          </span><br><span class="line">└─sdd1  linux_rai Souler7.localdomain:0 59d6abd0-ca5d-529b-0a58-fb7cc8a5dfdc </span><br><span class="line">  └─md0 xfs                             b8f25a84-c016-4005-9581-c13c99dc33db </span><br><span class="line">sde                                                                          </span><br><span class="line">└─sde1  linux_rai Souler7.localdomain:0 59d6abd0-ca5d-529b-0a58-fb7cc8a5dfdc </span><br><span class="line">  └─md0 xfs                             b8f25a84-c016-4005-9581-c13c99dc33db </span><br><span class="line">[root@Souler7 ~]<span class="comment"># mdadm -Ds /dev/md0 &gt; /etc/mdadm.conf</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># mkfs.xfs /dev/md0</span></span><br><span class="line">meta-data=/dev/md0               isize=512    agcount=8, agsize=130816 blks</span><br><span class="line">         =                       sectsz=512   attr=2, projid32bit=1</span><br><span class="line">         =                       crc=1        finobt=0, sparse=0</span><br><span class="line">data     =                       bsize=4096   blocks=1046528, imaxpct=25</span><br><span class="line">         =                       sunit=128    swidth=512 blks</span><br><span class="line">naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</span><br><span class="line"><span class="built_in">log</span>      =internal <span class="built_in">log</span>           bsize=4096   blocks=2560, version=2</span><br><span class="line">         =                       sectsz=512   sunit=8 blks, lazy-count=1</span><br><span class="line">realtime =none                   extsz=4096   blocks=0, rtextents=0</span><br><span class="line">[root@Souler7 ~]<span class="comment"># lsblk</span></span><br><span class="line">NAME    MAJ:MIN RM  SIZE RO TYPE  MOUNTPOINT</span><br><span class="line">sda       8:0    0  120G  0 disk  </span><br><span class="line">├─sda1    8:1    0    1G  0 part  /boot</span><br><span class="line">├─sda2    8:2    0   50G  0 part  /</span><br><span class="line">├─sda3    8:3    0   20G  0 part  /app</span><br><span class="line">├─sda4    8:4    0    1K  0 part  </span><br><span class="line">└─sda5    8:5    0    2G  0 part  [SWAP]</span><br><span class="line">sdb       8:16   0    8G  0 disk  </span><br><span class="line">└─sdb1    8:17   0    1G  0 part  </span><br><span class="line">  └─md0   9:0    0    4G  0 raid0 </span><br><span class="line">sdc       8:32   0    6G  0 disk  </span><br><span class="line">└─sdc1    8:33   0    1G  0 part  </span><br><span class="line">  └─md0   9:0    0    4G  0 raid0 </span><br><span class="line">sdd       8:48   0    4G  0 disk  </span><br><span class="line">└─sdd1    8:49   0    1G  0 part  </span><br><span class="line">  └─md0   9:0    0    4G  0 raid0 </span><br><span class="line">sde       8:64   0    2G  0 disk  </span><br><span class="line">└─sde1    8:65   0    1G  0 part  </span><br><span class="line">  └─md0   9:0    0    4G  0 raid0 </span><br><span class="line">[root@Souler7 ~]<span class="comment"># lsblk -f</span></span><br><span class="line">NAME    FSTYPE    LABEL                 UUID                                 MOUNTPOINT</span><br><span class="line">sda                                                                          </span><br><span class="line">├─sda1  xfs                             0969a307-2d09-4c7d-b13d-6aa550635363 /boot</span><br><span class="line">├─sda2  xfs                             c074ae1d-45ec-4214-a9a1-af4357b03745 /</span><br><span class="line">├─sda3  xfs                             551335e1-2a4e-4b36-a2bb-3197f391b6c3 /app</span><br><span class="line">├─sda4                                                                       </span><br><span class="line">└─sda5  swap                            62f3e665-d832-444f-8217-f8713f5228a7 [SWAP]</span><br><span class="line">sdb                                                                          </span><br><span class="line">└─sdb1  linux_rai Souler7.localdomain:0 59d6abd0-ca5d-529b-0a58-fb7cc8a5dfdc </span><br><span class="line">  └─md0 xfs                             b8f25a84-c016-4005-9581-c13c99dc33db </span><br><span class="line">sdc                                                                          </span><br><span class="line">└─sdc1  linux_rai Souler7.localdomain:0 59d6abd0-ca5d-529b-0a58-fb7cc8a5dfdc </span><br><span class="line">  └─md0 xfs                             b8f25a84-c016-4005-9581-c13c99dc33db </span><br><span class="line">sdd                                                                          </span><br><span class="line">└─sdd1  linux_rai Souler7.localdomain:0 59d6abd0-ca5d-529b-0a58-fb7cc8a5dfdc </span><br><span class="line">  └─md0 xfs                             b8f25a84-c016-4005-9581-c13c99dc33db </span><br><span class="line">sde                                                                          </span><br><span class="line">└─sde1  linux_rai Souler7.localdomain:0 59d6abd0-ca5d-529b-0a58-fb7cc8a5dfdc </span><br><span class="line">  └─md0 xfs                             b8f25a84-c016-4005-9581-c13c99dc33db </span><br><span class="line">[root@Souler7 ~]<span class="comment"># mkdir /mnt/raid0</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># blkid /dev/md0</span></span><br><span class="line">/dev/md0: UUID=<span class="string">"b8f25a84-c016-4005-9581-c13c99dc33db"</span> TYPE=<span class="string">"xfs"</span> </span><br><span class="line">[root@Souler7 ~]<span class="comment"># vim /etc/fstab </span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># df</span></span><br><span class="line">Filesystem     1K-blocks    Used Available Use% Mounted on</span><br><span class="line">/dev/sda2       52403200 4193080  48210120   9% /</span><br><span class="line">devtmpfs          483096       0    483096   0% /dev</span><br><span class="line">tmpfs             498988       0    498988   0% /dev/shm</span><br><span class="line">tmpfs             498988    8744    490244   2% /run</span><br><span class="line">tmpfs             498988       0    498988   0% /sys/fs/cgroup</span><br><span class="line">/dev/sda3       20961280   32944  20928336   1% /app</span><br><span class="line">/dev/sda1        1038336  157968    880368  16% /boot</span><br><span class="line">tmpfs              99800      28     99772   1% /run/user/0</span><br><span class="line">[root@Souler7 ~]<span class="comment"># mount -a</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># df</span></span><br><span class="line">Filesystem     1K-blocks    Used Available Use% Mounted on</span><br><span class="line">/dev/sda2       52403200 4193080  48210120   9% /</span><br><span class="line">devtmpfs          483096       0    483096   0% /dev</span><br><span class="line">tmpfs             498988       0    498988   0% /dev/shm</span><br><span class="line">tmpfs             498988    8744    490244   2% /run</span><br><span class="line">tmpfs             498988       0    498988   0% /sys/fs/cgroup</span><br><span class="line">/dev/sda3       20961280   32944  20928336   1% /app</span><br><span class="line">/dev/sda1        1038336  157968    880368  16% /boot</span><br><span class="line">tmpfs              99800      28     99772   1% /run/user/0</span><br><span class="line">/dev/md0         4175872   33072   4142800   1% /mnt/raid0</span><br><span class="line">[root@Souler7 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<p>实验：RAID 5</p>
<pre><code>创建RAID
mdadm -C /dev/md5 -a yes -l5 -n3 -x1 /dev/sd{b,c,d,}1 /dev/sda7
查看RAID信息
mdadm -D /dev/md5
cat /proc/mdstat
将配置写入文件
mdadm -Ds /dev/md5 &gt; /ect/mdadm.conf
创建文件系统
mkfs.xfs /dev/md5
创建挂载点
mkdir /mnt/raid5
配置fstab
    略
使配置文件生效
mount -a
</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 ~]<span class="comment"># mdadm -C /dev/md5 -a yes -l5 -n3 -x1 /dev/sd&#123;b,c,d&#125;1 /dev/sde1</span></span><br><span class="line">mdadm: Defaulting to version 1.2 metadata</span><br><span class="line">mdadm: array /dev/md5 started.</span><br><span class="line">[root@Souler7 ~]<span class="comment"># mdadm -D</span></span><br><span class="line">mdadm: No devices given.</span><br><span class="line">[root@Souler7 ~]<span class="comment"># mdadm -D /dev/md5</span></span><br><span class="line">/dev/md5:</span><br><span class="line">           Version : 1.2</span><br><span class="line">     Creation Time : Sat Aug 18 20:20:55 2018</span><br><span class="line">        Raid Level : raid5</span><br><span class="line">        Array Size : 2093056 (2044.00 MiB 2143.29 MB)</span><br><span class="line">     Used Dev Size : 1046528 (1022.00 MiB 1071.64 MB)</span><br><span class="line">      Raid Devices : 3</span><br><span class="line">     Total Devices : 4</span><br><span class="line">       Persistence : Superblock is persistent</span><br><span class="line"></span><br><span class="line">       Update Time : Sat Aug 18 20:21:01 2018</span><br><span class="line">             State : clean </span><br><span class="line">    Active Devices : 3</span><br><span class="line">   Working Devices : 4</span><br><span class="line">    Failed Devices : 0</span><br><span class="line">     Spare Devices : 1</span><br><span class="line"></span><br><span class="line">            Layout : left-symmetric</span><br><span class="line">        Chunk Size : 512K</span><br><span class="line"></span><br><span class="line">Consistency Policy : resync</span><br><span class="line"></span><br><span class="line">              Name : Souler7.localdomain:5  (<span class="built_in">local</span> to host Souler7.localdomain)</span><br><span class="line">              UUID : 48af101b:c9fe64dc:947299a3:44564504</span><br><span class="line">            Events : 18</span><br><span class="line"></span><br><span class="line">    Number   Major   Minor   RaidDevice State</span><br><span class="line">       0       8       17        0      active sync   /dev/sdb1</span><br><span class="line">       1       8       33        1      active sync   /dev/sdc1</span><br><span class="line">       4       8       49        2      active sync   /dev/sdd1</span><br><span class="line"></span><br><span class="line">       3       8       65        -      spare   /dev/sde1</span><br><span class="line">[root@Souler7 ~]<span class="comment"># mdadm -Ds /dev/md5 &gt; /etc/mdadm.conf</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># mkfs.xfs /dev/md5</span></span><br><span class="line">meta-data=/dev/md5               isize=512    agcount=8, agsize=65408 blks</span><br><span class="line">         =                       sectsz=512   attr=2, projid32bit=1</span><br><span class="line">         =                       crc=1        finobt=0, sparse=0</span><br><span class="line">data     =                       bsize=4096   blocks=523264, imaxpct=25</span><br><span class="line">         =                       sunit=128    swidth=256 blks</span><br><span class="line">naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</span><br><span class="line"><span class="built_in">log</span>      =internal <span class="built_in">log</span>           bsize=4096   blocks=2560, version=2</span><br><span class="line">         =                       sectsz=512   sunit=8 blks, lazy-count=1</span><br><span class="line">realtime =none                   extsz=4096   blocks=0, rtextents=0</span><br><span class="line">[root@Souler7 ~]<span class="comment"># mkdir /mnt/raid5</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># df</span></span><br><span class="line">Filesystem     1K-blocks    Used Available Use% Mounted on</span><br><span class="line">/dev/sda2       52403200 4193028  48210172   9% /</span><br><span class="line">devtmpfs          483096       0    483096   0% /dev</span><br><span class="line">tmpfs             498988       0    498988   0% /dev/shm</span><br><span class="line">tmpfs             498988    8736    490252   2% /run</span><br><span class="line">tmpfs             498988       0    498988   0% /sys/fs/cgroup</span><br><span class="line">/dev/sda3       20961280   32944  20928336   1% /app</span><br><span class="line">/dev/sda1        1038336  157968    880368  16% /boot</span><br><span class="line">tmpfs              99800      28     99772   1% /run/user/0</span><br><span class="line">[root@Souler7 ~]<span class="comment"># vim /etc/fstab </span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># mount -a</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># df</span></span><br><span class="line">Filesystem     1K-blocks    Used Available Use% Mounted on</span><br><span class="line">/dev/sda2       52403200 4193324  48209876   9% /</span><br><span class="line">devtmpfs          483096       0    483096   0% /dev</span><br><span class="line">tmpfs             498988       0    498988   0% /dev/shm</span><br><span class="line">tmpfs             498988    8736    490252   2% /run</span><br><span class="line">tmpfs             498988       0    498988   0% /sys/fs/cgroup</span><br><span class="line">/dev/sda3       20961280   32944  20928336   1% /app</span><br><span class="line">/dev/sda1        1038336  157968    880368  16% /boot</span><br><span class="line">tmpfs              99800      28     99772   1% /run/user/0</span><br><span class="line">/dev/md5         2082816   33072   2049744   2% /mnt/raid5</span><br><span class="line">[root@Souler7 ~]<span class="comment"># lsblk -f</span></span><br><span class="line">NAME    FSTYPE            LABEL                 UUID                                 MOUNTPOINT</span><br><span class="line">sda                                                                                  </span><br><span class="line">├─sda1  xfs                                     0969a307-2d09-4c7d-b13d-6aa550635363 /boot</span><br><span class="line">├─sda2  xfs                                     c074ae1d-45ec-4214-a9a1-af4357b03745 /</span><br><span class="line">├─sda3  xfs                                     551335e1-2a4e-4b36-a2bb-3197f391b6c3 /app</span><br><span class="line">├─sda4                                                                               </span><br><span class="line">└─sda5  swap                                    62f3e665-d832-444f-8217-f8713f5228a7 [SWAP]</span><br><span class="line">sdb                                                                                  </span><br><span class="line">└─sdb1  linux_raid_member Souler7.localdomain:5 48af101b-c9fe-64dc-9472-99a344564504 </span><br><span class="line">  └─md5 xfs                                     6095f832-6e1b-4a8a-9e92-4c186a6b03be /mnt/raid5</span><br><span class="line">sdc                                                                                  </span><br><span class="line">└─sdc1  linux_raid_member Souler7.localdomain:5 48af101b-c9fe-64dc-9472-99a344564504 </span><br><span class="line">  └─md5 xfs                                     6095f832-6e1b-4a8a-9e92-4c186a6b03be /mnt/raid5</span><br><span class="line">sdd                                                                                  </span><br><span class="line">└─sdd1  linux_raid_member Souler7.localdomain:5 48af101b-c9fe-64dc-9472-99a344564504 </span><br><span class="line">  └─md5 xfs                                     6095f832-6e1b-4a8a-9e92-4c186a6b03be /mnt/raid5</span><br><span class="line">sde                                                                                  </span><br><span class="line">└─sde1  linux_raid_member Souler7.localdomain:5 48af101b-c9fe-64dc-9472-99a344564504 </span><br><span class="line">  └─md5 xfs                                     6095f832-6e1b-4a8a-9e92-4c186a6b03be /mnt/raid5</span><br><span class="line">sr0     iso9660           CentOS 7 x86_64       2018-05-07-12-53-47-00               </span><br><span class="line">[root@Souler7 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<p><strong>删除软RAID设备：</strong></p>
<pre><code>取消挂载
umount &lt;设备名&gt;
停止设备
mdadm -S &lt;设备名&gt;
删除raid的配置文件
rm -f /etc/mdadm.conf
删除fstab中的相关配置信息
清除RAID信息
mdadm --zero-superblock    &lt;raid的成员&gt;
</code></pre><p><strong>mdadm命令的其他用法</strong></p>
<pre><code>测试速度
dd if=/dev/zero of=/dev/md0/f1 bs=1M count=1024 conv=fdatasync
停止设备
mdadm -S &lt;raid设备名&gt;
激活设备
mdamd -As &lt;raid设备名&gt;
清除raid信息
mdadm --zero-superblock /dev/sd{b,c,d,e}1
模拟/dev/sde1设备损坏
mdadm &lt;raid设备名&gt; -f /dev/sde1
删除raid成员sde1
mdadm &lt;raid设备名&gt; -r /dev/sde1
加入raid成员sde1
mdadm &lt;raid设备名&gt; -a /dev/sde1
扩展RAID容量
mdadm -G &lt;raid设备名&gt; -n 5 -a &lt;新增的设备名&gt;

注意：在为raid增加容量的时候，需要同步不同的文件系统需要用到不用的命令
同步xfs文件系统
    xfs_growfs &lt;挂载点&gt;
    xfs_growfs /mnt/raid5
同步ext文件系统
    resize2fs &lt;raid设备名&gt;
    resize2fs /dev/md5
</code></pre>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/08/15/第五周-RAID/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-第四周-磁盘相关知识以及分区管理和挂载" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/12/第四周-磁盘相关知识以及分区管理和挂载/">磁盘相关知识以及分区管理和挂载</a>
    </h1>
  

        
        <a href="/2018/08/12/第四周-磁盘相关知识以及分区管理和挂载/" class="archive-article-date">
  	<time datetime="2018-08-12T14:00:00.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-08-12</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="DAY-12"><a href="#DAY-12" class="headerlink" title="DAY 12"></a>DAY 12</h1><h2 id="认识磁盘"><a href="#认识磁盘" class="headerlink" title="认识磁盘"></a>认识磁盘</h2><p><strong>CHS和LBA</strong></p>
<pre><code>CHS模式
采用24bit位寻址
 其中前10位表示cylinder，中间8位表示head，后面6位表示sector
 最大寻址空间8GB

LBA模式
 LBA是一个整数，通过转换成CHS格式完成磁盘具体寻址
 LBA采用48个bit位寻址
 最大寻址空间128PB

注意：由于CHS寻址方式的寻址空间大概在8GB以内，所以在磁盘容量小于大概8G时，可以使用CHS寻址方式或是LBA寻址方式；在磁盘容量大于大概8GB时，则只能使用LBA寻址方式
</code></pre><p><strong>磁盘的相关术语</strong></p>
<pre><code>track 磁道 10bit 2^10=1024个磁道 0-1023
sector 扇区 6bit 2^6=64个扇区 0-63  每个扇区固定大小512个字节
head 磁头数    8bit 2^8=256 
cylinder 柱面 
</code></pre><p><strong>磁盘分区的优点</strong></p>
<pre><code>优化io性能
提高修复速度
采用不同的文件系统
隔离系统和程序
磁盘配额

注意：没有分区就没有文件系统，没有文件系统就没有文件，用户通过文件系统来管理文件。
</code></pre><p><strong>两种分区：mbr与gpt</strong></p>
<pre><code>MBR分区 ,CHS

使用32位表示扇区数，分区不超过2T
按柱面分区
    0磁道0扇区：512bytes
        446 bytes：boot loader （存放主引导程序）
        64 bytes：分区表 （破坏会导致分区丢失）
            16 bytes：识别分区
                引导标志：
                    80活动分区
                    00非活动分区
        2 bytes：标记位55aa （破坏会导致系统识别不出分区）
    4个主分区：3个主分区和一个扩展分区

GPT分区
    支持更大的分区
</code></pre><hr>
<h2 id="管理分区"><a href="#管理分区" class="headerlink" title="管理分区"></a>管理分区</h2><pre><code>列出块设备
lsblk 
查看块设备的文件系统
lsblk -f
查看磁盘的分区表
     fdisk -l /dev/sdb 
     查看内存中的分区表
     ls /dev/sdb* 
     cat /proc/partitions
     lsblk
     centos 6 中同步内存与磁盘的分区表
         partx -a /dev/sda 读取硬盘加所有的分区
             partx -d --nr &lt;sda后跟着的编号&gt; /dev/sda 删除分区

     centos 7 中同步内存与磁盘的分区表
         partprobe （centos6中无效）
         kpartx -a /dev/sda 
</code></pre><p><strong>fdisk命令</strong> ：创建MBR分区</p>
<pre><code>用法：fdisk [option] /dev/sdb
     交互式选项：
         m 列出所有选项
         P 显示当前硬盘分区
         d 删除分区
         q 直接退出规划
         v 校验分区
         t 更改分区标签id
         n 创建一个新分区
             p 创建主分区
             e 创建扩展分区
                 l 逻辑分区
             +2G  分两个G的大小
         w 结束规划，保存，分区生效
         q 结束规划，不保存退出
option：
     -c 关闭dos报警
     -u 指定以何种单位分区
     -l 列出硬盘信息
</code></pre><p><strong>gdisk命令</strong>：创建GPT分区以及管理MBR和GPT分区</p>
<pre><code>用法：gdisk /dev/sdb
     交互式选项：
         ? 列出所有选项
         p 显示当前硬盘分区
         d 删除分区
         q 直接退出规划
         v 校验分区是否正确
         n 创建一个新分区
             输入分区编号：1-128
             输出分区大小：+1G
             code编号默认即可
         w 结束规划，分区生效
</code></pre><p><strong>parted命令</strong>： 实时生效的命令</p>
<pre><code>parted /dev/sdb mkladel gpt/msdos 创建一个GPT/MBR的分区
parted /dev/sdb mkpart primary 1 100  创建一个99m
parted /dev/sdb print 打印分区信息
parted /dev/sdb rm 分区号  删除指定分区
</code></pre><hr>
<h2 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h2><p>分区后必须创建文件系统，提供文件管理的功能</p>
<pre><code>查看系统支持的文件系统
ls /lib/modules/`uname -r`/kernel/fs
</code></pre><p><strong>文件系统的类型：</strong></p>
<pre><code>linux文件系统：
    ext2：适用于/boot分区
     ext3：新增了日志功能，能够帮助系统从非正常关机导致的数据丢失恢复。它通常被用作通用的文件系统，但修复速度慢
     ext4：是ext文件系统的最新版。提供了很多新的特性，包括纳秒级的时间戳、创建和使用巨型文件（16TB）、最大1EB的文件系统，以及修复速度的提升
     xfs：支持最大8EB的文件系统
     btrfs：Oracle 发布，还属于测试阶段，企业中几乎不用此文件系统
     reiserfs：本来是世界最优秀的文件系统，但作者被抓了..就此没落
     swap：模拟内存的文件系统
光盘：iso9660
网络文件系统：NFS、CIFS
集群文件系统：GFS2、OCFS2
分布式文件系统：ceph、fastdfs、moosefs、mofilefs
</code></pre><p><strong>文件系统分类：</strong></p>
<pre><code>日志型文件系统：ext3、ext4、xfs
非日志型文件系统：ext2、vfat 
查看文件系统是否已加载到内存中使用
     lsmod
内核中的模块：ext4、xfs、vfat
用户空间的管理工具：
     mkfs.ext4,
     mkfs.xfs,
     mkfs.vfat
linux的虚拟文件系统：VFS
查看当前支持的文件系统：
cat /proc/filesystems
</code></pre><p><strong>管理文件系统的相关命令</strong></p>
<pre><code>查看超级块备份的位置
     dumpe2fs &lt;分区&gt;
查看ext系列文件系统的元数据
     tune2fs -l  &lt;分区&gt;
查看UUID
     blkid
添加分区acl权限
    tune2fs -o acl &lt;分区&gt;
删除分区acl权限
    tune2fs -o ^acl &lt;分区&gt;
删除日志功能
    tune2fs -O ^has_journal &lt;分区&gt;
增加日志功能
    tune2fs -O has_journal &lt;分区&gt;
更改最大挂载次数为10
     tune2fs -c 10 &lt;分区&gt;
更改当前挂载次数为5
     tune2fs -C 5 &lt;分区&gt;
更改检查时间为一个月
     tune2fs -i 1m &lt;分区&gt;
更改文件系统的UUID
     tune2fs -U `uuidgen` &lt;分区&gt;
</code></pre><p><strong>mkfs命令</strong>： 格式化分区，并创建文件系统，生成UUID</p>
<pre><code>用法：
    mkfs.ext4 &lt;分区&gt;
    mkfs.xfs &lt;分区&gt;
选项：
    -L 添加卷标
</code></pre><p><strong>mke2fs命令：</strong> 专门管理ext系列的工具</p>
<pre><code>用法：mke2fs -t &lt;ext系统类型&gt;
选项：
-b 指定block大小 1024，2048，4096
-t ext2/ext3/ext3 指定管理文件系统
-i # 为数据块中每#个字节创建一个inode
-I # 一个inode记录占用的磁盘空间大小，128--4096
-N # 指定分区中创建#个inode
-m # 改变预留给管理员使用空间的百分比
-L 添加卷标
</code></pre><p><strong>fsck命令：</strong> 文件系统检查</p>
<pre><code>fsck -y &lt;分区&gt;    自动修复ext系列的文件系统，前提需要取消挂载
</code></pre><h2 id="分区、文件以及文件夹挂载"><a href="#分区、文件以及文件夹挂载" class="headerlink" title="分区、文件以及文件夹挂载"></a>分区、文件以及文件夹挂载</h2><p><strong>mount命令</strong></p>
<pre><code>mount基本用法：
    mount &lt;分区&gt; &lt;挂载点&gt;
    mount &lt;文件&gt; &lt;挂载点&gt;
    mount &lt;文件夹&gt; &lt;挂载点&gt;

    查看挂载信息
         cat /etc/mtab = mount
    使用UUID挂载设备（推荐使用该方法，不易出错）
         mount &lt;UUID=..&gt; &lt;挂载点&gt;
    使用卷标挂载设备
         mount LABEL=&quot;&lt;卷标&gt;&quot; &lt;挂载点&gt;
    加卷标 
         e2label &lt;设备&gt; &lt;卷标名&gt;

其他用法：

     使用UUID查找分区
         findfs  UUID=&quot;&quot; /blkid -U UUID
     使用卷标名查找分区
         findfs LABEL=&quot;&quot; /blkid -L LABEL
     不更新mtab （在centos7中不起作用）
         mount -n
         cat /proc/mounts 查看隐藏挂载
     只读方式挂载
         mount -r
     不影响用户使用的同时重新挂载，并更改权限为可读可写
         mount -o remount，rw  &lt;挂载点&gt;
     不影响用户使用的同时重新挂载，并更改权限为只读
         mount -o remount，ro  &lt;挂载点&gt;
     将文件挂载到文件夹中，df无法查看文件的挂载，mount可查看，类似于软链接和硬链接的综合体
         mount -B &lt;文件&gt; &lt;挂载点&gt;
     查看正在访问挂载点的进程
         losf &lt;挂载点&gt;
         fuser -v &lt;挂载点&gt;
     杀死正在访问挂载点的进程（慎用）
         fuser -km &lt;挂载点&gt;
     查看挂载情况
         findmnt &lt;挂载点&gt; 
     重新挂载，并设置挂载点不更新atime，除非使用touch
         mount -o remount,noatime &lt;挂载点&gt;
     重新挂载，并设置挂点的目录不更新atime
         nount -o remount，nodiratime
    使fstab配置文件生效
        mount -a 
     重新挂载，并禁用挂载点所有的可执行程序
         mount -o remount，noexec
     重新挂载，并禁用设备文件
         mount -o remount，nodev
     重新挂载，并禁用suid权限
         mount -o remount，nosuid
     重新挂载，并添加acl权限
         mount -o remount，acl &lt;挂载点&gt;

    注意：
        一个设备可以挂载到多个挂载点
        一个文件夹同一时间只能挂载一个设备
         当挂载点的文件夹最好为空


关于loop设备
     在centos6中，将文件挂载到文件夹上，需要消耗一个loop，默认有8个loop
     手动添加loop设备：
         vim /boot/grub/grub.conf
         寻找行(kernel ...rhgb quiet)，并在该行的末端加入 max_loop=100
         (kernel ...rhgb quiet max_loop=100)保存退出并重启，重启后loop设备会增加到100个。

     在centos6中，将普通文件模拟为设备文件，然后挂到文件夹中
    步骤如下
         touch /app/p1
         mkdit /mnt/p1
         dd if=/dev/zero of=/app/p1 bs=1M count=100
         mkfs.ext4 /app/p1  //将文件作为文件系统
         mount -o loop /app/p1 /mnt/p1  //将文件挂载到文件夹中,此时/app/p1可以作为一个u盘
</code></pre><p><strong>fstab文件：</strong></p>
<pre><code>格式：
    1.分区挂载

        设备名or(UUID)    挂载点      文件系统的类型      相关配置   备份     检查次序
        /dev/sdb1       /mnt/sdb1  ext3           defaults   0      0
    2.文件挂载

        设备名or(UUID)    挂载点      文件系统的类型      相关配置   备份 检查次序
        /app/p1           /mnt/p1    ext4           loop       0      0
    3.文件夹挂载

        设备名or(UUID)    挂载点      文件系统的类型      相关配置   备份     检查次序
        /etc            /mnt/etc   none           bind       0      0

 defaults:默认选项
     rw,suid,dev,exec,auto,nouser,async

注意：永久保存挂载点，需编辑/etc/fstab
        寻找fstab文件中含有auto的挂载项，使其立即生效，自动挂载
             mount -a （仅首次挂载有效） 

当救援模式下，文件不可写时，重新挂载根，即可解决
     mount -o remount,rw /

注意：UUID项最好不要出现引号

    fstab内
     当挂载点出错不影响系统启动，centos6与7一样
     当设备出错，centos6与7有差别
     centos6中，
         当设备出错，导致系统无法启动时，更改/etc/fstab下文件系统的检查次序为0，跳过检查（centos7不可用
     centos7中，
         设备出错将导致系统无法启动，只能通过注释掉出错设备，来恢复系统的正常启动
</code></pre><p><strong>实验：将/home下的数据迁移到一个新的分区</strong></p>
<pre><code>建立一个新的分区
    fdisk /dev/sda
为新建分区创建文件系统
    mkfs.xfs /dev/sda6
在mnt目录下新建挂载点
    mkdir /mnt/home
将分区挂载到挂载点
    mount /dev/sda6 /mnt/home
将当前系统更改为单用户模式，保证维护状态，会断网
    init 1
保证数据完整拷贝情况下，拷贝数据至挂载点中
    cp -av /home/* /mnt/home
编辑fstab文件，新增行，使得系统启动时自动将分区挂在到home目录下
      UUID=..(此处省略一大串字符) /home     xfs   defaults    0 0
使配置文件fstab立刻生效
    mount -a
确认home成功挂载后，将原来的home数据删除，不删则会称为垃圾文件，建议删除
    umount /home      取消挂载点
    umount /mnt/home  取消挂载点
    rm -rf /home/*    删除原来的文件
    mount -a          重新挂载
</code></pre><p><strong>创建swap分区</strong></p>
<pre><code>新建分区
    fdisk &lt;分区&gt;
    注意：在交互式创建分区的过程中，t-&gt;l-&gt;82,最好是加个标签，方便识别，不加也无妨
格式化并创建swap文件系统
    mkswap  &lt;分区&gt;
将swap写进fstab文件中
    默认配置defaults,若想改变优先级,&apos;defaults&apos;改为&apos;pri=10&apos;即可更改优先级的值为10
使fstab中的swap分区生效（此处mount -a 无法使swap分区生效）
    swapon -a 
查看swap内存配置
    swapon -s 或者 cat /proc/swaps
    文件名         文件类型          大小     使用情况  优先级（值越大优先级越高）
    Filename      Type            Size     Used     Priority
   /dev/sda5    partition       2097148   6144     -1
禁用指定的swap分区
    swapoff &lt;分区&gt;
删除swap分区
    需要先禁用swap分区
    再修改fstab
    最后通过fdisk将分区彻底删除
</code></pre><p><strong>实验：将文件作为swap使用</strong></p>
<pre><code>先创建一个大小为1G的文件
    dd if=/dev/zero of=/swapfile bs=1G count=1
创建swap文件系统
    mkswap /swapfile
将配置写到fstab文件中
    过程略
更改权限
    chmod 600 /swapfile
使fstab文件配置生效
    swapon -a
</code></pre><p><strong>关于ISO的挂载与制作</strong></p>
<pre><code> 将光盘挂载到文件夹中
     创建文件夹
         mkdir /mnt/cdrom
     配置fstab
     设备名or(UUID)    挂载点        文件系统的类型      相关配置   备份     检查次序
    /dev/cdrom      /mnt/cdrom   iso9660          defaults    0      0
    使配置生效，挂载光盘
        mount -a

创建iso文件
    cp /dev/sr0 /app/centos7.iso

挂载iso
    创建文件夹
        mkdir /mnt/iso
    将iso挂载到文件中
        mount /app/centos7.iso /mnt/iso

将etc文件夹制作成iso文件
    mkisofs -r -o ect.iso /etc/

弹出光驱
    eject
</code></pre><p><strong>关于USB</strong></p>
<pre><code>查看usb设备
    lsusb
强制把内存中的数据写到u盘中
    sync，多敲几次，防止写入失败
</code></pre><p>知识穿插：</p>
<pre><code>超级块记录了分区的元数据，超级块会有备份，分别存于1,3,5,7,9五个块组中
</code></pre>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/08/12/第四周-磁盘相关知识以及分区管理和挂载/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-第四周-rmp命令、yum命令、编译安装实例" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/09/第四周-rmp命令、yum命令、编译安装实例/">rmp命令、yum命令、编译安装实例</a>
    </h1>
  

        
        <a href="/2018/08/09/第四周-rmp命令、yum命令、编译安装实例/" class="archive-article-date">
  	<time datetime="2018-08-09T12:00:00.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-08-09</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="DAY-11"><a href="#DAY-11" class="headerlink" title="DAY 11"></a>DAY 11</h1><h2 id="软件包管理之-rpm命令"><a href="#软件包管理之-rpm命令" class="headerlink" title="软件包管理之 rpm命令"></a>软件包管理之 rpm命令</h2><p><strong>软件运行环境和编译</strong></p>
<pre><code>不同的库对应不同的API接口:
    开发应用程序常常需要调用库文件
    使用对应的API接口调用对应的库
    POSIX：通用的API接口

不同系统的ABI接口不同:
    应用程序想在某个系统上运行，需要有对应的ABI接口，符合系统的接口
    linux与Windows ABI接口不同
    linux ：ELF
    Windows：PE

程序源代码的处理过程：
    预处理：
        把必要的数据简单处理，删除注释信息
    编译： 静态编译或动态编译
        语法检查
        把文本文件转化为汇编语言
    汇编：
        将汇编语言生成二进制的机器码
    链接：静态链接或动态链接
        由于调用库，把调用的程序库与程序关联起来，已形成一个完整的二进制程序
</code></pre><p><strong>库文件</strong>  </p>
<pre><code>查看命令所调用的库
    ldd &lt;二进制程序路径&gt;
加载库文件
    ldconfig
显示已缓存的所有可用库文件以及文件路径
    /sbin/ldconfig -p
映射关系
    配置文件：/etc/ld.so.conf
            /etc/ld.so.conf.d/*.conf
    缓存文件：/etc/ldconfig.so.cache
</code></pre><p><strong>RPM包管理员</strong> (RPM Package Manager)</p>
<p>功能：将编译好的应用程序的各组成文件打包一个或几个程序包文件，从而方便快捷的实现程序包的安装、卸载、升级、查询、校验、数据库维护。</p>
<pre><code>RPM软件包分为:二进制包、源代码包和delta包三种。

    &lt;二进制包&gt;可以直接安装在计算机中：
        二进制应用程序的组成部分：二进制文件、库文件、配置文件、帮助文件。
    &lt;源代码包&gt;将会有RPM自动编译、安装。
        源代码包经常以src.rpm作为后缀名

包文件组成：
    RPM包内的文件
    RPM的元数据：
        名称，版本，依赖性，描述等
        安装或卸载时运行的脚本
</code></pre><p>RPM数据库：/var/lib/rpm </p>
<pre><code>该数据库很重要，包含以下信息：
    安装软件包名称及版本
    依赖关系
    功能说明
    包安装后生成的各文件路径级校验码
</code></pre><p>rpm命令：</p>
<pre><code>    用法：rpm [option] [参数]
    常用： rpm -ivh &lt;rpm软件包&gt;
    选项：
        -i/--install 安装软件包
            -i --test 测试安装，但不执行安装
            -i --nodeps 忽略依赖性，安装后也不能用，需补全依赖环境，用于强制安装和强制卸载
            -i --replacepkgs  强制重装软件
            -i --replacefiles  强制重装替换文件
        -v 显示安装过程
        -vv 更加详细的安装过程
        -U 升级软件包，不存在旧版本则安装软件包，不常用
        -F 升级软件包，不存在旧版本则不做任何操作，不常用
        -e 删除软件
            --allmatches 所有
            --nodeps 忽略依赖性卸载
        -h 安装进度，以#号显示进度条
        -q 查看信息
            -ql 查看软件包的文件列表
                -qlp 针对未安装的程序包，查看文件列表
            -qa 查看当前系统已安装的软件包
            -qf 查看包版本，查找rpm数据库
            -qc 查看配置文件
            -qd 查看man帮助文档文件

            --whatrequires 查询包的依赖性 
            --changelog 查看版本更新日志
            --script 查看程序包自带脚本
        --oldpackage 降级
        --force 强制安装
        -V 校验

    参数：
        软件包

rpm公钥：pubkey
    导入本地公钥：rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7

rpm的缺点：不能解决包的依赖性

注意：一般用-i升级内核；-U、-F用于升级但不常用
</code></pre><hr>
<h2 id="软件安装工具之-yum命令"><a href="#软件安装工具之-yum命令" class="headerlink" title="软件安装工具之 yum命令"></a>软件安装工具之 yum命令</h2><p><strong>yum：底层依赖于rpm，主要用于解决依赖性</strong></p>
<p>使用yum安装软件的前提：需要相应的yum仓库和yum源</p>
<p><strong>yum相关配置文件：</strong></p>
<pre><code>yum配置文件
    /etc/yum.conf
yum日志文件 
    /var/log/yum.log
yum仓库配置文件
    /etc/yum.repos.d/*.repo
</code></pre><p><strong>自定义yum源：将任目录作为yum源</strong></p>
<pre><code>creatrepo &lt;路径&gt;
eg：将当前目录作为yum源
    createrepo .
</code></pre><p><strong>创建yum仓库</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">在/etc/yum.repos.d目录下，创建&lt;任意名字&gt;.repo文件,格式如下</span><br><span class="line">    [仓库名]</span><br><span class="line">    name=仓库名.db</span><br><span class="line">    baseurl=file://本地yum源</span><br><span class="line">            http://网络yum源</span><br><span class="line">    gpgcheck=0</span><br></pre></td></tr></table></figure></p>
<p>yum命令：</p>
<pre><code>用法：yum [option].. &lt;软件名&gt;
常用：
    yum install &lt;软件名&gt;  安装软件
    yum remove  &lt;软件名&gt;  卸载软件
选项：
    yum repolist 显示yum仓库列表
    yum hisroty    查看安装历史列表
        info n 查看安装的软件
        undo n 撤销安装
        redo n 重新执行n历史行为
    yum clean all 清理yum缓存
    yum install -q -y 静默安装
    yum provides 查看文件由哪个包提供
    yum search 搜索
    yum grouplist  包组列表
    yum groupinstall 安装包组
    yum groupremove 卸载包组
    yum groupinfo 查看包组信息
    yum deplist  查看依赖文件
    yum reinstall  重装
    yum info 查看包信息
</code></pre><p>其他用法：安装工具yum-utils</p>
<pre><code>repoquery -ql 查找未安装好的软件包中包含的文件列表，基于yum仓库的工具 yum-utils
</code></pre><hr>
<h2 id="编译安装软件：-程序包编译可以实现功能定制以及路径指定"><a href="#编译安装软件：-程序包编译可以实现功能定制以及路径指定" class="headerlink" title="编译安装软件： 程序包编译可以实现功能定制以及路径指定"></a>编译安装软件： 程序包编译可以实现功能定制以及路径指定</h2><p><strong>编译安装软件实例</strong></p>
<pre><code>eg：编译安装httpd软件

1.准备环境
安装编译httpd所需工具
    develoment tools
    apr-devel
    apr-util-devel
    gcc
    openssl-devel
2.了解软件
进入源码包解压后的目录中，寻找3个文件
    README      介绍软件的文件
    INSTALL     安装教程的文件
    ./configure 可执行文件

3.编译安装。
执行命令: ./configure --prefix=路径  &amp;&amp; make &amp;&amp; make install  ,等待编译安装完成
    补充：
        ./configure有许多的选项
        默认选项：--prefix=路径 不分文别类，所有东西存放在同一目录
        其他选项数量太多，而且还不会使用，不一一列出

4.添加PATH变量
进入指定的安装目录下的bin/apachectl
    将路径添加PATH变量并重定向到文件中：
    echo &apos;PATH=&lt;路径&gt;:$PATH&apos;  &gt;  /etc/profile.d/httpd.sh   
    使配置文件生效：
    source /etc/profile.d/http.sh
    启动http服务：
    apachectl start  
    可查看端口80是否已开启：
    ss -ntl 
至此，http的编译安装以及使用完成。
</code></pre><p>额外的知识穿插：</p>
<pre><code>救援模式下：切换根目录为/mnt/sysimage/
    --root=/mnt/sysimage/
    chroot /mnt/sysimage/ 

恢复被删除的二进制文件，可能会造成文件属性丢失，与源文件属性不同
    rpm2cpio |cpio -tv 预览文件
    rpm2cpio |cpio -idv ./usr/bin/tree  取出指定文件，
    cp .usr/bin/tree /usr/bin/

扫描磁盘命令
    echo &apos;- - -&apos; &gt; /sys/class/scsi_host/host0/scan
</code></pre>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/08/09/第四周-rmp命令、yum命令、编译安装实例/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-第四周-文件查找以及打包压缩" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/07/第四周-文件查找以及打包压缩/">文件查找以及打包压缩</a>
    </h1>
  

        
        <a href="/2018/08/07/第四周-文件查找以及打包压缩/" class="archive-article-date">
  	<time datetime="2018-08-07T12:00:00.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-08-07</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="DAY-10"><a href="#DAY-10" class="headerlink" title="DAY 10"></a>DAY 10</h1><h2 id="文件查找"><a href="#文件查找" class="headerlink" title="文件查找"></a>文件查找</h2><p>查找文件的方法有两种：  </p>
<pre><code>非实时查找--locate命令  
实时查找--find命令(常用)
</code></pre><p><strong>locate命令</strong></p>
<pre><code>原理：通过索引数据库完成文件查找
    /var/lib/mlocate/mlocate.db（二进制文件）
更新数据库：
    updatedb
特点：
    查找速度快
    模糊查找
    非实时查找
    搜索的文件是全路径，不仅仅是文件名
    只能搜索用户具备读取和执行权限的目录

用法：locate &lt;文件名&gt;
选项：
    -i 不区分大小写搜索
    -n # 只列举#个
    -r 使用正则表达式

eg：搜索名称或路径中带有&quot;conf&quot;的文件
        locate conf
    使用REGEX(正则表达式)来搜索&quot;.conf&quot;结尾的文件
        locate -r &apos;\.conf$&apos;
</code></pre><p><strong>find命令</strong></p>
<pre><code>原理：通过遍历指定路径完成文件查找  

工作特点：  
    查找速度略慢
    精确查找
    实时查找
    只能搜索用户具备读取和执行权限的目录

用法：
    find [选项].. [查找路径] [查找条件] [处理动作]
    该命令默认是递归搜索

    查找路径：指定具体目标路径，默认当前目录

    查找条件：指定的查找标准，可以是文件名、大小、类型、权限等标准进行；默认找出指定路径下的所有文件

    处理动作：对符合条件的文件做操作，默认输出至屏幕

查找条件：

    搜索层级：
        -maxdepth n 搜索指定最大层级，n表示层数
        -mindepth n 搜索指定最小层级，n表示层数

    根据文件名和inode查找：
        -regex          使用正则搜索文件  
        -name           精确查找，支持通配符
        -i              忽略大小写
        -inum n         按节点编号查找文件，n表示节点编号
        -samefilename   查找相同的文件，节点编号相同的文件
        -links n        搜索软链接数为n的文件

    根据属主属组查找：
        -user &lt;用户名&gt;   查找指定用户名属主的文件 
        -group &lt;组&gt;      查找指定组名属组的文件
        -uid &lt;id&gt;       查找指定uid号属主的文件
        -gid &lt;id&gt;       查找指定gid号属组的文件
        -nogroup        查找没有属组的文件 
        -nouser         查找没有属主的文件

    根据文件类型查找：
        -type f 查找普通文件
        -type d 查找目录文件
        -type l 查找符号链接文件
        -type s 查找套接字文件
        -type b 查找块设备文件
        -type c 查找字符设备文件
        -type p 查找管道文件
        空文件或目录
            find -empty 
        查找空文件
            find -type f -empty

    根据文件大小查找
        -size &lt;文件大小&gt; 
            eg：-size -6M  (0M,5M]
                -size  6M  (5M,6M]
                -size +6M  (6M,∞)

    根据时间戳查找
        以天为单位：
            -atime ±#
            eg：-atime -# [0,#)  
                -atime  # (#,#+1)  
                -atime +# [#+1,∞]
            -mtime
            -ctime
        以分钟为单位：
            -amin ±#
            -mmin ±#
            -cmin ±#

    根据权限查找
        -perm[/|-]MODE
            MODE:精确权限匹配
            /MODE:任何一类(u,g,o)对象的权限中只要能一位匹配即可
            -MODE 每一类对象都必须同时拥有指定权限,至少            
                -644
                110 100 100 ，1检查位，0不检查
                find /data -perm -222 -ls
        find -perm 755 会匹配权限模式恰好是755的文件
        只要当任意人有写权限是，find -perm +222就会匹配
        只有当每个人都有写权限是，find -perm -222才会匹配
        只有当其他人(other)有写权限是，find -perm -002才会匹配

    组合条件：
        与:-a
        或:-o
        非：-not,!
    德摩根定律：
        (非A)或(非B)=非(A且B)
        (非A)且(非B)=非(A或B)

处理动作：
    -print 默认的处理动作，显示至屏幕
    -ls  类似于对查找到的文件执&quot;ls -l&quot; 显示详细信息
    -delete 删除查找到的文件
    -fls 用于长信息重定向到文件中
    -ok command {} \;   对查找到的每个文件执行由command指定的命令，对于每个文件执行命令之前，都会交互式要求用户确认 {}表示搜索到的文件
    -exec command {}\； 对查找的每个文件执行由command指定的命令，
</code></pre><p><strong>Gnome搜索工具</strong> </p>
<pre><code>位置-&gt;搜索文件...
图形化搜索工具，可搜索
    命令
    内容
    用户/组群
    大小
    修改时间
</code></pre><p><strong>xargs</strong> 传命令参数  </p>
<pre><code>touch {1..1000000}.txt  此命令参数过大无法创建文件  但是可以通过管道使用xargs将参数传给touch来实现          
eg：
    echo {1..1000000}.txt|xargs touch
</code></pre><hr>
<h2 id="压缩与打包"><a href="#压缩与打包" class="headerlink" title="压缩与打包"></a>压缩与打包</h2><p><strong>压缩与解压工具：</strong> compress、gzip、bzip2、xz</p>
<pre><code>compress: 压缩包格式file.Z
    用法：compress 
    选项：
        compress -d &lt;file.Z&gt;   解压缩，不保留源文件
        uncompress &lt;file.Z&gt;    等同-d解压缩
        compress -c &lt;file.Z&gt;   结果输出至标准输出，不删除源文件
        compress -c &apos;file&apos; &gt; &apos;file.Z&apos;  保留源文件，并生成压缩包
        zcat &apos;file.Z&apos; &gt; &apos;file&apos;  重定向解压缩

gzip/gunzip: 压缩包格式file.gz
    用法：gzip [option].. file..
    选项：
        gzip -d &lt;file.gz&gt;  解压缩，不保留源文件
        gunzip &lt;file.gz&gt;  等同-d解压
        gzip -c &lt;file.gz&gt; 结果输出至标准输出，不删除源文件
        -#：1-9，指定压缩比，值越大压缩比越大
        zcat &apos;file.gz&apos; &gt; &apos;file&apos;   重定向解压缩
    eg：(待添加)

bzip2: 压缩包格式file.bz2
    用法：bzip2 [option].. file..
    选项：
        bzip2 -k &lt;file&gt;   压缩文件，并保留源文件
        bzip2 -d &lt;file.bz2&gt; 解压缩，不保留源文件
        bunzip2 &lt;file.bz2&gt; 等同于-d解压缩
        -#：1-9，指定压缩比，值越大压缩比越大
        bzcat  &apos;file.bz2&apos;  &gt;  &apos;file&apos;   重定向解压缩
    eg：(待添加)

xz: 压缩包格式file.gz
    用法：xz [option].. file..
    选项：
        xz -k &lt;file&gt; 压缩文件，并保留源文件
        xz -d &lt;file.xz&gt; 解压缩,不保留源文件
        -#：1-9，指定压缩比，值越大压缩比越大
        unxz &lt;file.xz&gt;  等同于-d解压缩
        xzcat file.xz &gt; file 重定向解压缩，以及查看内容
    eg：(待添加)

注意：压缩工具中压缩比越高，越损耗cpu性能
</code></pre><p><strong>打包工具：</strong> zip与tar</p>
<pre><code>zip：压缩包格式file.zip  (个人认为不常用，稍作了解即可)
    用法：zip [option] file.zip file..将多个文件或者文件夹打包压缩，压缩比不高
    选项：
        zip -r file.zip file1 file2  递归处理将指定目录下的所有文件和子目录一并打包，且将绝对路径改为相对路径
        unzip file.zip 解压缩文件
        unzip -t file.zip 检查压缩包的完整性
        unzip -v file.zip 只查看压缩包内容，不解压缩
        unzip -j file.zip 将所有子目录中的文件全部解压到第一级目录



tar：linux最常用的打包程序，通常以.tar结尾 （tape archive 磁带归档）

    用法：tar [option].. file..  
        注意：tar本身不具有压缩功能，他是调用压缩功能实现的
    选项：
        -c 建立新的压缩文件
        -x 从压缩文件中提取文件
        -v 显示解压过程
        -f 指定压缩文件
        -Z 支持compress解压文件
        -j 支持bzip2解压文件
        -z 支持gz解压文件
        -t 显示压缩文件的内容
        -W 确认压缩文件的正确性
        -A 新增压缩文件到已存在的压缩
    常用组合
        tar cvf 文件.tar 文件
        -p  显示打包过程
        -cvf  打包
        -tvf  预览解包
        -xvf  解包
        jcvf  打包成.tar.bz2
        jxvf  将.tar.bz2解包
        zcvf  打包成.tar.gz
        zxvf  将.tar.gz解包
        Zcvf  打包成.tar.Z
        Zxvf  将.tar.Z解包
        Jcvf  打包成.tar.xz
        Jxvf  将.tar.xz解包

    -X 指定不打包的文件列表,选项后跟文件
        -X file
    -T 指定要打包的文件列表，选项后跟文件
        -T file
</code></pre><p><strong>切割文件的工具：</strong></p>
<pre><code>splist命令：将一个大文件分割成很多个小文件，提高可读性，生成日志等
    用法：split [option] [size] file
    选项：
        -b size  
        -d  切割后的文件使用数字后缀命名 
        -a n  指定后缀的长度为n
        -l n  根据文件的行数来分割文件，每个小文件n行
        合并文件            
        cat 被切割过的所有文件 &gt; 合并后的文件名
</code></pre><p><strong>重定向打包工具：</strong></p>
<pre><code>cpio命令

    通过重定向的方式将文件进行打包备份，还原恢复的工具，他可以解压以&apos;.cpio&apos;或&apos;.tar&apos;结尾的文件
    功能：从归档中复制文件，或者复制文件到归档中
    用法：
        cpio [option] &gt; 文件名或者设备名
        cpio [option] &lt; 文件名或者设备名
    选项：
        -o 将文件拷贝打包成文件或者将文件输出到设备上
        -i 解包，将打包文件解压或将设备上的备份还原到系统
        -t 预览，查看文件内容或者输出到设备上的文件内容
        -v 显示打包过程中的文件名称
        -d 解包生成目录，在cpio还原时，自动建立的目录
        -c 一种较新的存储方式
    eg：将/etc目录备份：
        find  ./etc print|cpio -ov &gt;etc.cpio
    eg: 内容预览
        cpio -tv &lt; etc.cpio
    eg: 解包文件
        cpio -idv &lt; etc.cpio
</code></pre>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/08/07/第四周-文件查找以及打包压缩/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-第三周-shell脚本编程基础知识" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/05/第三周-shell脚本编程基础知识/">shell脚本编程基础知识</a>
    </h1>
  

        
        <a href="/2018/08/05/第三周-shell脚本编程基础知识/" class="archive-article-date">
  	<time datetime="2018-08-05T08:00:00.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-08-05</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="DAY-8-9"><a href="#DAY-8-9" class="headerlink" title="DAY 8-9"></a>DAY 8-9</h1><h2 id="编程基础"><a href="#编程基础" class="headerlink" title="编程基础"></a>编程基础</h2><p><strong>程序:为了更好的处理数据</strong>  </p>
<pre><code>程序:算法+数据结构  
数据:是程序的核心   
数据结构：数据在计算集中的类型和组织方式  
算法： 处理数据的方式  
</code></pre><p><strong>程序编程风格：</strong>  </p>
<pre><code>过程式：以指令为中心，数据服务于指令（shell编程基于过程式）  
对象式：以数据为中心，（开发语言推崇使用）  
</code></pre><p>shell程序：提供了编程能力，解释执行的过程<br>shell编程：过程式、解释执行  </p>
<p><strong>程序的执行方式：</strong></p>
<pre><code>运行二进制指令
    编程语言：人于计算机之间交互的语言
低级编程语言：
    机器：二进制的0和1的序列，称为机器指令
    汇编：艰涩难懂，贴近硬件
高级编程语言：
    编译型语言：
        英文句子--&gt;编译器--&gt;编译成机器代码--&gt;执行 （时间短）
        典型：C
    解释型语言：
        英文句子--&gt;执行--&gt;解释器--&gt;解释成机器代码（每次执行都要有一个解释的过程，时间长）
        典型：shell、python、perl
Java的程序比较特殊： 转换中间代码（处理数据运行于虚拟机），屏蔽底层的接口，实现（一次编译到处运行）
</code></pre><p><strong>编程的基本概念：</strong></p>
<pre><code>编程逻辑处理方式：
    顺序循环
    循环执行
    选择执行
编程的基本结构：
    各种系统命令的组合
    数据存储：变量、数组
    表达式：a+b
    语句：if
</code></pre><hr>
<h2 id="脚本格式"><a href="#脚本格式" class="headerlink" title="脚本格式"></a>脚本格式</h2><p>—shell脚本：包含一些命令或声明，并符合一定格式的文本文件</p>
<p><strong>格式要求：</strong> 首行shebang机制<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash  使用bash</span></span><br><span class="line"><span class="meta">#!/bin/csh   使用csh</span></span><br><span class="line"><span class="comment">#!/bin/python 使用python    //格式要求：首行shebang机制，命名与所用解释器有关</span></span><br></pre></td></tr></table></figure></p>
<p><strong>shell脚本的用途：</strong> 减少重复操作</p>
<pre><code>自动化常用命令
执行系统管理和故障排除
创建简单的应用程序
处理文本或文件
</code></pre><p><strong>创建shell脚本：</strong><br>    第一步：使用文本编辑器来创建文本文件<br>      脚本内容的第一行必须是shebang机制#!/bin/bash  ，后续可以跟注释，注释以#开头，用于提醒其他人<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">eg：vim test.sh  //创建文本</span><br><span class="line"><span class="meta">#!/bin/bash  </span></span><br><span class="line"><span class="comment">#the first foot book   //此处为注释</span></span><br><span class="line">hellowold</span><br></pre></td></tr></table></figure></p>
<p>第二步：运行脚本<br>        运行的方法有很多种 </p>
<pre><code>直接运行解释器，将脚本作为解释器程序的参数运行  
    bash test.sh  
给予执行权限，将脚本放入$PATH变量中的所指定的路径  
    chmod +x test.sh  
    test.sh  
亦可用绝对路径运行脚本  
    /path/to/test  
</code></pre><p>注意：脚本属于外部命令，外部命令执行需要通过$PATH变量所在路径去搜索命令  </p>
<pre><code>将当前目录作为PATH变量中的路径(基于安全，此方法少用为好) 
    PATH=.:$PATH
        &apos;.&apos;表示当前目录，&apos;:&apos;为了保留之前的变量，用冒号隔开，将此变量加入配置文件中，并且source使配置文件生效即可  
不常用的脚本运行方式：因为会改变环境变量
    . test.sh      
    source test.sh 
</code></pre><p><strong>脚本规范：</strong>   脚本代码开头约定（除了shebang机制必须添加，其它注释看个人喜好添加）  </p>
<pre><code>第一行一般为shebang机制
作者
日期
版本号
程序名
程序作用
版本更新的简要说明
</code></pre><p><strong>脚本的基本结构：</strong>  </p>
<pre><code>#!shebang 声明机制  
configuration_variables 配置变量  
function_definitions 函数定义  
main_code 主程序代码  
</code></pre><p><strong>脚本调试：</strong></p>
<pre><code>检测脚本的语法错误：有时候报错的行数不是很精确，但是可在该行数附近找找错误
    bash -n &lt;脚本程序&gt;
跟踪调试命令的执行过程：    
    bash -x &lt;脚本程序&gt;
</code></pre><p><strong>脚本名字：</strong> 见名知义</p>
<pre><code>命名方法驼峰法
    小驼峰 studentName  第二个单词首字母大写
    大驼峰 StudentName  全部的单词首字母大写
</code></pre><p>bug：程序错误<br>debug：调试错误，解决错误</p>
<hr>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p><strong>变量：</strong> 代表一块内存空间，人为的命名  </p>
<pre><code>变量：任何一种编程语言都应该有变量，为程序提供数据
程序：是由指令加数据组成
    指令：由程序文件提供
    数据：IO设备、文件、管道、变量

程序也有另外一种说法：是由算法+数据结构来组成的

变量名：指向内存空间中某一段空间中的起始地址
变量名+指向的内存空间

变量赋值：name=value
变量类型：存储格式、表示数据范围、参与的运算
    用于编程语言：
        强类型变量：
        弱类型变量：
            bash中把所有变量都被视为字符型，不支持浮点数据
            bash中的变量无需事先声明，同时实现声明和赋值。
                声明的意思：说明变量类型，定义变量名称
变量替换：把变量名出现的位置替换为其所指向的内存空间中的数据
变量引用：$(变量名),$变量名        null视为空
变量命名法则：见名知义
    不能使用程序中的保留至：如if，for
    只能使用数字、字母、下划线，且不能以数字开头
    统一命名规则：驼峰法
        小驼峰studentName
        大驼峰StudentName
</code></pre><p><strong>bash进程：</strong>  bash子进程与bash父进程</p>
<pre><code>显示进程树
    pstree -p

查看bash父进 程编号
    echo $PPID

查看当前bash进程编号
    echo $$ 

开启bash子进程，脚本在子进程中运行，不影响环境变量
    bash &lt;脚本程序&gt; 

不开启bash子进程，执行脚本将影响环境变量
    source &lt;脚本程序&gt; 

()开启子进程执行命令，{}当前进程执行命令 
</code></pre><p><strong>bash中变量种类:</strong>  局部变量、环境变量、只读变量、位置变量</p>
<p>局部变量：当前进程使用</p>
<pre><code>生效范围在当前终端的shell进程中，若切换终端窗口，变量失效
</code></pre><p>   eg：name=xcb<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 ~]<span class="comment"># name=xcb   //变量赋值</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># echo $name  //当前终端窗取变量</span></span><br><span class="line">xcb         //当前终端窗口打印了xcb</span><br><span class="line">[root@Souler7 ~]<span class="comment"># echo $name  //新开终端窗口去变量</span></span><br><span class="line">            //新的终端窗口打印为空，变量失效</span><br><span class="line">[root@Souler7 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure></p>
<p>环境变量：可以传给子进程使用，但不可传给父进程  </p>
<pre><code>由bash内建的变量
    PATH  外部命令的搜索路径
    SHELL 当前使用的shell
    USER  用户名
    UID   用户ID
    HOME  用户家目录
    PWD   当前路径
    SHLVL 当前子进程嵌套数
    LANG  语言
    MAIL  邮箱路径
    HOSTNAME 主机名
    HISTSIZE 最大历史记录条数
    RANDOM  随机数
显示前一个命令的参数
    echo $_  
删除变量，但无法删除只读变量
    unset &lt;变量名&gt; 
将局部变量定义为环境变量
    exprot 

查看环境变量
    env 
    printenv
    export 
    declare -x
</code></pre><p> eg:RANDOM的使用<br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 ~]<span class="comment"># echo $[RANDOM%7]  表示对7取模，0-6随机数</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># echo $[RANDOM%7+31]]  取31到37的随机数</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># color=$[RANDOM%7+31];echo -e "\e[1;$&#123;color&#125;mCLOOR\e[0m"    取随机颜色</span></span><br></pre></td></tr></table></figure></p>
<p>只读变量：不可删除</p>
<pre><code>声明只读变量
    declare -r
    readonly
查看只读变量
    readonly -p  
</code></pre><p>位置变量：灵活  </p>
<pre><code>$1,$2...: 对应第1、第2等参数，
    shift 每个数据往左移动1位，原先第一个数据被覆盖
    shift n 同理

$* 所有变量 例如：a b c 参数被视为一个字符串
$@ 所有变量 例如：a b c 每个参数是独立的字符串
    注意：$*与$@只有在被双引号抱起来的时候才会有差异，否则，为相同意思
$# 传递给脚本的参数个数
$0 显示命令本身，脚本所在路径
    basename $0 只显示脚本名称
set-- 清空所有位置变量
</code></pre><p>退出状态：特殊变量$?的使用  </p>
<pre><code>查看上一命令执行结果成功或失败
    echo $?
默认退出状态码    
    0 代表成功， 1-255 代表失败
自定义退出状态码
    exit [n]
</code></pre><p>注意：脚本中一旦遇到exit命令，脚本会立即终止，终止退出状态取决于exit命令后面的数字<br>注意：如果脚本未指定退出状态码，整个脚本的退出状态码取决于脚本中执行的最后一条命令的状态码</p>
<hr>
<h2 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h2><p><strong>bash中的算数运算：</strong>  仅支持整数运算</p>
<pre><code>bash中的算数运算：let
运算符号：+、-、*、/、%（取余）、**（乘方）
数字运算符号
        -eq 等于
        -ne 不等于
        -lt 小于
        -le 小于等于
        -gt 大于
        -ge 大于等于
</code></pre><p>方法1：let sum=a+b 默认是let，可不加<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 bin]<span class="comment"># a=2</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># b=3</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># let sum=a+b</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># echo $sum</span></span><br><span class="line">5</span><br></pre></td></tr></table></figure></p>
<p>方法2：echo $[a*b] ，a=$[算术表达式]可用于逻辑运算<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    [root@Souler7 bin]<span class="comment"># a=2</span></span><br><span class="line">    [root@Souler7 bin]<span class="comment"># b=3</span></span><br><span class="line">    [root@Souler7 bin]<span class="comment"># echo $[a*b]</span></span><br><span class="line">    6</span><br><span class="line">```     </span><br><span class="line">方法3：<span class="built_in">echo</span> $((a-b))  ((a=10+11)) <span class="built_in">echo</span> <span class="variable">$a</span> 会显示a运算的值为21</span><br><span class="line">```bash</span><br><span class="line">    [root@Souler7 bin]<span class="comment"># a=2</span></span><br><span class="line">    [root@Souler7 bin]<span class="comment"># b=3</span></span><br><span class="line">    [root@Souler7 bin]<span class="comment"># echo $((a-b))</span></span><br><span class="line">    -1</span><br></pre></td></tr></table></figure></p>
<p>方法4：expr命令，专门做运算的命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 bin]<span class="comment"># expr 3 \* 3   (每个参数之间都需要空格，且*需要转义，+不用转义)</span></span><br><span class="line">9</span><br></pre></td></tr></table></figure></p>
<p>方法5：declare -i (个人不推荐使用，给每个变量赋值都需要加declare -i)单独使用可用于查看变量<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 bin]<span class="comment"># declare -i a=5</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># declare -i b=6</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># declare -i sum=$a*$b</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># echo $sum</span></span><br><span class="line">30</span><br></pre></td></tr></table></figure></p>
<p>方法6：使用bc命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 bin]<span class="comment"># echo 30/5|bc</span></span><br><span class="line">6</span><br></pre></td></tr></table></figure></p>
<p><strong>赋值：</strong></p>
<p>增强型赋值：+=、-=、*=、/=、%=<br>eg：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 bin]<span class="comment"># let n=10</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># echo $n </span></span><br><span class="line">10</span><br><span class="line">[root@Souler7 bin]<span class="comment"># let n+=10  (表示为n=n+10)</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># echo $n  </span></span><br><span class="line">20</span><br></pre></td></tr></table></figure></p>
<p>自增自减：  </p>
<pre><code>let n++   表示为n=n+1,先赋值后加1
let n--   表示为n=n-1,同上
let ++n   表示为n=n+1，先加1后赋值
let --n   表示为n=n-1,同上
</code></pre><p>eg：<br>let m=n++, echo $m ,m=10<br>eg：<br>let m=++n, echo $m ,m=11</p>
<p><strong>逻辑运算：</strong></p>
<pre><code>true or false：  
    true：1    //此处1表示真
    false：0   //0表示假

与或非运算、异或运算：

    与：符号&amp;表示与
        有0则为假
        1与1=1
        1与0=0
        0与1=0
        0与0=0

    或：符号|表示或
        有1则为真
        1或1=1
        1或0=1
        0或1=1
        0或0=0

    非：符号！表示非
        对结果取反
        ！1=0
        ！0=1

    异或：符号^表示异或：
        异或的两个值，相同为假，不同为真
        1^1=0 假
        1^0=1 真
        0^1=1 真
        0^0=0 假               
        公式：a^b=c,b=c^a,a=c^b
</code></pre><p>eg：判断a大于b是否为真，并使用逻辑取反<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 bin]<span class="comment"># a=5</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># b=10</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># [ $a -gt $b ]   //判断逻辑运算是否为真</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># echo $?</span></span><br><span class="line">1   //结果为假</span><br><span class="line">[root@Souler7 bin]<span class="comment"># [ ! $a -gt $b ]  //对逻辑运算取反</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># echo $?</span></span><br><span class="line">0   //取反后，结果为真</span><br></pre></td></tr></table></figure></p>
<p>eg：利用异或运算，互换a与b的值<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 ~]<span class="comment"># a=10</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># b=5</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># a=$[a^b]  //a此时拿到了中间值c</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># b=$[a^b]  //c与b异或且赋值给b，此时b得到了a的初始值10，b=10</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># a=$[a^b]  //c与b(a的初始值)异或,此时a的值为b的初始值5，a=5</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># echo a=$a b=$b </span></span><br><span class="line">a=5 b=10   //从该结果可看到实现了a与b的值互换</span><br></pre></td></tr></table></figure></p>
<p>短路运算：</p>
<pre><code>短路与：符号&amp;&amp;表示短路与
    cmd1 &amp;&amp; cmd2 若cmd1为true ，则执行cmd2
    cmd1 &amp;&amp; cmd2 若cmd1为false，则不执行cmd2
短路或：符号||表示短路或
    cmd1 || cmd2 若cmd1为ture ，则不执行cmd2
    cmd1 || cmd2 若cmd1为false，则执行cmd2
组合使用：    
    如果cmd1成功，就执行cmd2，如果cmd2成功(此处假设cmd2总成功)，就执行cmd3
        cmd1 &amp;&amp; cmd2 || cmd3
    如果cmd1失败，就执行cmd2，如果cmd2成功(此处假设cmd2总成功)，就执行cmd3
        cmd1 || cmd2 &amp;&amp; cmd3
</code></pre><hr>
<h2 id="条件测试"><a href="#条件测试" class="headerlink" title="条件测试"></a>条件测试</h2><p><strong>描述：</strong><br>判断某需求是否满足，需要由测试机制来实现  </p>
<pre><code>专用的测试表达式需要由测试命令辅助完成测试过程
</code></pre><p>评估布尔声明，以便用在条件性执行中  </p>
<pre><code>若真，则返回0
若假，则返回1

注意：此处的0、1不同于逻辑运算中的0、1
</code></pre><p><strong>测试命令：</strong> test命令</p>
<pre><code>三种用法：
    test EXPRESSION
    [ EXPRESSION ]
    [[ EXPRESSION ]]
注意：[ ]内有字符即为真，无字符则为假，空格也算字符
</code></pre><p>用法1：test EXPRESSION  (不常用)<br>eg：判断a是否小于b<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 bin]<span class="comment"># a=5</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># b=10</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># test $a -lt $b</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># echo $? //查看结果</span></span><br><span class="line">0     //结果为真,故a小于b</span><br><span class="line">[root@Souler7 bin]<span class="comment">#</span></span><br></pre></td></tr></table></figure></p>
<p>用法2：[ EXPRESSION ]</p>
<pre><code>选项：
    用于文件类型测试：
        [ -a &quot;文件路径&quot; ] 判断文件的存在性，存在为真，不存在为假
        [ -b &quot;文件路径&quot; ] 判断文件是否为 块设备，存在为真，不存在为假
        [ -c &quot;文件路径&quot; ] 判断文件是否为字符设备，存在为真，不存在为假
        [ -d &quot;文件路径&quot; ] 判断文件是否为文件夹，是为真，否为假
        [ -f &quot;文件路径&quot; ] 判断文件是否为普通文件，是为真，否为假
            -f无法识别软链接，而是直接识别软链接所指向的文件
        [ -L &quot;文件路径&quot; ] 判断文件是否为软链接，是为真，否为假
            -L针对判断软链接
    用于文件权限测试：
        [ -u &quot;文件路径&quot; ] 判断文件是否为有suid权限，是为真，否为假
        [ -g &quot;文件路径&quot; ] 判断文件是否为有sgid权限，是为真，否为假
        [ -k &quot;文件路径&quot; ] 判断文件是否为有sticky权限，是为真，否为假
        [ -r &quot;文件路径&quot; ] 判断对文件是否为有r权限，是为真，否为假
        [ -w &quot;文件路径&quot; ] 判断对文件是否为有w权限，是为真，否为假
        [ -x &quot;文件路径&quot; ] 判断对文件是否为有x权限，是为真，否为假
    用于文件大小测试：
        [ -s &quot;文件路径&quot; ] 判断对文件是否存在且非空，是为真，否为假
    用于测试文件是否打开：
        [ -t fd ] 判断文件描述符是否在某终端已经打开，是为真，否为假
        [ -N &quot;文件路径&quot; ] 判断文件从上一次被读取之后是否被修改过，是为真，否为假
        [ -O &quot;文件路径&quot; ] 判断对文件属主是否为当前登录用户，是为真，否为假
        [ -G &quot;文件路径&quot; ] 判断对文件属组是否为当前登录用户，是为真，否为假
    双目测试：
        [ &quot;文件1&quot; -ef &quot;文件2&quot; ] 判断文件1是否为文件2的硬链接，是为真，否为假
        [ &quot;文件1&quot; -nt &quot;文件2&quot; ] 判断文件1是否比文件2新，是为真，否为假
        [ &quot;文件1&quot; -ef &quot;文件2&quot; ] 判断文件1是否比文件2旧，是为真，否为假
    同时判断多个条件，
        用-a来实现，表示与的关系
        用-o来实现，表示或的关系
        用！来实现，表示非,取反的关系
</code></pre><p>eg：判断a是否小于b<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 bin]<span class="comment"># a=5</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># b=10</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># [ $a -lt $b ]</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># echo $? //查看结果</span></span><br><span class="line">0     //结果为真,故a小于b</span><br><span class="line">[root@Souler7 bin]<span class="comment">#</span></span><br></pre></td></tr></table></figure></p>
<p>eg：判断字符串是否相等,以及使用双引号””，避免出现语法错误<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 bin]<span class="comment"># name=xcb   //变量赋值xcb   </span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># i=xcb      //变量赋值xcb</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># [ name = i ] &amp;&amp; echo ture || echo false  //语法错误，变量名前没有加$符号</span></span><br><span class="line"><span class="literal">false</span>   //此判断不成立</span><br><span class="line">[root@Souler7 bin]<span class="comment"># [ "$name" = "$i" ] &amp;&amp; echo ture || echo false //加上$再次判断</span></span><br><span class="line"><span class="literal">true</span>    //name=i，结果为真,输出<span class="literal">true</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># i=xxx    //对i赋一个新的值xxx</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># [ "$name" = "$i" ] &amp;&amp; echo ture || echo false //判断变量name字符串是否等于变量i的字符串</span></span><br><span class="line"><span class="literal">false</span>  //name≠i，结果为假，输出<span class="literal">false</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># [ "$name" = "xcb" ] &amp;&amp; echo ture || echo false //判断变量name的字符串是否为xcb</span></span><br><span class="line"><span class="literal">true</span>  //name=xcb，结果为真，输出<span class="literal">true</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># [ $name = xxx ] &amp;&amp; echo ture || echo false  //判断变量n的字符串是否为xxx</span></span><br><span class="line"><span class="literal">false</span>  //name≠xxx，结果为假，输出<span class="literal">false</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># unset name  //删除变量name</span></span><br><span class="line">[root@Souler7 bin]<span class="comment"># [ $name = xcb ] &amp;&amp; echo ture || echo false //当变量不存在，且变量名没有用双引号引起来，进行判断</span></span><br><span class="line">-bash: [: =: unary operator expected // 此处提示语法错误</span><br><span class="line"><span class="literal">false</span>  //此判断不成立</span><br><span class="line">[root@Souler7 bin]<span class="comment"># [ "$name" = xcb ] &amp;&amp; echo ture || echo false //当变量不存在，且变量名加了双引号，进行判断</span></span><br><span class="line"><span class="literal">false</span>  //此处没有提示语法错误，而是把引号内的变量名作为空字符，进行判断，结果为假</span><br><span class="line">[root@Souler7 bin]<span class="comment"># [ "" = xcb ] &amp;&amp; echo ture || echo false     </span></span><br><span class="line"><span class="literal">false</span>  //此处的结果，等同上一句的意思，亦可得出结论：加双引号可避免出现语法错误</span><br></pre></td></tr></table></figure></p>
<p>eg：判断变量是否为空，-z，-n的使用<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 ~]<span class="comment"># name=xcb  //变量赋值</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># echo $name</span></span><br><span class="line">xcb</span><br><span class="line">[root@Souler7 ~]<span class="comment"># [ -z "$name" ] &amp;&amp; echo true ||echo false //判断变量是否为空，空为true，非空为false</span></span><br><span class="line"><span class="literal">false</span> //变量非空，结果为<span class="literal">false</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># [ -n "$name" ] &amp;&amp; echo true ||echo false //判断变量是否非空，空为false，非空为true</span></span><br><span class="line"><span class="literal">true</span>  //变量非空</span><br><span class="line">[root@Souler7 ~]<span class="comment"># unset name //删除变量</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># [ -z "$name" ] &amp;&amp; echo true ||echo false //判断变量是否为空，空为true，非空为false</span></span><br><span class="line"><span class="literal">true</span> //变量为空，结果为<span class="literal">true</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># [ -n "$name" ] &amp;&amp; echo true ||echo false //判断变量是否非空，空为false，非空为true</span></span><br><span class="line"><span class="literal">false</span> //变量为空，结果为<span class="literal">false</span></span><br></pre></td></tr></table></figure></p>
<p>用法3：[[ EXPRESSION ]] 支持扩展正则表达式，=~引用正则表达式，变量用双引号引起来，扩展正则表达式不需要加引号</p>
<pre><code>[[ =~ ]] 支持扩展正则模式
[[ == ]] 支持通配符
[[ != ]] 表示取反
</code></pre><p>eg：使用扩展正则表达式，判断变量是否符合要求<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 bin]<span class="comment"># file=abc.sh        </span></span><br><span class="line">[root@Souler6 bin]<span class="comment"># [[ $file =~ \.sh$ ]] &amp;&amp; echo true || echo false //判断变量是否为.sh结尾的字符串</span></span><br><span class="line"><span class="literal">true</span>   //变量条件符合，结果为真</span><br><span class="line">[root@Souler6 bin]<span class="comment"># [[ $file =~ \.s$ ]] &amp;&amp; echo true || echo false  //判断变量是否为.s结尾的字符串</span></span><br><span class="line"><span class="literal">false</span>  //变量条件不符合，结果为假</span><br></pre></td></tr></table></figure></p>
<p>eg：判断输出的数字是否为合法IP地址<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 bin]<span class="comment"># ip=1.1.1.1; [[ "$ip" =~ ^(([1-9]?[0-9]|1[0-9][0-9]|2[0-5][0-5])\.)&#123;3&#125;([1-9]?[0-9]|1[0-9][0-9]|2[0-5][0-5])$ ]] &amp;&amp; echo ip right || echo ip error  </span></span><br><span class="line">ip right  //ip符合</span><br><span class="line">[root@Souler6 bin]<span class="comment"># ip=111.111.111.1111; [[ "$ip" =~ ^(([1-9]?[0-9]|1[0-9][0-9]|2[0-5][0-5])\.)&#123;3&#125;([1-9]?[0-9]|1[0-9][0-9]|2[0-5][0-5])$ ]] &amp;&amp; echo ip right || echo ip error  </span></span><br><span class="line">ip error  //ip不符合</span><br></pre></td></tr></table></figure></p>
<p>注意：EXPRESSION前后必须有空白字符  </p>
<hr>
<h2 id="配置用户环境"><a href="#配置用户环境" class="headerlink" title="配置用户环境"></a>配置用户环境</h2><p><strong>bash的配置文件:</strong> 按生效范围划分，存在两类：</p>
<pre><code>全局配置：
    /etc/profile
    /etc/profile.d/*.sh
    /etc/bashrc
个人配置：
    ~/.bashrc
    ~/.bash_profile
</code></pre><p><strong>shell登录的两种方式：</strong></p>
<p>交互式登录：</p>
<pre><code>1.通过终端输入账号密码登录
2.使用su - username 切换的用户
    配置文件的生效顺序：
        1--&gt;/etc/profile
        2--&gt;/etc/profile.d/*.sh
        3--&gt;~/.bash_profile
        4--&gt;~/.bashrc
        5--&gt;/etc/bashrc
</code></pre><p>非交互式登录:</p>
<pre><code>1.su username
2.图形界面打开的终端
3.执行脚本       
4.任何其他的bash实例
    配置文件的生效顺序：
        1--&gt;~/.bashrc
        2--&gt;/etc/bashrc
        3--&gt;/etc/profile.d/*.sh
</code></pre><p><strong>类：</strong></p>
<p>profile类:为交互式登录的shell提供配置</p>
<pre><code>全局配置：
    /etc/profile
    /etc/profile.d/*.sh
个人配置：
    ~/.bash_profile
        实现环境变量和函数启动程序的文件

功用：
    用于定义环境变量
    运行命令或脚本
</code></pre><p>bashrcl类：为非交互式和交互式登录的shell提供配置</p>
<pre><code>全局设置:
    /etc/bashrc
个人设置：
    ~/.bashrc
        实现别名和函数的文件
功用：
    定义命令别名和函数
    定义本地变量
</code></pre><p><strong>编辑配置文件生效：</strong></p>
<pre><code>修改profile和bashrc文件后需生效
    两种方法：
        重启
        source或.
    eg：. ~/.bashrc
</code></pre><p><strong>bash退出任务:</strong></p>
<pre><code>~/.bash_logout文件：用于自动备份，删除临时文件

用户退出登录shell时，自动执行

在/etc/目录下创建nologin文件，可禁止普通用户登录
</code></pre><hr>
<p><strong>关于bash如何展开命令行</strong>  (此处并不能很好的诠释，见谅..)</p>
<pre><code>把命令行分成单个命令词
展开别名
展开大括号的声明{}
展开波浪符声明~
命令替换$()和``
再次把命令行分成命令词
展开文件通配*、？、[abc]
准备I/O重定向&lt;、&gt;
运行命令
</code></pre><p>防止扩展：  </p>
<pre><code>加引号
    双引号&quot;&quot;防止部分扩展(本人目前还未搞懂..)
    单引号&apos;&apos;防止所有扩展
    反斜杆 \防止所有扩展
</code></pre><p>eg：反斜杆 \,转义符，单引号’’也能防止所有扩展，除了’本身，双引号则行不通<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 ~]<span class="comment"># name=xcb</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># echo $name</span></span><br><span class="line">xcb</span><br><span class="line">[root@Souler7 ~]<span class="comment"># echo \$name  //此处转义，$name只当为普通字符串</span></span><br><span class="line"><span class="variable">$name</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># echo '$name'  //此处''转义</span></span><br><span class="line"><span class="variable">$name</span></span><br><span class="line">[root@Souler7 ~]<span class="comment"># echo "$name"</span></span><br><span class="line">xcb</span><br></pre></td></tr></table></figure></p>
<p><strong>read命令：</strong> 把输入值分配给一个或多个shell变量常用于脚本</p>
<pre><code>选项： 
    -p        指定要显示的提示
    -s        静默输入，一般用于密码
    -n        N指定输出的字符长度N，达到字符长度自动退出
    -d &apos;字符&apos; 指定输入字符为结束符，结束符出现立即退出
    -t n      等待n秒，时间到自动退出
对多个变量赋值
    read x y z &lt;&lt;&lt; &quot;aaa bbb ccc&quot;
</code></pre><p>eg：read -p用法<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 ~]<span class="comment"># read -p "Please input your name:" -t 30 xcb //定义变量名称为xcb，且该命令执行后等待输入</span></span><br><span class="line">Please input your name:xucanbin   //此处输入字符串xucanbin并自动赋值给变量xcb</span><br><span class="line">[root@Souler7 ~]<span class="comment"># echo $xcb   //打印变量xcb的值</span></span><br><span class="line">xucanbin    //显示为xcb的值为xucanbin</span><br></pre></td></tr></table></figure></p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/08/05/第三周-shell脚本编程基础知识/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-第三周-文本处理工具和正则表达式" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/01/第三周-文本处理工具和正则表达式/">文本处理工具和正则表达式</a>
    </h1>
  

        
        <a href="/2018/08/01/第三周-文本处理工具和正则表达式/" class="archive-article-date">
  	<time datetime="2018-08-01T08:00:00.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-08-01</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="DAY7"><a href="#DAY7" class="headerlink" title="DAY7"></a>DAY7</h1><p><strong>抽取文本的工具</strong></p>
<p>cat命令：用于查看文本  </p>
<pre><code>选项
-A 查看隐藏符号,控制符
-n 显示行号
-b 忽略空行显示行号
-s 合并空行
-E 显示回车结束符$
</code></pre><p>less命令：用于查看文本，支持文本分页和翻页显示(man帮助中的翻页功能用的就是less)</p>
<pre><code>使用空格翻页，翻到底部不会退出文本
/ 搜索 同man搜索
(man帮助中的翻页以及搜索功能用的就是less命令)
</code></pre><p>more命令：用于查看文本，支持文本分页和翻页显示</p>
<pre><code>使用空格翻页，翻到底部自动退出文本
</code></pre><p>tac命令：用于查看文本</p>
<pre><code>将文本纵向倒着显示
</code></pre><p>rev命令：用于查看文本</p>
<pre><code>将文本横向倒着显示
</code></pre><p><strong>显示文件内容的头或者尾</strong></p>
<p>head命令：查看文本首部，不加选项默认前10行</p>
<pre><code>选项：
    -n # 行数
    -c # 字节数
eg:显示前5行
    head 1.txt -n 5
</code></pre><p>tail命令：查看文本末尾，不加选项默认后10行</p>
<pre><code>选项：
    -n # 行数
    -c # 字节数
    -f 跟踪文件
    -F 跟踪文件名
eg：显示最后5行
        tail 1.txt -n 5
    跟踪文件内容，即时文件被删除，依旧继续跟踪
        tail -f 1.txt
    跟踪文件名，当文件被删除时，不再跟踪文件内容，并提示用户
        tail -F 1.txt
(tailf命令 跟踪文件，内容不增长则不继续跟踪，虽然已是等同于tail -f但是效率更高）
</code></pre><p><strong>按列抽取文本</strong></p>
<p>cut命令：将文本切割为列并取出指定列</p>
<pre><code>选项：
    -d分隔符 指明分隔符
    -f：取字段
        #    取指定的第n个字段
        #,# 取离散的指定字段
        #-# 取连续的指定字段
    -c# 取字节数
    --output-delimiter=&lt;&gt;指定输出分隔符 取出信息并指定输出分隔符
</code></pre><p><strong>合并文件</strong></p>
<p>paste命令：合并文本内容 </p>
<pre><code>用法：
    paste file1 file2
    paste f1 f2&gt;f3
选项：
    -s 合成一行
    -d 
    分隔符
</code></pre><p><strong>分析文本的工具</strong></p>
<p>wc命令（word count）：用于统计行数，单词数，字节数</p>
<pre><code>选项：
    -l 行数
    -w 单词数
    -c 字节数
    -m 字符数
字典：/usr/share/dict/linux.words
eg：统计字典中的单词数
    wc -w /usr/share/dict/linux.words
</code></pre><p>sort命令：用于排序，去重，不修改文件原内容（待添加eg）</p>
<pre><code>选项：
    -t  分隔符
    -k  取第几列
    -n  按数字排序
    -r  倒序
    -u  去重
    -R  随机排序
eg：
</code></pre><p>uniq命令：合并相邻的重复行 （待添加eg）</p>
<pre><code>选项：
    -c 显示重复的次数
    -u 去重复的行数
    -d 只要重复的行数
eg：
</code></pre><p>diff命令：查看文件的不同之处（待分析）</p>
<pre><code>用法：
    diff f1 f2
    diff f1 f2 &gt; diff.log 生成补丁
选项：
    -u 详细
    patch命令：补丁
        patch f1 diff.log
            选项：
                -b    备份
</code></pre><hr>
<h1 id="文本处理三剑客之一：grep"><a href="#文本处理三剑客之一：grep" class="headerlink" title="文本处理三剑客之一：grep"></a>文本处理三剑客之一：grep</h1><p>（Global search REgular expression an Print out the line）</p>
<p>grep命令：文本过滤工具，主要是过滤‘行’ （待添加eg）</p>
<pre><code>用法：
    grep [选项] [模式] file
        模式：指的是正则表达式的提出过滤条件
选项：
    -v 取反
    -i 忽略大小写
    -n 显示行号
    -c 显示有多少行含有关键词
    -o 打印关键词
    -q 静默
        echo $? 显示0或1（多用于编脚本）
    -A 搜索结果的后三行
    -B 搜索结果的前三行
    -C 搜索结果的前三行和后三行
    -e 搜索多个关键字
    -w 匹配单词
    -E 扩展表达式，等同egrep
    -F 不支持正则表达式
    -f （不理解）
</code></pre><p><strong>正则表达式</strong><br>使用特殊字符编写模式，配合grep命令匹配文本中的字符串</p>
<p>正则表达式有两类：BRE、ERE</p>
<ol>
<li><p>基本正则表达式:BRE</p>
<pre><code>元字符匹配：
    .    匹配一个任意字符
    []   匹配指定范围
    [^]  匹配指定范围外，就是将[]取反
    [:alnum:] 字母和数字
    [:alpha:] 任意大小写字母
    [:lower:] 任意小写字母
    [:upper:] 任意大写字母
    [:space:] 空格符
    [:digit:] 任意数字
    [:punct:] 标点符号
    [:print:] 可打印字符 （不常用） 
    [:cntrl:] 不可打印的控制字符（退格、删除）
    [:graph:] 可打印的非空白字符

匹配次数：
    *    匹配*前字符出现任意次包括0次，贪婪模式
    \?   匹配字符出现一次或者零次，懒惰模式
    \+   匹配字符至少出现一次
    \{n\}    匹配字符出现n次
    \{n,\}   匹配字符至少出现n次
    \{,n\}   匹配字符至多出现n次
    \{m,n\}  匹配字符至少m次，至多n次

位置锚定
    ^  锚定行首&lt;^关键词&gt;
    $  锚定行尾&lt;关键词$&gt;
    \&gt; 词尾锚定 
    \&lt; 词首锚定 
    \&lt;关键词\&gt; 匹配整个单词，等同 &apos;\b关键词\b&apos;
    eg：
        ^[[:space:]]*$  匹配0次或者任意次空格字符，即空行,等同^$
        ^[[:space:]]\+.*$ 匹配至少一个空格字符，用于行首带空格的非空白行

分组
    \(关键词\) 表示整体
    \|  表示或
    \1  表示第一个括号，匹配最终结果    
    \2  表示第二个括号
</code></pre></li>
</ol>
<ol start="2">
<li><p>扩展正则表达式:ERE</p>
<pre><code>字符匹配:同基本正则,故不再说明

匹配次数：
    * 匹配前面字符出现任意次
    ? 匹配前面字符出现0或1次  #对比基本正则少了&apos;\&apos;
    + 匹配前面字符至少出现一次 #对比基本正则少了&apos;\&apos;
    {n}   匹配前面字符出现n次 #对比基本正则少了&apos;\&apos;
    {n,}  匹配前面字符至少出现n次 #对比基本正则少了&apos;\&apos;
    {,n}  匹配前面字符至多出现n次 #对比基本正则少了&apos;\&apos;
    {n,m} 匹配前面字符至少出现n次，至多出现m次 #对比基本正则少了&apos;\&apos;

位置锚定:同基本正则，故不再说明

分组：
    () 表示整体 #对比基本正则少了&apos;\&apos;
    |  表示或   #对比基本正则少了&apos;\&apos;
    再次引用定义的分组结果
        \1,\2,\3
    eg:
</code></pre></li>
</ol>
<p>练习：<br>1、利用扩展正则表达式分别表示0-9、10-99、100-199、200-249、250-255  </p>
<pre><code>答：seq 0 255 &gt; num.txt #创建一个包含了0 - 255的文本  
分别表示
    0-9: grep -E -w &quot;^[0-9]&quot; num.txt  
  10-99: grep -E -w &quot;((^[1-9])[0-9])&quot; num.txt  
100-199: grep -E -w &quot;^1([0-9]{2})&quot; num.txt  
200-249: grep -E -w &quot;^2[0-4][[:digit:]]&quot; num.txt  
250-255: grep -E -w &quot;^2[5][0-5]&quot; num.txt  
</code></pre><p>2、显示ifconfig命令结果中所有IPv4地址  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答：[root@Souler7 ~]<span class="comment"># ifconfig |grep -w -E "inet" |tr -s " "|cut -d" " -f3</span></span><br></pre></td></tr></table></figure>
<p>3、将此字符串：welcome to magedu linux 中的每个字符去重并排序，重复次数多的排到前面<br>    答：  </p>
<pre><code class="bash">[root@Souler7 ~]<span class="comment"># echo welcome to magedu linux|grep -Eo "[[:alpha:][:space:]]"|sort|uniq -c|sort -nr</span>
</code></pre>
<pre><code>其他编辑器：
    gedit 简单的图形编辑器
    gvim  vim图形版本
</code></pre>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/08/01/第三周-文本处理工具和正则表达式/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-第二周-用户和组的管理以及权限管理" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/29/第二周-用户和组的管理以及权限管理/">用户和组的管理以及权限管理</a>
    </h1>
  

        
        <a href="/2018/07/29/第二周-用户和组的管理以及权限管理/" class="archive-article-date">
  	<time datetime="2018-07-29T12:00:00.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-07-29</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="DAY-6"><a href="#DAY-6" class="headerlink" title="DAY 6"></a>DAY 6</h1><hr>
<h1 id="linux的安全模型、用户账号以及用户组的介绍"><a href="#linux的安全模型、用户账号以及用户组的介绍" class="headerlink" title="linux的安全模型、用户账号以及用户组的介绍"></a>linux的安全模型、用户账号以及用户组的介绍</h1><p><strong>介绍安全3A</strong></p>
<pre><code>资源分派：
    Authentication：认证
    Authorization：授权
    Accouting|Audition：审计
</code></pre><p><strong>用户user</strong></p>
<pre><code>令牌token,identity
Linux用户：Username/UID
管理员：root, 0
普通用户：1-60000 自动分配
    系统用户：1-499, 1-999（CentOS7）
        对守护进程获取资源进行权限分配
登录用户：500+, 1000+（CentOS7）
    交互式登录
</code></pre><p><strong>组group</strong></p>
<pre><code>Linux组：Groupname/GID
管理员组：root, 0
普通组：
    系统组：1-499, 1-999（CENTOS7）
    普通组：500+, 1000+（CENTOS7）
</code></pre><p><strong>安全上下文</strong></p>
<pre><code>Linux安全上下文
    运行中的程序：进程(process)
    以进程发起者的身份运行：
        root: /bin/cat
        mage: /bin/cat
进程所能够访问资源的权限取决于进程的运行者的身份
</code></pre><p><strong>组的类别</strong></p>
<pre><code>Linux组的类别
    用户的主要组(primary group)
        用户必须属于一个且只有一个主组组名同用户名，且仅包含一个用户，私有组
    用户的附加组(supplementary group)
        一个用户可以属于零个或多个辅助组
</code></pre><p><strong>关于ps aux</strong></p>
<pre><code>许多进程在系统启动了就已经自动运行，这些进程属于系统用户，非人使用的。        
    系统用户使用的shell类型为/bin/nologin，
</code></pre><h1 id="用户和组的管理"><a href="#用户和组的管理" class="headerlink" title="用户和组的管理"></a>用户和组的管理</h1><p><strong>关于用户和组的一些关键文件</strong></p>
<pre><code>/etc/passwd  存放用户信息
    eg: xu:x:1000:1000:xu,can,bin,13048973251:/home/xu:/bin/bash
    对应格式: 用户名：口令：uid：gid：用户信息注释：家目录：shell类型

/etc/shadow  存放用户口令
    eg：xu:$6$./CWkeEIb89Q$mmkk1xypAQ1vLXkAQZENBGI8dtXmflwU0npV4UaMhB7BI2hGmHtQFNYvz30BkY7sRaYvyq1tIblxH/lZi4CAO.:17741:0:99999:7:::
    对应格式：用户名：口令：口令创建日期：口令最短有效期：密码有效期：密码过期前几天提示：密码过期后的宽限期：账户的有效期：保留未使用

        shadow文件格式，shadow中8个冒号隔成9个字段

        第一段 用户登录名
        第二段 加密口令很长
            （！！表示加锁） 
            sha512加密算法512位 $1:md5加密算法（已被破解）
            $6:sha512加密算法（！！表示加锁）
            算法的后面会加$（salt）$ 称为salt盐
            salt盐 不一样
            王小云：破解md5，sha1
            /etc/login.defs 用户口令相关文件，存放了默认的加密算法
            更改算法：
            authconfig --passalgo=sha256 --update
        第三段
            上一次口令更改时间天数（以1970位参考，）
        第四段
            更换密码所需时间间隔（例如，3，则表示每更换一次密码后，想再次更改密码需要等待3天才能更换密码）
        第五段
            密码有效期
        第六段
            密码过期的前几天会提示你更换密码
        第七段
            密码过期后的宽限期
        第八段
            账户的有效期
            chage &lt;用户名&gt; 
            可以更改指定用户的shadow中第3段到第8段的信息
        第九段
            保留未使用


/etc/group   存放组信息
    eg：xu:x:1000:xu
    对应格式：组名：口令：组id：该组作为附加组时的成员

/etc/gshadow 存放组口令
    eg：xu:$6$V63Bs/1moqF/$GqgjT3Nj8bBSW4xxF0IAn7MCdf2ClS8fZLPOwSJ5n8M8X.MXKgY1GoTNFbTyw8da0kN5wtKZrnC6bSvW3YMf//::
    对应格式：组名：口令：组管理员列表：以当前组为附加组的用户列表

/etc/default/useradd
    该文件存放了用户口令相关文件，该文件中定义了创建新用户的默认配置
        [root@Souler7 ~]# useradd -D
        GROUP=100
        HOME=/home  #默认家目录创建路径
        INACTIVE=-1  #口令过期后，默认不锁定
        EXPIRE=   #有效期
        SHELL=/bin/bash #默认shell
        SKEL=/etc/skel  #新建家目录的模板，都是隐藏文件
        CREATE_MAIL_SPOOL=yes  #默认创建邮箱
    列出/etc/default/useradd的内容
        useradd -D
        useradd -D=cat /etc/default/useradd

/etc/login.defs
    该文件最后两行配置了了口令的加密算法
    eg：# Use SHA512 to encrypt password.
        ENCRYPT_METHOD SHA512
/etc/skel/ -a
    该文件是存放了家目录的模板文件
        [root@Souler7 ~]# ll -a /etc/skel/
        total 24
        drwxr-xr-x.   3 root root   78 Apr 11 12:59 .
        drwxr-xr-x. 139 root root 8192 Jul 29 16:05 ..
        -rw-r--r--.   1 root root   18 Apr 11 08:53 .bash_logout
        -rw-r--r--.   1 root root  193 Apr 11 08:53 .bash_profile
        -rw-r--r--.   1 root root  231 Apr 11 08:53 .bashrc
        drwxr-xr-x.   4 root root   39 Jul 18 14:47 .mozilla
</code></pre><p><strong>关于getent</strong></p>
<pre><code>列出/etc/passwd的内容
    getent passwd
    getent passwd=cat /etc/passwd  
    getent passwd &lt;username&gt; 查看指定用户的passwd信息

列出/etc/shadow的内容
    getent shadow
    getent shadow=cat /etc/shadow
    getent shadow &lt;username&gt; 查看指定用户的shadow信息

列出/etc/group的内容
    getent group
    getent group=cat /etc/group
    getent group &lt;username&gt; 查看指定组的group信息

列出/etc/gshadow的内容
    getent gshadow
    getent gshadow=cat /etc/gshadow
    getent gshadow &lt;username&gt; 查看指定的gshadow信息
</code></pre><p><strong>关于用户的创建和管理</strong><br>（常用与给系统服务创建账号）</p>
<pre><code>useradd命令： 用于创建用户
    useradd = adduser
    useradd -D =cat /etc/default/useradd
    （rpm -q -scripts postfix 查看useradd的常用格式）
    选项：
        useradd -d &lt;路径&gt;      指定家目录
        useradd -M             不创建家目录
        useradd -g &lt;groupname&gt; 指定主组
        useradd -G &lt;groupname&gt; 附加组
        useradd -c &quot;注释&quot;       用户的注释信息
        useradd -s shell       指定使用shell类型，不指定默认使用/bin/bash
        useradd -r             创建系统，创建目录默认不创建家目录
        useradd -u &lt;uid&gt;       指定uid
        useradd -N             自动加入users组
        useradd -o &lt;uid&gt;       避免同id冲突

usermod命令：用于修改用户属性（不常用）
    选项：
        usermod -G 组 用户     增加附加组，且覆盖已有附加组
        usermod -aG 组 用户    追加附加组
        usermod -G &quot;&quot; 用户     清除所有附加组
        usermod -L 用户        给用户加锁
        usermod -U 用户        给用户解锁

userdel命令：用于删除用户
    userdel &lt;用户&gt;    删除用户
    选项：
        userdel -r &lt;用户&gt; 删除用户及其家目录

用户相关的其他命令

    chfn命令（修改用户的描述信息）
        用法：
        chfn &lt;用户&gt;修改指定用户描述信息，不指定用户名则默认修改当前用户的描述信息

    finger命令（查看用户的描述信息，需自行安装，否则无效）
        用法：
        finger &lt;用户&gt; 查看指定用户描述信息

    chsh命令（修改用户shell类型）
        用法：
        chsh -s shell &lt;用户&gt; 更改用户的shell类型
</code></pre><p><strong>关于用户口令</strong></p>
<pre><code>passwd命令：用与更改用户口令
    选项：            
        passwd -l &lt;用户&gt; 双重锁               类似：usermod -L &lt;用户&gt; 单锁
        passwd -u &lt;用户&gt; 解双重锁             类似：usermod -U &lt;用户&gt; 解单锁
        passwd -d &lt;用户&gt; 清空用户口令
        passwd -e &lt;用户&gt; 强制下次登录，提示用户改口令（常用）
        passwd -f &lt;用户&gt; 强制操作

批量改口令（多用于写程序时的命令）
    echo 密码 | passwd --stdin 用户名（常用）

chage命令（更改shadow）
    选项：
        chage &lt;用户&gt;    交互式更改指定用户密码策略
        chage -l &lt;用户&gt; 查看指定用户密码策略
        chage -d 0 &lt;用户&gt; 指定用户口令立即过期
</code></pre><p><strong>关于用户组的创建和管理</strong></p>
<pre><code>groupadd命令：用于创建组
    选项：
        groupadd -g &lt;gid&gt; &lt;groupname&gt; 创建指定id号的用户组
            系统用户id默认设置
            centos6&lt;500
            centos7&lt;1000
        groupadd -r &lt;groupname&gt; 创建指定系统用户组

groupmod命令：用于修改组属性
    选项：
        groupmod -n &lt;new_name&gt; &lt;groupname&gt; 更改用户组名
        groupmod -g &lt;new_id&gt; &lt;groupname&gt;   更改用户组id

groupdel命令：用于删除组
    groupdel &lt;groupname&gt;  删除用户组
    选项：
        groupdel -R
    注意：主组不能删，附加组可以

groupmems命令：用于更改和查看组成员
选项：
    groupmems -g &lt;group&gt;   更改为指定组(只有root)
配合-g使用的参数：
    groupmems -g &lt;group&gt; -a &lt;user&gt;  指定用户加入组
    groupmems -g &lt;group&gt; -d &lt;user&gt;  从组中删除用户
    groupmems -g &lt;group&gt; -p         从组中清除所有成员
    groupmems -g &lt;group&gt; -l         显示组成员列表

groups命令：用于查看组成员
    groups[OPTION].[USERNAME]... 查看用户所属组列表
</code></pre><p><strong>关于组密码</strong></p>
<pre><code>gpasswd命令：用于更改组密码 
    gpasswd &lt;group&gt; 更改组的密码
    选项：
        gpasswd -a &lt;用户&gt; &lt;组&gt; ，将用户添加至指定组中
        gpasswd -d &lt;用户&gt; &lt;组&gt; ，从指定组中移除用户
</code></pre><p><strong>查看用户相关的id信息以及切换用户</strong></p>
<pre><code>id命令：用于判断用户的存在性
    id &lt;用户&gt; 显示uid，gid，属组和附加组
    uid=0(root) gid=0(root) groups=0(root)
    选项：
        id -n &lt;用户&gt; 显示名字
        id -g &lt;用户&gt; 显示组id
        id -u &lt;用户&gt; 显示uid
        id -G &lt;用户&gt; 显示附加组id，全部组

su命令（switch user）：用于切换账号，普通用户需要口令
    su &lt;用户&gt; 切换用户，环境没变
    su - &lt;用户&gt;  相当于重新登录，环境改变
    su - &lt;用户&gt; -c &quot;command&quot; 切换用户，且执行命令后退出 
    尽量不要多次切换
</code></pre><p><strong>检查</strong></p>
<pre><code>pwck 检查用户
grpck 检查组
</code></pre><h1 id="小结："><a href="#小结：" class="headerlink" title="小结："></a>小结：</h1><pre><code>给用户添加附加组的办法:

    usermod -aG &lt;组&gt; &lt;用户&gt;
    gpasswd -a &lt;用户&gt; &lt;组&gt;
    groupmems -a &lt;用户&gt; -g &lt;组&gt;

解锁：

    usermod -L &lt;用户&gt; 单锁
    usermod -U &lt;用户&gt; 解单锁
    passwd -l &lt;用户&gt; 双重锁
    passwd -u &lt;用户&gt; 解双重锁

更变用户属组:

    usermod -g &lt;组&gt; &lt;用户&gt;

临时切换用户属组:

    newgrp &lt;组&gt; 临时加入且更换主组

更改附加组：

    手动更改文件：
        更改附加组时，group与gshadow最后一个字段必须一模一样
    使用命令更改附加组
    usermod -G &lt;组&gt; &lt;用户名&gt;       给用户添加附加组
    groupmems -g &lt;组&gt; -a &lt;用户名&gt;  给用户添加附加组
    gpasswd -a &lt;用户名&gt; &lt;组&gt;       给用户添加附加组

newusers（作用待实验）

chpasswd命令：更改密码，用法如下：用户名：密码

    [root@Souler7 ~]# chpasswd 
     xu:123456
</code></pre><hr>
<h1 id="文件权限：读read、写wirte、执行excute，简称rwx"><a href="#文件权限：读read、写wirte、执行excute，简称rwx" class="headerlink" title="文件权限：读read、写wirte、执行excute，简称rwx"></a>文件权限：读read、写wirte、执行excute，简称rwx</h1><p><strong>文件属性：</strong></p>
<pre><code>eg:
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler7 ~]<span class="comment"># ls -i xcb.log</span></span><br><span class="line">-rw-r--r-- 1 root root 100 Jul 18 15:08 xcb.log</span><br><span class="line"></span><br><span class="line">对应关系如下：</span><br><span class="line">-rw-r--r--   --&gt;权限</span><br><span class="line">1            --&gt;引用计数</span><br><span class="line">root         --&gt;所属组</span><br><span class="line">root         --&gt;所有者</span><br><span class="line">100          --&gt;文件大小</span><br><span class="line">Jul 18 15:08 --&gt;创建时间</span><br><span class="line">xcb.log      --&gt;文件名</span><br></pre></td></tr></table></figure>
</code></pre><p><strong>权限管理：</strong></p>
<pre><code>rwxrwxrwx：

    左三位：定义user的权限
    中三位：定义group的权限
    右三位：定义other的权限

进程安全上下文：

    进程对文件的访问权限应用模型：
        进程的属主与文件的属主是否相同，若果相同，则应用owner权限
        否则，检查进程的属主是否属于文件的属组，如果是，则应用group权限
        否则，就只能应用other权限

权限：

       r：readable 可读
       w：writable 可写
       x：excutable 可执行

        文件权限： （一般情况下，普通文件不该拥有x权限）
            r：可获取文件的数据
            w：可修改文件的数据
            x：可将此文件运行为进程

        目录权限：
            r：可以使用ls命令获取其下的所有文件列表
            w：可修改此目录下的文件列表；创建或删除文件
            x：可cd至目录中，且可使用ll来获取所有文件的详细属性信息

        mode：rwxrwxrwx
        ownership：user，group

权限组合机制：

        --- 000 0
        --x 001 1
        -w- 010 2
        -wx 011 3
        r-- 100 4
        r-x 101 5
        rw- 110 6
        rwx 111 7

权限管理命令：

        chmod命令三种用法
            chmod [OPTION]... MODE[,MODE]... FILE...
            chmod [OPTION]... OCTAL-MODE FILE...
            chmod [OPTION]... --reference=RFILE FILE...
            三类用户：
                u：所有者user
                g：所属组group
                o：其他人other
                a：所有人
            （1）chmod [OPTION]... MODE[,MODE]... FILE...
                MODE表示法：
                    赋权表示法：直接操作一类用户的所有权限位rwx
                        u=
                        g=
                        o= 
                        a=
                    授权表示法：直接操作一类用户的一个权限位r,w,x
                        u+,u-
                        g+,g-
                        o+,o-
                        a+,a-      
            （2）chmod [OPTION]... OCTAL-MODE FILE...
                八进制表示法：
                    eg：chmod 777 文件名    
                777表示 rwxrwxrwx
            （3）chmod [OPTION]... --reference=RFILE FILE...
                引用表示法：
             选项：
             -R，递归修改

从属关系管理命令：chown，chgrp

        chown命令：
            chown [OPTION]... [OWNER][:[GROUP]] FILE...
               chown [OPTION]... --reference=RFILE FILE...
               选项：
                   -R 递归修改
           chgrp命令：
            chown [OPTION]... [OWNER][:[GROUP]] FILE...
               chown [OPTION]... --reference=RFILE FILE...

umask：文件的权限反向掩码，遮罩码

           文件：rw-rw-rw-
               666-umask 默认权限
           目录：rwxrwxrwx
               777-umask 默认权限
        注意：之所以文件用666去减，是因为文件默认不得拥有执行权限，如果减得的结果中有执行权限，则需要将其加1
               666-022=644
               777-022=756

           umask命令：
               umask：查看当前umask
               umask MASK:设置umask

           注意：此类设定仅对当前shell进程有效 


特殊权限：SUID、SGID、Stick

         SUID 权限表示为：s
             作用在可执行、二进制程序
             当用户运行时继承此程序所有者的权限
        SGID 权限表示为：s
            文件：作用在可执行、二进制程序
                继承此程序所属组的权限
            文件夹：作用于目录上
                当用户在目录新建文件时继承目录所属组
        Sticky 权限表示为：t
            作用于目录上，目录中的文件只能被所有者删除

限制root权限

    chattr命令
        chattr +i 加锁，禁止删除,改名，更改
      chattr -i 解除+i
      chattr +a 可追加内容，不可删除
      chattr -a 解除 +a
      chattr +A 禁用读时间的功能
      chattr -A 解除 -A
      lsattr      查看特殊属性

访问控制列表：ACL，自定义权限

    setfacl命令
        setfacl -m u：wang：rw f1 自定义用户权限
        setfacl -m g：wang：rw wang 自定义组权限
        getfacl 文件 查看文件的acl权限
        setfacl -x wang f1 删除文件中用户wang的acl权限
        setfacl -b     清除文件中所有acl权限

        setfacl -R  目录  递归acl
        setfacl -M  调用文本，批量创建权限
        setfacl -X  调用文本批量删除权限
        --set选项(待补充)
    mask限高杆
        setfacl -m mask::r f1 文件中的acl权限最高只有r--
        setfacl -m mask:rw f1 文件中的acl权限最高只有rw-

    注意：在设定了acl自定义权限之后
        chmod g= file 修改的是mask的权限，而不是group权限

    acl生效顺序：所有者、自定义用户、自定义组、其他人

     FAT分区不支持设置权限
</code></pre>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/07/29/第二周-用户和组的管理以及权限管理/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-第二周-命令、索引节点、标准IO和管道" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/26/第二周-命令、索引节点、标准IO和管道/">命令、索引节点、标准I/O和管道</a>
    </h1>
  

        
        <a href="/2018/07/26/第二周-命令、索引节点、标准IO和管道/" class="archive-article-date">
  	<time datetime="2018-07-26T12:00:00.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-07-26</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="DAY-4"><a href="#DAY-4" class="headerlink" title="DAY 4"></a>DAY 4</h1><hr>
<p><strong>内容概括：个人梳理命令、索引节点、标准I/O和管道相关知识</strong></p>
<h1 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h1><pre><code>mv        单个文件重命名与移动
rename    多个文件重命名
rm        删除
shred     覆盖式删除
tree      目录树
dd        创建指定大小的文件
mkdir     创建空目录
redir     删除空目录
file      判断文件类型
tr        标准输入和标准输出
tee       配合管道使用
|         管道
</code></pre><h1 id="索引节点"><a href="#索引节点" class="headerlink" title="索引节点"></a>索引节点</h1><pre><code>inode（index node）
硬链
软链接
关于磁盘存储内部工作原理
inode 表结构的直接指针与间接指针
</code></pre><h1 id="标准I-O和管道"><a href="#标准I-O和管道" class="headerlink" title="标准I/O和管道"></a>标准I/O和管道</h1><pre><code>关于重定向的语法…
多行STDIN&quot;&lt;&lt;终止词&quot;
</code></pre><hr>
<h1 id="命令-1"><a href="#命令-1" class="headerlink" title="命令"></a>命令</h1><h2 id="mv命令"><a href="#mv命令" class="headerlink" title="mv命令"></a>mv命令</h2><p>mv &lt;选项&gt; &lt;文件名&gt; &lt;文件名&gt;<br>用于移动覆盖文件或者给文件改名 （仅能单个改名）<br>常用选项：<br>-i 覆盖前询问<br>-f 强制覆盖</p>
<p>eg：改名<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 app]<span class="comment"># ls</span></span><br><span class="line">dir1 f1 f2 f3 f4</span><br><span class="line">[root@Souler6 app]<span class="comment"># mv f2 f5 #将f2改名为f5</span></span><br><span class="line">[root@Souler6 app]<span class="comment"># ls</span></span><br><span class="line">dir1 f1 f3 f4 f5</span><br></pre></td></tr></table></figure></p>
<p>eg：移动且改名<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 app]<span class="comment"># ll</span></span><br><span class="line">total 4</span><br><span class="line">-rw-r–r–. 2 root root 0 Jul 26 09:35 f5 <span class="comment">#注意创建时间</span></span><br><span class="line">[root@Souler6 app]<span class="comment"># ll dir1/</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 f4</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 f5</span><br><span class="line">[root@Souler6 app]<span class="comment"># mv f5 dir1/f6 #移动并改名</span></span><br><span class="line">[root@Souler6 app]<span class="comment"># ll dir1/</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 f4</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 f5</span><br><span class="line">-rw-r–r–. 2 root root 0 Jul 26 09:35 f6 <span class="comment">#f5移动且改名的文件f6，创建时间与f5相同</span></span><br></pre></td></tr></table></figure></p>
<p>eg：移动改名且覆盖<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 app]<span class="comment"># touch f5</span></span><br><span class="line">[root@Souler6 app]<span class="comment"># ll</span></span><br><span class="line">total 4</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 11:03 f5 <span class="comment">#注意创建时间</span></span><br><span class="line">[root@Souler6 app]<span class="comment"># ll dir1/</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r–r–. 2 root root 0 Jul 26 09:35 f6 <span class="comment">#注意创建时间</span></span><br><span class="line">[root@Souler6 app]<span class="comment"># mv f5 dir1/f6</span></span><br><span class="line">mv: overwrite `dir1/f6’? y <span class="comment">##文件已存在询问是否覆盖，加-f 可以强制覆盖</span></span><br><span class="line">[root@Souler6 app]<span class="comment"># ll dir1/</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 11:03 f6 <span class="comment">#改名且覆盖后，时间也变了</span></span><br></pre></td></tr></table></figure></p>
<h2 id="rename命令"><a href="#rename命令" class="headerlink" title="rename命令"></a>rename命令</h2><p>批量改名字<br>eg：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 dir1]<span class="comment"># ll</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 f1</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 f2</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 f3</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 f4</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 f5</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 11:03 f6</span><br><span class="line">[root@Souler6 dir1]<span class="comment"># rename ‘f’ ‘xcb’ f*</span></span><br><span class="line">[root@Souler6 dir1]<span class="comment"># ll</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb1</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb2</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb3</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb4</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb5</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 11:03 xcb6</span><br></pre></td></tr></table></figure></p>
<h2 id="rm命令-可还原的删除"><a href="#rm命令-可还原的删除" class="headerlink" title="rm命令 可还原的删除"></a>rm命令 可还原的删除</h2><p>rm &lt;选项&gt;&lt;文件名&gt;..<br>常用选项：<br>-i 交互式，删除前询问<br>-f 强制性，不询问</p>
<p>eg：交互式删除<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 dir1]<span class="comment"># ll</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb1</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb2</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb3</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb4</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb5</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 11:03 xcb6</span><br><span class="line">[root@Souler6 dir1]<span class="comment"># rm xcb1 xcb2 xcb3</span></span><br><span class="line">rm: remove regular empty file xcb1? y </span><br><span class="line">rm: remove regular empty file xcb2? y</span><br><span class="line">rm: remove regular empty file xcb3? y</span><br><span class="line">[root@Souler6 dir1]<span class="comment"># ll</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb4</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb5</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 11:03 xcb6</span><br></pre></td></tr></table></figure></p>
<p>eg：强制删除<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 dir1]<span class="comment"># ll</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb4</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb5</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 11:03 xcb6</span><br><span class="line">[root@Souler6 dir1]<span class="comment"># rm -f xcb4</span></span><br><span class="line">[root@Souler6 dir1]<span class="comment"># ll</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb5</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 11:03 xcb6</span><br></pre></td></tr></table></figure></p>
<p>eg：删除目录 需要-r递归删除<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 app]<span class="comment"># ll</span></span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jul 26 11:15 dir1</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 09:35 f1</span><br><span class="line">lrwxrwxrwx. 1 root root 7 Jul 26 09:37 f3 -&gt; /app/f1</span><br><span class="line">lrwxrwxrwx. 1 root root 9 Jul 26 09:39 f4 -&gt; ../app/f1</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 11:01 f6</span><br><span class="line">[root@Souler6 app]<span class="comment"># ll dir1/</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:54 xcb5</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 11:03 xcb6</span><br><span class="line">[root@Souler6 app]<span class="comment"># rm -rf dir1/</span></span><br><span class="line">[root@Souler6 app]<span class="comment"># ll</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 09:35 f1</span><br><span class="line">lrwxrwxrwx. 1 root root 7 Jul 26 09:37 f3 -&gt; /app/f1</span><br><span class="line">lrwxrwxrwx. 1 root root 9 Jul 26 09:39 f4 -&gt; ../app/f1</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 11:01 ll f6</span><br></pre></td></tr></table></figure></p>
<p>利用alias命令与mv，创建一个垃圾箱trash<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">alias</span> rm=<span class="string">"mv -t /trash"</span>  <span class="comment">#利用-t选项 调换前后顺序</span></span><br></pre></td></tr></table></figure></p>
<p>创建一个名为bigfile，大小为100M的文件。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dd <span class="keyword">if</span>=/dev/zero of=bigfile bs=1M count=100</span><br></pre></td></tr></table></figure></p>
<p>删除大文件，急速为系统腾出空间，使用重定向原理&gt;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ &gt; bigfile</span><br><span class="line">$ rm -rf bigfile</span><br></pre></td></tr></table></figure></p>
<p>未知命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ lsof | grep deleted</span><br></pre></td></tr></table></figure></p>
<p>提问：删除文件的底层原理?</p>
<h2 id="shred命令-相对比较安全的删除"><a href="#shred命令-相对比较安全的删除" class="headerlink" title="shred命令 相对比较安全的删除"></a>shred命令 相对比较安全的删除</h2><p>shred -zv -n5 &lt;文件名&gt;</p>
<h2 id="tree命令"><a href="#tree命令" class="headerlink" title="tree命令"></a>tree命令</h2><p>tree &lt;选项&gt;&lt;目录名&gt;</p>
<pre><code>查看目录的树
tree -d 只看目录树
tree -L n 查看层数，n为层数
tree -P 配合通配符使用*
</code></pre><h2 id="dd命令"><a href="#dd命令" class="headerlink" title="dd命令"></a>dd命令</h2><pre><code>$ dd if=/dev/zero of=bigfile bs=1M count=100
创建一个名为bigfile，大小为100M的文件。
</code></pre><h2 id="mkdir命令"><a href="#mkdir命令" class="headerlink" title="mkdir命令"></a>mkdir命令</h2><p>mkdir -p 自动创建不存在的子目录<br>创建空目录<br>eg：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 ~]<span class="comment"># mkdir /app/dir1/&#123;x/&#123;a,b&#125;,y/&#123;c,d&#125;&#125;</span></span><br><span class="line">mkdir: cannot create directory /app/dir1/x/a: No such file or directory mkdir: cannot create directory/app/dir1/x/b’: No such file or directory</span><br><span class="line">mkdir: cannot create directory /app/dir1/y/c: No such file or directory mkdir: cannot create directory/app/dir1/y/d’: No such file or directory</span><br><span class="line"><span class="comment">#报错原因，因为没加-p选项，不会自动创建不存在的子目录，我们可以尝试加参数后在运行</span></span><br><span class="line">[root@Souler6 ~]<span class="comment"># mkdir -pv /app/dir1/&#123;x/&#123;a,b&#125;,y/&#123;c,d&#125;&#125;</span></span><br><span class="line">mkdir: created directory /app/dir1 mkdir: created directory/app/dir1/x</span><br><span class="line">mkdir: created directory /app/dir1/x/a mkdir: created directory/app/dir1/x/b</span><br><span class="line">mkdir: created directory /app/dir1/y mkdir: created directory/app/dir1/y/c</span><br><span class="line">mkdir: created directory /app/dir1/y/d</span><br><span class="line"><span class="comment">#加了-p选项就创建成功了，-v是显示创建过程</span></span><br></pre></td></tr></table></figure></p>
<pre><code>[root@Souler6 ~]# tree /app/dir1/
/app/dir1/
├── x
│   ├── a
│   └── b
└── y
    ├── c
    └── d

6 directories, 0 files
</code></pre><p>用目录树显示，想使用tree需自己安装。。</p>
<h2 id="rmdir命令"><a href="#rmdir命令" class="headerlink" title="rmdir命令"></a>rmdir命令</h2><p>rmdir -p 自动删除上一级空目录<br>只能删空目录<br>eg：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 app]<span class="comment"># mkdir -pv /app/dir1/dir2/&#123;/dir3,/dir4/dir5/dir6&#125;</span></span><br><span class="line">mkdir: created directory /app/dir1 mkdir: created directory/app/dir1/dir2</span><br><span class="line">mkdir: created directory /app/dir1/dir2//dir3 mkdir: created directory/app/dir1/dir2//dir4</span><br><span class="line">mkdir: created directory /app/dir1/dir2//dir4/dir5 mkdir: created directory/app/dir1/dir2//dir4/dir5/dir6</span><br></pre></td></tr></table></figure></p>
<pre><code>[root@Souler6 app]# tree /app/
/app/
└── dir1
└── dir2
    ├── dir3
    └── dir4 有树目录可看出，dir2非空目录
        └── dir5
            └── dir6
        6 directories, 0 files
</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 app]<span class="comment"># rmdir -pv /app/dir1/dir2/dir4/dir5/dir6/</span></span><br><span class="line">rmdir: removing directory, /app/dir1/dir2/dir4/dir5/dir6/ rmdir: removing directory,/app/dir1/dir2/dir4/dir5</span><br><span class="line">rmdir: removing directory, /app/dir1/dir2/dir4 rmdir: removing directory,/app/dir1/dir2</span><br><span class="line">rmdir: failed to remove directory /app/dir1/dir2: Directory not empty <span class="comment">#删到过程能够看到报错了，由于目录dir2非空目录，停止删除</span></span><br></pre></td></tr></table></figure>
<pre><code>[root@Souler6 app]# tree /app/
/app/
└── dir1
    └── dir2
        └── dir3 #对比上面的树目录中可以看到dir2目录下空的子目录已被清理
3 directories, 0 files
</code></pre><p>故，可印证rmdir只能删空目录，-p是将父目录为空的目录删除，逆向递归删除</p>
<h1 id="索引节点-1"><a href="#索引节点-1" class="headerlink" title="索引节点"></a>索引节点</h1><p>linux底层工作原理</p>
<h2 id="inode（index-node）"><a href="#inode（index-node）" class="headerlink" title="inode（index node）"></a>inode（index node）</h2><p>节点编号简介</p>
<pre><code>inode number ,inode编号，是每个文件的唯一性，
inode table 节点表 属于元数据
节点编号，链接数（matadata）
date block 数据块 属于数据
1M、1G (data)
</code></pre><p>即时节点编号也有可能出现出现节点编号相同的情况<br>eg:</p>
<pre><code>分区所在挂载的目录节点编号相同
在同一个分区中，节点编号相同即为同一个文件（涉及硬链接）
</code></pre><p>在不同分区中，即时节点编号相同也不是同一文件，每个分区中的节点编号不互通（分区挂载点除外）<br>节点编号是有限的，可回收利用<br>eg:</p>
<pre><code>f1的节点编号为52，删除f1后又创建f2的节点编号为52
原因：由于f1被删除后，节点编号52空缺，之后会被分配给新创建的文件f2使用
</code></pre><p>查看节点编号</p>
<pre><code>$ls -l -i
</code></pre><p>查看节点编号的使用情况</p>
<pre><code>$ df -i
</code></pre><h2 id="硬链接"><a href="#硬链接" class="headerlink" title="硬链接"></a>硬链接</h2><p>独立，只能在同一个分区，不能跨设备，不能跨分区，局限性。<br>且多个硬链接文件所占的空间=单个源文件。可以理解为每一个硬链接都是给文件起了个新名字，所占用的资源不增加不减少。<br>文件夹不支持创建硬链接，节点编号不增长。</p>
<p>eg：</p>
<pre><code>[root@Souler6 ~]# touch /app/f1
[root@Souler6 ~]# ll -i /app/
total 0
11 -rw-r–r–. 1 root root 0 Jul 26 09:35 f1 ##11是节点编号，2是硬链接
[root@Souler6 ~]# ln /app/f1 /app/f2
[root@Souler6 ~]# ll -i /app/
total 0
11 -rw-r–r–. 2 root root 145 Jul 26 09:35 f1
11 -rw-r–r–. 2 root root 145 Jul 26 09:35 f2
#从上面的信息可以获取到 f1与f2是硬链接的关系，其节点编号相同，都为11，这两个文件是等同的，且所占空间为145个字节，而不是290个字节。
#将f1删除，f2可以运行，不受影响。
#将f2删除，f1可以运行，不受影响。
#可以理解为，删除硬链接仅仅是将文件多个名字中去掉一个名字
#但若是将f1，f2同时删除，此文件将不存在，且节点编号空缺出来，等待分配给新的文件
</code></pre><p>创建硬链接</p>
<pre><code>$ ln f1 f2
</code></pre><h2 id="软链接"><a href="#软链接" class="headerlink" title="软链接"></a>软链接</h2><p>仅仅只是一个快捷方式，每个软链接会占用一个节点编号，每个快捷方式所占空间与路径有关<br>可跨分区，依赖性：假如源文件被删除，则软链接失效。</p>
<p>同分区使用：</p>
<pre><code>[root@Souler6 ~]# ln -s /app/f1 /app/f3 （使用绝对路径）
[root@Souler6 ~]# ln -s ../app/f1 /app/f4 （使用相对路径）
[root@Souler6 ~]# ll -i /app/
total 0
11 -rw-r–r–. 2 root root 145 Jul 26 09:35 f1
11 -rw-r–r–. 2 root root 145 Jul 26 09:35 f2
12 lrwxrwxrwx. 1 root root 7 Jul 26 09:37 f3 -&gt; /app/f1
13 lrwxrwxrwx. 1 root root 9 Jul 26 09:39 f4 -&gt; ../app/f1

f3与f4都是f1的软链接，相当于f1的快捷方式，即时这样也不是同一个文件，可以看到f3与f4的节点编号不同，各自占用一个独立的节点编号。
以及可以看到f3指向的路径有7个字符占用7个字节，f4指向的路径有9个字符占用了9个字节，因此可以得出每个快捷方式所占空间与源文件无关，而是与路径的字符长度有关。
</code></pre><p>跨分区使用</p>
<pre><code>[root@Souler6 ~]# ln -s ../app/f1 f4
[root@Souler6 ~]# ll -i /root/
total 104
134418 -rw——-. 1 root root 1456 Jul 17 11:08 anaconda-ks.cfg
153481 drwxr-xr-x. 2 root root 4096 Jul 26 08:57 Desktop
153485 drwxr-xr-x. 2 root root 4096 Jul 17 11:18 Documents
153482 drwxr-xr-x. 2 root root 4096 Jul 17 11:18 Downloads
153603 -rw-r–r–. 1 root root 0 Jul 26 09:34 f1
153615 lrwxrwxrwx. 1 root root 9 Jul 26 09:38 f4 -&gt; ../app/f1

可以看到快捷方式f4使用的节点编号，跟上面的f4是不一样的，差别很大
跨区创建所生成的软链接会按当前分区剩余的节点编号去分配节点。
可以看到/分区下 快捷方式f4的节点编号为153615
而分区/app下，快捷方式f4的节点编号为13。

多用相对路径，每个软链接独自分配一个不同的节点编号
</code></pre><p>/dev/cdrom-&gt; sr0 光盘的快捷方式<br>创建软链接</p>
<pre><code>ln -s f1 f2，
</code></pre><p>多用相对路径</p>
<h2 id="分析-mv-f1-f2-与-ln-s-f1-f2-的底层原理"><a href="#分析-mv-f1-f2-与-ln-s-f1-f2-的底层原理" class="headerlink" title="分析 mv f1 f2 与 ln -s f1 f2 的底层原理"></a>分析 mv f1 f2 与 ln -s f1 f2 的底层原理</h2><p><strong>mv f1 f2</strong><br>同分区中，改名，或者移动，并不会改变节点编号<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 mv]<span class="comment"># ll -i</span></span><br><span class="line">total 0</span><br><span class="line">131074 -rw-r–r–. 1 root root 0 Jul 26 12:25 f1 <span class="comment">#改名前</span></span><br><span class="line">[root@Souler6 mv]<span class="comment"># mv f1 ../f2 #移动f1并改名为f2</span></span><br><span class="line">[root@Souler6 mv]<span class="comment"># ll -i</span></span><br><span class="line">total 0</span><br><span class="line">[root@Souler6 mv]<span class="comment"># ll -i ../</span></span><br><span class="line">total 8</span><br><span class="line">131074 -rw-r–r–. 1 root root 0 Jul 26 12:25 f2 <span class="comment">#改名后，文件数据没任何变化</span></span><br><span class="line">524289 drwxr-xr-x. 2 root root 4096 Jul 26 12:27 ln</span><br><span class="line">131073 drwxr-xr-x. 2 root root 4096 Jul 26 12:29 mv</span><br><span class="line">同分区中，改名且覆盖</span><br><span class="line">[root@Souler6 mv]<span class="comment"># touch f22 #创建一个新的文件f22</span></span><br><span class="line">[root@Souler6 mv]<span class="comment"># ll -i</span></span><br><span class="line">total 0</span><br><span class="line">131075 -rw-r–r–. 1 root root 0 Jul 26 12:31 f22 <span class="comment">#f22节点编号131075</span></span><br><span class="line">[root@Souler6 mv]<span class="comment"># ll -i ../</span></span><br><span class="line">total 8</span><br><span class="line">131074 -rw-r–r–. 1 root root 0 Jul 26 12:25 f2 <span class="comment">#f2节点编号为131074</span></span><br><span class="line">524289 drwxr-xr-x. 2 root root 4096 Jul 26 12:27 ln</span><br><span class="line">131073 drwxr-xr-x. 2 root root 4096 Jul 26 12:31 mv</span><br><span class="line">[root@Souler6 mv]<span class="comment"># mv f22 ../f2</span></span><br><span class="line">mv: overwrite `../f2’? y <span class="comment">#因已存在f2文件，故改名后覆盖</span></span><br><span class="line">[root@Souler6 mv]<span class="comment"># ll -i ../</span></span><br><span class="line">total 8</span><br><span class="line">131075 -rw-r–r–. 1 root root 0 Jul 26 12:31 f2 <span class="comment">#f2节点编号为131075，变了</span></span><br><span class="line">524289 drwxr-xr-x. 2 root root 4096 Jul 26 12:27 ln</span><br><span class="line">131073 drwxr-xr-x. 2 root root 4096 Jul 26 12:31 mv</span><br><span class="line">跨分区移动</span><br><span class="line">[root@Souler6 ~]<span class="comment"># ll -i f1</span></span><br><span class="line">153603 -rw-r–r–. 1 root root 0 Jul 26 09:34 f1</span><br><span class="line">[root@Souler6 ~]<span class="comment"># mv f1 /boot</span></span><br><span class="line">[root@Souler6 ~]<span class="comment"># ll -i /boot/f1</span></span><br><span class="line">38 -rw-r–r–. 1 root root 0 Jul 26 09:34 /boot/f1 <span class="comment">#注意，节点编号改变了</span></span><br></pre></td></tr></table></figure></p>
<p>根据以上分析可以得出<br>同分区中<br>mv改名后，文件数据没任何变化<br>mv移动文件时，节点编号不会发生改变<br>mv覆盖文件时，会把节点编号一起覆盖掉<br>跨分区的移动<br>mv移动后，节点编号会发生改变</p>
<p><strong>ln -s f1 f2</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 mv]<span class="comment"># ll -i ../ln/</span></span><br><span class="line">total 0</span><br><span class="line">524290 -rw-r–r–. 1 root root 0 Jul 26 12:45 f1 <span class="comment">#源文件的节点编号为524290</span></span><br><span class="line">[root@Souler6 mv]<span class="comment"># ln -s ../../app/ln/f1 /app/mv/f3 #可以理解成将相对路径下f1文件的快捷方式发送到绝对路径并起名为f3</span></span><br><span class="line">[root@Souler6 mv]<span class="comment"># ll -i ../mv/</span></span><br><span class="line">total 0</span><br><span class="line">131076 lrwxrwxrwx. 1 root root 10 Jul 26 13:01 f3 -&gt; ../../app/ln/f1<span class="comment">#快捷方式的节点为131076</span></span><br><span class="line"></span><br><span class="line">[root@Souler6 mv]<span class="comment"># tree /app/</span></span><br><span class="line">/app/</span><br><span class="line">├── f2</span><br><span class="line">├── ln</span><br><span class="line">│   └── f1</span><br><span class="line">└── mv</span><br><span class="line">    └── f3 -&gt; /app/ln/f1</span><br><span class="line">2 directories, 3 files</span><br></pre></td></tr></table></figure></p>
<p>根据以上分析可以得出，<br>创建快捷方式需指定相对路径，再指定存放的绝对路径<br>快捷方式也会被单独分配一个节点，且所占大小与路径字符有关<br>创建同分区中和跨分区的软链接<br>ln -s 软链接都会被分配一个新的节点编号</p>
<p><strong>xargs touch 突破创建文件个数的限制</strong></p>
<pre><code>[root@Souler6 ~]# echo f{1..100000} | xargs touch
</code></pre><p>##inode 表结构的直接指针与间接指针<br>直接指针</p>
<pre><code>12共有个直接指针，每个指针指向一个大小为4k的数据块，最多存储48k，但存储的数据超过48k则需要用到间接指针来存储更大的数据
</code></pre><p>间接指针</p>
<pre><code>一个间接指针占4个字节byte
一个数据块占4k，4k=41024byte
所以1个数据块中有1024个间接指针
</code></pre><p>一级间接指针 4MB</p>
<pre><code>间接指针指向下一个文件块的指针，文件块的大小为4k，每个指针占4个byte，故可以理解为该文件块下有1024个指针，1024个指针分别指向1024个4k的数据块，故可存放文件的大小为10244k=4MB
</code></pre><p>二级间接指针 4GB</p>
<pre><code>间接指针指向下一个文件块的指针，文件块的大小为4k，每个指针占4个byte，故可以理解为该文件块下有1024个指针，1024个指针分别指向1024个文件块，这种又衍生除了10241024个指针，这10241024个指针再次指向数据块，每个数据块大小为4k，故可存放的文件大小为102410244k=4GB
</code></pre><p>三级间接指针 4TB</p>
<pre><code>与二级指针同理，故可存放的文件大小为102410241024*4k=4TB
</code></pre><p><strong>file命令</strong><br>在linux中，不注重后缀，一般情况下更改后缀不影响程序的运行<br>file [选项] &lt;文件名&gt;</p>
<p>也可以通过hexdump查看开头作出判断</p>
<pre><code>hexdump -C -n 100 &lt;文件名&gt;
</code></pre><h2 id="标准I-O"><a href="#标准I-O" class="headerlink" title="标准I/O"></a>标准I/O</h2><p>input：输入数据 ouput：输出数据<br>文件描述符</p>
<pre><code>打开的文件都有一个fd：file descriptor(文件描述符)
进程运行会产生文件描述符
自动生成的文件描述符存储在/proc/PID/fd中，PID是一个数字（进程编号）
</code></pre><p>查看进程</p>
<pre><code>$ ps aux
</code></pre><p>linux中给程序提供的三种I/O设备</p>
<pre><code>标准输入 STDIN 0 默认位置：键盘
标准输出 STDOUT 1 默认位置：当前终端窗口
标准错误 STDERR 2 默认位置：当前终端窗口
</code></pre><p><strong>I/O重定向：改变默认位置</strong></p>
<p>把输出和错误重定向到文件</p>
<p>大致讲一下标准输入、标准输出、标准错误的概念<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 app]<span class="comment"># ll /app/ /error/ # 一般我们在键盘中敲入命令，这就是标准输入STDIN（0）</span></span><br><span class="line">ls: cannot access /error/: No such file or directory <span class="comment"># 执行命令后由于/error文件不存在，故，报错，这种就是标准错误STDERR（2）标准错误会默认打印在当前终端窗口</span></span><br><span class="line">/app/: <span class="comment">#/app存在，故，这是一个标准输出STDOUT（1）标准输出会默认打印在当前终端窗口</span></span><br><span class="line">total 12</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jul 26 10:12 d1</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jul 26 10:12 d2</span><br></pre></td></tr></table></figure></p>
<p>下面举例子详细说明： ‘&gt;’可以用于重定向, ‘&gt;&gt;’ 用于重定向的追加<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 app]<span class="comment"># ls</span></span><br><span class="line">d1 d2</span><br><span class="line">[root@Souler6 app]<span class="comment"># ll /app/ /error/ &gt; 1.txt #标准输入，但是’&gt;’已经将标准输出进行了重定向，故屏幕不打印标准输出，只打印了标准错误</span></span><br><span class="line">ls: cannot access /error/: No such file or directory</span><br><span class="line">[root@Souler6 app]<span class="comment"># cat 1.txt # 查看1.txt中是不是真的打印了标准输出</span></span><br><span class="line">/app/: <span class="comment">#这是本来应该被打印在屏幕上的标准输出，但’&gt;’对其进行了重定向</span></span><br><span class="line">total 8</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:33 1.txt <span class="comment">#这是创建用于存放标准输出的文件，因为ll在打印前就对1.txt进行了列出命令，初始大小为0，实际上它的大小已经不是0了，我们可以理解为是 ‘ll命令的速度’比‘重定向打印的速度快’。</span></span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jul 26 10:32 d1</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jul 26 10:32 d2</span><br><span class="line">[root@Souler6 app]<span class="comment"># ll #查看1.txt的大小</span></span><br><span class="line">total 12</span><br><span class="line">-rw-r–r–. 1 root root 153 Jul 26 10:33 1.txt <span class="comment">#可以看到占用了153个字节</span></span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jul 26 10:32 d1</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jul 26 10:32 d2</span><br><span class="line">[root@Souler6 app]<span class="comment"># ll /app/ /error/ &gt;&gt; 1.txt #使用’&gt;&gt;’表示追加打印，不加则会覆盖</span></span><br><span class="line">ls: cannot access /error/: No such file or directory</span><br><span class="line">[root@Souler6 app]<span class="comment"># cat 1.txt # 可以看到标准输出追加到了原有内容的下边</span></span><br><span class="line">/app/:</span><br><span class="line">total 8</span><br><span class="line">-rw-r–r–. 1 root root 0 Jul 26 10:33 1.txt</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jul 26 10:32 d1</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jul 26 10:32 d2</span><br><span class="line">/app/:</span><br><span class="line">total 12</span><br><span class="line">-rw-r–r–. 1 root root 153 Jul 26 10:33 1.txt</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jul 26 10:32 d1</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jul 26 10:32 d2</span><br><span class="line">[root@Souler6 app]<span class="comment"># ll</span></span><br><span class="line">total 12</span><br><span class="line">-rw-r–r–. 1 root root 307 Jul 26 10:48 1.txt <span class="comment">#由于内容追加，文件大小从153字节增长到了307字节</span></span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jul 26 10:32 d1</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jul 26 10:32 d2</span><br></pre></td></tr></table></figure></p>
<p>从上文可以看到三种I/O他们都带着一个数字<br>STDIN（0）,STDOUT（1）,STDERR2（2）<br>那这些数字是代表什么呢</p>
<pre><code>实际上 ‘&gt;’是’1&gt;’ 我们可以这样理解 1&gt;重定向标准输出（数字具体表现在这）
有’1&gt;’当然还有’2&gt;’ 我们可以这样理解 2&gt;重定向标准错误（数字具体表现在这）
</code></pre><p>通过上面的例子<br>eg:我们直接尝试把标准错误追加到1.txt （也可以）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 app]<span class="comment"># ll /app/ /error/ 2&gt; 1.txt #把标准错误重定向至1.txt中打印</span></span><br><span class="line">/app/: <span class="comment">#没有重定向标准输出，故默认在屏幕中打印</span></span><br><span class="line">total 12</span><br><span class="line">-rw-r–r–. 1 root root 53 Jul 26 11:07 1.txt</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jul 26 10:32 d1</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jul 26 10:32 d2</span><br><span class="line">[root@Souler6 app]<span class="comment"># cat 1.txt # 查看1.txt是否打印了标准错误</span></span><br><span class="line">ls: cannot access /error/: No such file or directory <span class="comment">#可以看到打印了标准错误，文件中内容不再有之前的标准输出，可以说明由于不是重定向追加，所以直接覆盖了原文件1.txt</span></span><br></pre></td></tr></table></figure></p>
<h2 id="关于重定向的语法…"><a href="#关于重定向的语法…" class="headerlink" title="关于重定向的语法…"></a>关于重定向的语法…</h2><p>eg：</p>
<pre><code>&gt;    重定向标准输出
&gt;&gt;   重定向标准输出追加
2&gt;   重定向标准错误
2&gt;&gt;  重定向标准错误追加
set -C 重定向不覆盖
set +C 重定向覆盖
&gt;|   重定向强行覆盖 （用于忽略set -C）
2&gt;&amp;1 将2（标准错误）重定向到1（标准输出）
1&gt;&amp;2 将1（标准输出）重定向到2（标准错误）
’&amp;&gt;’ 等同于’2&gt;&amp;1’把标准错误重定向为标准输出,
(‘&amp;&gt;’兼容性不如’2&gt;&amp;1’,二者重定向意思等同)
</code></pre><p><strong>面试题:以下哪个与众不同</strong></p>
<p>A app.sh &gt; f1.log 2&gt;&amp;1<br>B app.sh 2&gt;&amp;1 &gt; f1.log<br>C app.sh 2&gt;f1.log 1&gt;&amp;2<br>D app.sh &amp;&gt;f1.log</p>
<p>答案：<strong>B</strong></p>
<h2 id="tr命令"><a href="#tr命令" class="headerlink" title="tr命令"></a>tr命令</h2><p>既有标准输入，也有标准输出<br>tr可以使用’&lt;’重定向输入，’&gt;’重定向输入<br>举个简单例子：将1.txt内容中的小写字母转换为大写字母<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 app]<span class="comment"># cat 1.txt</span></span><br><span class="line">ls: cannot access /error/: No such file or directory</span><br><span class="line">ls: cannot access /error/: No such file or directory</span><br><span class="line">[root@Souler6 app]<span class="comment"># tr ‘a-z’ ‘A-Z’ &lt; 1.txt #将1.txt的内容重定向为标准输入</span></span><br><span class="line">LS: CANNOT ACCESS /ERROR/: NO SUCH FILE OR DIRECTORY</span><br><span class="line">LS: CANNOT ACCESS /ERROR/: NO SUCH FILE OR DIRECTORY</span><br></pre></td></tr></table></figure></p>
<h2 id="多行STDIN"><a href="#多行STDIN" class="headerlink" title="多行STDIN"></a>多行STDIN</h2><p>使用“&lt;&lt;终止词”命令从键盘把多行重导向给STDIN直到终止词位置<br><strong>cat &gt; file &lt;&lt; EOF</strong><br>举个简单的例子:</p>
<pre><code>[root@Souler6 app]# cat &gt; 1.txt &lt;&lt;EOF
&gt;123
&gt;456
&gt;789
EOF
[root@Souler6 app]# cat 1.txt
123
456
789
</code></pre><p>（EOF可以是任意字符）</p>
<h2 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h2><p>用符号 <strong>|</strong> 表示<br>用法：cmd1 <strong>|</strong> cmd2 <strong>|</strong> cmd3 <strong>|</strong> …<br>多个命令的链接，最后的命令会基于上一命令的基础，对内容进行再处理进行输出<br>举个简单例子：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@Souler6 app]<span class="comment"># ll 1.txt #未加管道</span></span><br><span class="line">-rw-r–r–. 1 root root 106 Jul 26 11:15 1.txt</span><br><span class="line">[root@Souler6 app]<span class="comment"># ll 1.txt | tr ‘a-z’ ‘A-Z’ #加管道进行大小写字母转换，并输出</span></span><br><span class="line">-RW-R–R–. 1 ROOT ROOT 106 JUL 26 11:15 1.TXT</span><br></pre></td></tr></table></figure></p>
<h2 id="tee命令"><a href="#tee命令" class="headerlink" title="tee命令"></a>tee命令</h2><p>用于管道中打印子shell的标准输出</p>
<p>（待补充）<br>未完待续…</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/07/26/第二周-命令、索引节点、标准IO和管道/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-第二周-关于文件系统，以及history、cd、ls、touch、cp命令" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/25/第二周-关于文件系统，以及history、cd、ls、touch、cp命令/">关于文件系统，以及history、cd、ls、touch、cp命令以及通配符</a>
    </h1>
  

        
        <a href="/2018/07/25/第二周-关于文件系统，以及history、cd、ls、touch、cp命令/" class="archive-article-date">
  	<time datetime="2018-07-25T12:00:00.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-07-25</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>==DAY 3==</strong></p>
<p><strong>命令行扩展、被括起来的集合</strong></p>
<pre><code>``  $()  把一个命令的输出打印给另一个命令的参数

&quot;&quot;弱引用 ，&apos;&apos;强引用

{} 打印重复字符串的简化形式
</code></pre><p><strong>文件通配符</strong></p>
<pre><code>*        --&gt; 匹配任意个字符
？       --&gt; 匹配单个字符
~        --&gt; 当前用户家目录
~mage    --&gt; 用户mage家目录
~+       --&gt; 当前工作目录
~-       --&gt; 前一个工作目录
[0-9]:   --&gt; 匹配数字范围
[a-z]:   --&gt; 小写字母
[A-Z]:   --&gt; 大写字母
[qwer]   --&gt; 匹配列表中的任何的一个字符
[^qwer]  --&gt; 匹配列表中的所有字符以外的字符

预定义支付类： man 7 glob

[:digit:]：任意数字，相当于0-9
[:lower:]：任意小写字母
[:upper:]: 任意大写字母
[:alpha:]: 任意大小写字母
[:alnum:]：任意数字或字母
[:blank:]：水平空白字符
[:space:]：水平或垂直空白字符
[:punct:]：标点符号
[:print:]：可打印字符
[:cntrl:]：控制（非打印）字符
[:graph:]：图形字符
[:xdigit:]：十六进制字符
</code></pre><p><strong>TAB键补全命令</strong></p>
<pre><code>前提是安装了程序 bash-completion
查看该安装包版本 
$rpm -qa bash-completion&lt;&gt;.noarch 
centos 6
支持命令、目录的补全；不支持补全命令选项参数
centos 7
支持命令、目录的补全；支持补全命令选项参数
</code></pre><p><strong>history命令</strong></p>
<pre><code>history命令用于显示指定数目的指令命令，读取历史命令文件中的目录到历史缓存区和将历史命令缓存区中的目录写入命令文件。
该命令单独使用时，仅显示历史命令，在命令行中，可以使用符号!执行指定序号的历史命令。例如，要执行第2个历史命令，则输入!2。
历史命令是被保存在内存中的，当退出或者登录Shell时，会自动保存或读取。在内存中，历史命令仅能够存储1000条历史命令，该数量是由环境变量HISTSIZE进行控制。
  每个用户的家目录下有个 .bash_history的文件，是专门存放用户所输入的命令历史。
.bash_history（并非即时记录，用户登出才会将history追加入文件，不正常关机则无法写入文件）

1.命令格式
history [选项][参数]
2.命令功能
可单独用于查看历史命令，也可配合参数调用或删除历史命令。
3.命令参数
-c  (常用)
清除内存中的历史列表
-d &lt;n&gt; 
清除第n条命令
&lt;n&gt;（常用）
显示最近n条历史记录
-a
将当前的历史记录行追加到历史记录文件
-r 
读取未读取的历史
-w &lt;文件名&gt; 
将当前历史写到指定文件中
-p  
执行且不留历史记录
-s  
伪造历史记录，但不执行
</code></pre><p><strong>关于history调用</strong></p>
<pre><code>调用历史命令，n是命历史命令编号
!n 
执行上一条命令
!!      
执行前一条命令，去除参数
!:0     
补全上一个命令
Esc，.     
补全上一个命令
按住alt+. 
</code></pre><p><strong>关于命令历史相关变量</strong></p>
<pre><code>HISTSIZE  历史记录条数
HISTFILE  存储历史文件
HISTFILESIZE  命令历史文件记录历史条数
HISTTIMEFORMAT= &quot;%F %T&quot; 显示时间
HISTIGNORE=&quot;str1:str2* &quot; 忽略str1命令，str2开头的历史
</code></pre><p><strong>控制历史命令记录的方式</strong></p>
<pre><code>环境变量：HISTCONTROL
ignoredups: 忽略重复的命令；连续且相同方为”重复“
ignorespace: 忽略所有空白开头的命令
ignoreboth: ignoredups,ignorespace
erasedups: 删除重复命令
Export 变量名=&quot;值
存放在 /etc/profile或 ~/.bash_profile
</code></pre><p><strong>bash快捷键</strong></p>
<pre><code>Ctrl + l
清屏，相当于clear命令
 Ctrl + o
执行当前命令，并重新显示本命令
 Ctrl + s
阻止屏幕输出，锁定
 Ctrl + q 
允许屏幕输出
 Ctrl + c
终止命令
Ctrl + z
挂起命令bash的快捷键
Ctrl + a
光标移到命令行首，相当于Home
Ctrl + e
光标移到命令行尾，相当于End
Ctrl + f
光标向右移动一个字符
Ctrl + b
光标向左移动一个字符
Alt + f
光标向右移动一个单词尾
Alt + b
光标向左移动一个单词首
Ctrl + xx
光标在命令行首和光标之间移动
Ctrl + u
从光标处删除至命令行首
Ctrl + k
从光标处删除至命令行尾
Alt + r    
删除当前整行bash的快捷键
Ctrl + w
从光标处向左删除至单词首
Alt + d
从光标处向右删除至单词尾
Ctrl + d
删除光标处的一个字符
Ctrl + h
删除光标前的一个字符
Ctrl + y
将删除的字符粘贴至光标后
Alt + c
从光标处开始向右更改为首字母大写的单词
Alt + u
从光标处开始，将右边一个单词更改为大写
Alt + l
从光标处开始，将右边一个单词更改为小写
Ctrl + t
交换光标处和之前的字符位置
Alt + t
交换光标处和之前的单词位置
Alt + N
提示输入指定字符后，重复显示该字符N次

注意：Alt组合快捷键经常和其它软件冲突
</code></pre><p><strong>实验：录屏</strong>（多用于动态演示）</p>
<pre><code> 创建一个录屏命令 （用于复现）复现
$ script -t 2&gt; time.log -a cmd.session
$ .....
$ .....
$ .....
 退出录屏
$exit
 复现录像
$ scriptptreplay time.log cmd.session
</code></pre><p><strong>文件系统分层结构  LSB</strong></p>
<pre><code>/bin -&gt;/usr/bin 存放供用户使用的二进制程序

/boot 引导程序文件，例如：kernel

/dev  存放设备文件
   brw------- b打头  块设备，随机访问
   crw------- c打头  字符设备，线性访问

/etc  存放系统范围内的配置文件，，可编辑的文本配置
  /etc/opt  opt的配置文件
  /etc/X11  X Windows系统的配置文件
  /etc/sgml SGML的配置文件
  /etc/xml  XML的配置文件

/usr   用户存储只读用户数据的第二层次，包含绝大多数的（多）用户工具和应用程序

/home  普通用户的家目录，保存用户个人的配置文件，一般为单独的分区

/lib   /bin/和/sbin/中二进制文件必要的库文件

/sbin  给管理员使用的二进制程序

/media 可移除媒体的挂载点，图形界面下，自动充当光盘挂载点，代替/run/media

/misc  命令行界面,普通用户手动挂载（进入该文件夹/misc/cd，则自动挂载光盘，不进入则不挂在）
     $ systemctl start autofs
     $ systemctl enable autofs
       查看块设备 
     $ df

/mnt   临时挂载的文件系统，超级用户手动挂载 $ mount /dev/sr0 /mnt

/opt   可选应用软件包

/proc  虚拟文件系统，，将内核与进程状态归档为文本文件，存放于内存，磁盘中所占空间为0，修改文件立即生效，但断电后数据丢失，数据修改不保存。

/sys  虚拟文件系统，存放于内存，映射硬件信息
      当识别不出块设备，扫描所有磁盘
      $ echo &apos;- - -&apos; &gt; /sys/class/scsi_host/host2/scan
/root  超级用户的家目录

/sbin  必要的系统二进制文件

/srv   站点的具体数据，由系统提供

/data

/run  不属于linux标准目录，代替/var/run

/var  动态文件————在正常运行的系统中其内容不断变化的文件，如日志，脱机文件和临时电子邮件文件。有时是一个单独的分区，亦可称为变量文件

/tmp  临时文件，在系统重启时目录中文件不会被保留

标准可参考 FHS国际规范 
</code></pre><p><strong>文件系统</strong></p>
<pre><code>rootfs： root filesystem
文件名大小写区分看文件系统：
eg：
  文件系统 xfs 严格区分大小写
  文件系统 vfat 不区分大小写 
文件有两类数据：
 数据：data   存放数据的内容
 元数据：metadata 存放数据的属性     
</code></pre><p><strong>文件特性</strong></p>
<pre><code>查看文件类型的颜色规则
$ cat /etc/DIR_COLOR   
蓝色--&gt;目录
绿色--&gt;可执行文件
红色--&gt;压缩文件
浅蓝色--&gt;链接文件
灰色--&gt;其他文件
亮黄色--&gt;设备文件

查看文件类型
drwxr-xr-x.  5 root root      231 Jul 18 14:49 vmware-tools
eg： 文件类型由字符串drwxr-xr-x的第一位来表示，当前字符串第一位为d，由此我们可以得出该文件类型是目录文件
-：普通文件
d：目录文件
b：块设备
c：字符设备
l：符号链接文件
p：管道文件pise
s：套接字文件socker
</code></pre><p><strong>显示当前工作目录</strong></p>
<pre><code>pwd命令
$ pwd 显示连接路径
$ pwd -P  显示真实物理路径  
路径分为两种：相对路径，绝对路径
  相对路径（方便文件转移后的运行）
    不以正斜杠开始
    指定相对于当前工作目录或某目录的位置
    eg：
      $ cd home/xu 
    在每个目录下都有&apos;.&apos;和&apos;..&apos; ，相对路径中经常会使用到
     &apos;.&apos;表当前目录，&apos;..&apos;表父目录

  绝对路径
    以正斜杠开始
    完整的路径位置
    eg:
      $cd /home/xu
基名：basename
目录名：dirname
</code></pre><p><strong>cd命令</strong></p>
<pre><code>用于切换目录

1.命令格式
 cd &lt;路径&gt;
2.命令功能
 使用绝对或相对路径切换目录
3.命令参数
cd 
  切换至当前用户主目录
cd ..
  切换至父目录
cd ~
  切换到当前登录用户的家目录
cd ~用户名
  切换到指定用户家目录
cd -  
  切换回上次的目录，原理：由变量$OLDPWD控制
  可以手动更改变量 $OLDPWD=/路径名
</code></pre><p><strong>ls命令</strong></p>
<pre><code>ls命令是linux下最常用的命令。ls命令就是list的缩写，ls用来打印出当前目录的清单，如果ls指定其他目录，那么就会显示指定目录里的文件及文件夹清单。 
通过ls 命令不仅可以查看linux文件夹包含的文件，而且可以查看文件权限(包括目录、文件夹、文件权限)查看目录信息等等。ls 命令在日常的linux操作中用的很多!

1.命令格式
ls [选项][参数]
2.命令功能
列出名表目录中所有的子目录和文件
3.命令参数
-d，
列出目录本身，而不是其内容
-a，
列出所有文件以及文件夹（包括隐藏）
-l
使用长列表格式
-A，
不列出&apos;.&apos;(表当前目录)和&apos;..&apos;（表当前目录的父目录）
-u，--time=atime, --time=access,--time= use
与-l配合使用，显示访问时间
-c，--time=ctime, --time=status
与-l配合使用，显示权限修改时间
-1 
显示另一列文件
-S 
按文件从大到小排序
-r，
排序时的逆序
-Sr 
反转，按文件小到大排序
-R，
以递归方式列出子目录
-X 
按后缀排序  
-U
不排序;按目录顺序列出条目
-p，
追加/指标到目录
-n， -num-uid-gid
像-l，但列出数字用户和组ID
-o
像-l，但不列出组信息
（还有一些不懂怎么用，没列出来）
</code></pre><p><strong>touch命令</strong></p>
<pre><code>linux的touch命令不常用，一般在使用make的时候可能会用到，用来修改文件时间戳，或者新建一个不存在的文件。

1.命令格式
touch [选项]..文件名..
2.命令功能
创建一个不存在的文件。
touch命令参数可更改文档或目录的日期时间，包括存取时间和更改时间。
3.命令参数
-r &lt;指定文档&gt; &lt;参考文档&gt;
将文件时间与指定参考文件时间对齐。
-c &lt;文件名&gt;
若文件名不存在，则不创建。
-t[[CC]YY]MMDDhhmm[.SS] &lt;文件名&gt; 
设定文件的时间戳
[[CC]YY]MMDDhhmm[.SS]
eg：2018年07月24日14点20分00秒;对应格式：201807241420.00 
-m 配合-t使用，修改Modify time 修改时间
-a 配合-t使用，修改Acess time 访问时间
</code></pre><p><strong>cp命令</strong></p>
<pre><code>cp命令用来复制文件或者目录，是Linux系统中最常用的命令之一。
一般情况下，shell会设置一个别名，在命令行下复制文件时，如果目标文件已经存在，就会询问是否覆盖，不管你是否使用-i参数。但是如果是在shell脚本中执行cp时，没有-i参数时不会询问是否覆盖。
这说明命令行和shell脚本的执行方式有些不同。 

1.命令格式
cp[选项].. 源 目的
2.命令功能
将源文件复制至目标文件，或将多个源文件复制至目标目录。
3.命令参数
-a,-archive
与-dR --preserve = all相同
--attributes-only
不要复制文件数据，只复制属性 
-i 
覆盖前询问
-n
不覆盖已存在的文件
--backup[=CONTROL]
备份每个现有目标文件,接受参数
-b像--backup但不接受参数
--copy-contents
递归时复制特殊文件的内容
-d与--no-dereference --preserve=links
相同
-f,--force
如果无法打开现有目标文件，请将其删除并尝试
再次（当使用-n选项时忽略此选项）
-H
遵循SOURCE中的命令行符号链接
-l,--link
硬链接文件而不是复制
-L,--dereference
始终遵循SOURCE中的符号链接
-P,--no-dereference
永远不要在SOURCE中关注符号链接
-p与--preserve = mode，ownership，timestamps
相同
</code></pre>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/07/25/第二周-关于文件系统，以及history、cd、ls、touch、cp命令/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  


          </div>
        </div>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2018 ACan
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		mathjax: false,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		toc_hide_index: true,
		root: "/",
		innerArchive: true,
		showTags: false
	}
</script>

<script>!function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={exports:{},id:e,loaded:!1};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var r={};n.m=t,n.c=r,n.p="./",n(0)}([function(t,n,r){r(195),t.exports=r(191)},function(t,n,r){var e=r(3),i=r(52),o=r(27),u=r(28),c=r(53),f="prototype",a=function(t,n,r){var s,l,h,v,p=t&a.F,d=t&a.G,y=t&a.S,g=t&a.P,b=t&a.B,m=d?e:y?e[n]||(e[n]={}):(e[n]||{})[f],x=d?i:i[n]||(i[n]={}),w=x[f]||(x[f]={});d&&(r=n);for(s in r)l=!p&&m&&void 0!==m[s],h=(l?m:r)[s],v=b&&l?c(h,e):g&&"function"==typeof h?c(Function.call,h):h,m&&u(m,s,h,t&a.U),x[s]!=h&&o(x,s,v),g&&w[s]!=h&&(w[s]=h)};e.core=i,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,n,r){var e=r(6);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(126)("wks"),i=r(76),o=r(3).Symbol,u="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(94),i=r(33);t.exports=function(t){return e(i(t))}},function(t,n,r){t.exports=!r(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(2),i=r(167),o=r(50),u=Object.defineProperty;n.f=r(10)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){t.exports=!r(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(14),i=r(22);t.exports=r(12)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(20),i=r(58),o=r(42),u=Object.defineProperty;n.f=r(12)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(40)("wks"),i=r(23),o=r(5).Symbol,u="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},function(t,n,r){var e=r(67),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){var e=r(46);t.exports=function(t){return Object(e(t))}},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(63),i=r(34);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(21);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,r){var e=r(11),i=r(66);t.exports=r(10)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(3),i=r(27),o=r(24),u=r(76)("src"),c="toString",f=Function[c],a=(""+f).split(c);r(52).inspectSource=function(t){return f.call(t)},(t.exports=function(t,n,r,c){var f="function"==typeof r;f&&(o(r,"name")||i(r,"name",n)),t[n]!==r&&(f&&(o(r,u)||i(r,u,t[n]?""+t[n]:a.join(String(n)))),t===e?t[n]=r:c?t[n]?t[n]=r:i(t,n,r):(delete t[n],i(t,n,r)))})(Function.prototype,c,function(){return"function"==typeof this&&this[u]||f.call(this)})},function(t,n,r){var e=r(1),i=r(4),o=r(46),u=function(t,n,r,e){var i=String(o(t)),u="<"+n;return""!==r&&(u+=" "+r+'="'+String(e).replace(/"/g,"&quot;")+'"'),u+">"+i+"</"+n+">"};t.exports=function(t,n){var r={};r[t]=n(u),e(e.P+e.F*i(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}),"String",r)}},function(t,n,r){var e=r(115),i=r(46);t.exports=function(t){return e(i(t))}},function(t,n,r){var e=r(116),i=r(66),o=r(30),u=r(50),c=r(24),f=r(167),a=Object.getOwnPropertyDescriptor;n.f=r(10)?a:function(t,n){if(t=o(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(24),i=r(17),o=r(145)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){t.exports={}},function(t,n){t.exports=!0},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(14).f,i=r(8),o=r(15)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,r){var e=r(40)("keys"),i=r(23);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n,r){var e=r(5),i="__core-js_shared__",o=e[i]||(e[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(21);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){var e=r(5),i=r(25),o=r(36),u=r(44),c=r(14).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){n.f=r(15)},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,r){var e=r(4);t.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},function(t,n,r){var e=r(53),i=r(115),o=r(17),u=r(16),c=r(203);t.exports=function(t,n){var r=1==t,f=2==t,a=3==t,s=4==t,l=6==t,h=5==t||l,v=n||c;return function(n,c,p){for(var d,y,g=o(n),b=i(g),m=e(c,p,3),x=u(b.length),w=0,S=r?v(n,x):f?v(n,0):void 0;x>w;w++)if((h||w in b)&&(d=b[w],y=m(d,w,g),t))if(r)S[w]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return w;case 2:S.push(d)}else if(s)return!1;return l?-1:a||s?s:S}}},function(t,n,r){var e=r(1),i=r(52),o=r(4);t.exports=function(t,n){var r=(i.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*o(function(){r(1)}),"Object",u)}},function(t,n,r){var e=r(6);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){var e=r(5),i=r(25),o=r(91),u=r(13),c="prototype",f=function(t,n,r){var a,s,l,h=t&f.F,v=t&f.G,p=t&f.S,d=t&f.P,y=t&f.B,g=t&f.W,b=v?i:i[n]||(i[n]={}),m=b[c],x=v?e:p?e[n]:(e[n]||{})[c];v&&(r=n);for(a in r)(s=!h&&x&&void 0!==x[a])&&a in b||(l=s?x[a]:r[a],b[a]=v&&"function"!=typeof x[a]?r[a]:y&&s?o(l,e):g&&x[a]==l?function(t){var n=function(n,r,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,e)}return t.apply(this,arguments)};return n[c]=t[c],n}(l):d&&"function"==typeof l?o(Function.call,l):l,d&&((b.virtual||(b.virtual={}))[a]=l,t&f.R&&m&&!m[a]&&u(m,a,l)))};f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},function(t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,n,r){var e=r(26);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){var e=r(183),i=r(1),o=r(126)("metadata"),u=o.store||(o.store=new(r(186))),c=function(t,n,r){var i=u.get(t);if(!i){if(!r)return;u.set(t,i=new e)}var o=i.get(n);if(!o){if(!r)return;i.set(n,o=new e)}return o},f=function(t,n,r){var e=c(n,r,!1);return void 0!==e&&e.has(t)},a=function(t,n,r){var e=c(n,r,!1);return void 0===e?void 0:e.get(t)},s=function(t,n,r,e){c(r,e,!0).set(t,n)},l=function(t,n){var r=c(t,n,!1),e=[];return r&&r.forEach(function(t,n){e.push(n)}),e},h=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},v=function(t){i(i.S,"Reflect",t)};t.exports={store:u,map:c,has:f,get:a,set:s,keys:l,key:h,exp:v}},function(t,n,r){"use strict";if(r(10)){var e=r(69),i=r(3),o=r(4),u=r(1),c=r(127),f=r(152),a=r(53),s=r(68),l=r(66),h=r(27),v=r(73),p=r(67),d=r(16),y=r(75),g=r(50),b=r(24),m=r(180),x=r(114),w=r(6),S=r(17),_=r(137),O=r(70),E=r(32),P=r(71).f,j=r(154),F=r(76),M=r(7),A=r(48),N=r(117),T=r(146),I=r(155),k=r(80),L=r(123),R=r(74),C=r(130),D=r(160),U=r(11),W=r(31),G=U.f,B=W.f,V=i.RangeError,z=i.TypeError,q=i.Uint8Array,K="ArrayBuffer",J="Shared"+K,Y="BYTES_PER_ELEMENT",H="prototype",$=Array[H],X=f.ArrayBuffer,Q=f.DataView,Z=A(0),tt=A(2),nt=A(3),rt=A(4),et=A(5),it=A(6),ot=N(!0),ut=N(!1),ct=I.values,ft=I.keys,at=I.entries,st=$.lastIndexOf,lt=$.reduce,ht=$.reduceRight,vt=$.join,pt=$.sort,dt=$.slice,yt=$.toString,gt=$.toLocaleString,bt=M("iterator"),mt=M("toStringTag"),xt=F("typed_constructor"),wt=F("def_constructor"),St=c.CONSTR,_t=c.TYPED,Ot=c.VIEW,Et="Wrong length!",Pt=A(1,function(t,n){return Tt(T(t,t[wt]),n)}),jt=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),Ft=!!q&&!!q[H].set&&o(function(){new q(1).set({})}),Mt=function(t,n){if(void 0===t)throw z(Et);var r=+t,e=d(t);if(n&&!m(r,e))throw V(Et);return e},At=function(t,n){var r=p(t);if(r<0||r%n)throw V("Wrong offset!");return r},Nt=function(t){if(w(t)&&_t in t)return t;throw z(t+" is not a typed array!")},Tt=function(t,n){if(!(w(t)&&xt in t))throw z("It is not a typed array constructor!");return new t(n)},It=function(t,n){return kt(T(t,t[wt]),n)},kt=function(t,n){for(var r=0,e=n.length,i=Tt(t,e);e>r;)i[r]=n[r++];return i},Lt=function(t,n,r){G(t,n,{get:function(){return this._d[r]}})},Rt=function(t){var n,r,e,i,o,u,c=S(t),f=arguments.length,s=f>1?arguments[1]:void 0,l=void 0!==s,h=j(c);if(void 0!=h&&!_(h)){for(u=h.call(c),e=[],n=0;!(o=u.next()).done;n++)e.push(o.value);c=e}for(l&&f>2&&(s=a(s,arguments[2],2)),n=0,r=d(c.length),i=Tt(this,r);r>n;n++)i[n]=l?s(c[n],n):c[n];return i},Ct=function(){for(var t=0,n=arguments.length,r=Tt(this,n);n>t;)r[t]=arguments[t++];return r},Dt=!!q&&o(function(){gt.call(new q(1))}),Ut=function(){return gt.apply(Dt?dt.call(Nt(this)):Nt(this),arguments)},Wt={copyWithin:function(t,n){return D.call(Nt(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return rt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return C.apply(Nt(this),arguments)},filter:function(t){return It(this,tt(Nt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return et(Nt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Nt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(Nt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ut(Nt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Nt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return vt.apply(Nt(this),arguments)},lastIndexOf:function(t){return st.apply(Nt(this),arguments)},map:function(t){return Pt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return lt.apply(Nt(this),arguments)},reduceRight:function(t){return ht.apply(Nt(this),arguments)},reverse:function(){for(var t,n=this,r=Nt(n).length,e=Math.floor(r/2),i=0;i<e;)t=n[i],n[i++]=n[--r],n[r]=t;return n},some:function(t){return nt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Nt(this),t)},subarray:function(t,n){var r=Nt(this),e=r.length,i=y(t,e);return new(T(r,r[wt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,d((void 0===n?e:y(n,e))-i))}},Gt=function(t,n){return It(this,dt.call(Nt(this),t,n))},Bt=function(t){Nt(this);var n=At(arguments[1],1),r=this.length,e=S(t),i=d(e.length),o=0;if(i+n>r)throw V(Et);for(;o<i;)this[n+o]=e[o++]},Vt={entries:function(){return at.call(Nt(this))},keys:function(){return ft.call(Nt(this))},values:function(){return ct.call(Nt(this))}},zt=function(t,n){return w(t)&&t[_t]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},qt=function(t,n){return zt(t,n=g(n,!0))?l(2,t[n]):B(t,n)},Kt=function(t,n,r){return!(zt(t,n=g(n,!0))&&w(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?G(t,n,r):(t[n]=r.value,t)};St||(W.f=qt,U.f=Kt),u(u.S+u.F*!St,"Object",{getOwnPropertyDescriptor:qt,defineProperty:Kt}),o(function(){yt.call({})})&&(yt=gt=function(){return vt.call(this)});var Jt=v({},Wt);v(Jt,Vt),h(Jt,bt,Vt.values),v(Jt,{slice:Gt,set:Bt,constructor:function(){},toString:yt,toLocaleString:Ut}),Lt(Jt,"buffer","b"),Lt(Jt,"byteOffset","o"),Lt(Jt,"byteLength","l"),Lt(Jt,"length","e"),G(Jt,mt,{get:function(){return this[_t]}}),t.exports=function(t,n,r,f){f=!!f;var a=t+(f?"Clamped":"")+"Array",l="Uint8Array"!=a,v="get"+t,p="set"+t,y=i[a],g=y||{},b=y&&E(y),m=!y||!c.ABV,S={},_=y&&y[H],j=function(t,r){var e=t._d;return e.v[v](r*n+e.o,jt)},F=function(t,r,e){var i=t._d;f&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),i.v[p](r*n+i.o,e,jt)},M=function(t,n){G(t,n,{get:function(){return j(this,n)},set:function(t){return F(this,n,t)},enumerable:!0})};m?(y=r(function(t,r,e,i){s(t,y,a,"_d");var o,u,c,f,l=0,v=0;if(w(r)){if(!(r instanceof X||(f=x(r))==K||f==J))return _t in r?kt(y,r):Rt.call(y,r);o=r,v=At(e,n);var p=r.byteLength;if(void 0===i){if(p%n)throw V(Et);if((u=p-v)<0)throw V(Et)}else if((u=d(i)*n)+v>p)throw V(Et);c=u/n}else c=Mt(r,!0),u=c*n,o=new X(u);for(h(t,"_d",{b:o,o:v,l:u,e:c,v:new Q(o)});l<c;)M(t,l++)}),_=y[H]=O(Jt),h(_,"constructor",y)):L(function(t){new y(null),new y(t)},!0)||(y=r(function(t,r,e,i){s(t,y,a);var o;return w(r)?r instanceof X||(o=x(r))==K||o==J?void 0!==i?new g(r,At(e,n),i):void 0!==e?new g(r,At(e,n)):new g(r):_t in r?kt(y,r):Rt.call(y,r):new g(Mt(r,l))}),Z(b!==Function.prototype?P(g).concat(P(b)):P(g),function(t){t in y||h(y,t,g[t])}),y[H]=_,e||(_.constructor=y));var A=_[bt],N=!!A&&("values"==A.name||void 0==A.name),T=Vt.values;h(y,xt,!0),h(_,_t,a),h(_,Ot,!0),h(_,wt,y),(f?new y(1)[mt]==a:mt in _)||G(_,mt,{get:function(){return a}}),S[a]=y,u(u.G+u.W+u.F*(y!=g),S),u(u.S,a,{BYTES_PER_ELEMENT:n,from:Rt,of:Ct}),Y in _||h(_,Y,n),u(u.P,a,Wt),R(a),u(u.P+u.F*Ft,a,{set:Bt}),u(u.P+u.F*!N,a,Vt),u(u.P+u.F*(_.toString!=yt),a,{toString:yt}),u(u.P+u.F*o(function(){new y(1).slice()}),a,{slice:Gt}),u(u.P+u.F*(o(function(){return[1,2].toLocaleString()!=new y([1,2]).toLocaleString()})||!o(function(){_.toLocaleString.call([1,2])})),a,{toLocaleString:Ut}),k[a]=N?A:T,e||N||h(_,bt,T)}}else t.exports=function(){}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n,r){var e=r(21),i=r(5).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,r){t.exports=!r(12)&&!r(18)(function(){return 7!=Object.defineProperty(r(57)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){"use strict";var e=r(36),i=r(51),o=r(64),u=r(13),c=r(8),f=r(35),a=r(96),s=r(38),l=r(103),h=r(15)("iterator"),v=!([].keys&&"next"in[].keys()),p="keys",d="values",y=function(){return this};t.exports=function(t,n,r,g,b,m,x){a(r,n,g);var w,S,_,O=function(t){if(!v&&t in F)return F[t];switch(t){case p:case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=n+" Iterator",P=b==d,j=!1,F=t.prototype,M=F[h]||F["@@iterator"]||b&&F[b],A=M||O(b),N=b?P?O("entries"):A:void 0,T="Array"==n?F.entries||M:M;if(T&&(_=l(T.call(new t)))!==Object.prototype&&(s(_,E,!0),e||c(_,h)||u(_,h,y)),P&&M&&M.name!==d&&(j=!0,A=function(){return M.call(this)}),e&&!x||!v&&!j&&F[h]||u(F,h,A),f[n]=A,f[E]=y,b)if(w={values:P?A:O(d),keys:m?A:O(p),entries:N},x)for(S in w)S in F||o(F,S,w[S]);else i(i.P+i.F*(v||j),n,w);return w}},function(t,n,r){var e=r(20),i=r(100),o=r(34),u=r(39)("IE_PROTO"),c=function(){},f="prototype",a=function(){var t,n=r(57)("iframe"),e=o.length;for(n.style.display="none",r(93).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;e--;)delete a[f][o[e]];return a()};t.exports=Object.create||function(t,n){var r;return null!==t?(c[f]=e(t),r=new c,c[f]=null,r[u]=t):r=a(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(63),i=r(34).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(8),i=r(9),o=r(90)(!1),u=r(39)("IE_PROTO");t.exports=function(t,n){var r,c=i(t),f=0,a=[];for(r in c)r!=u&&e(c,r)&&a.push(r);for(;n.length>f;)e(c,r=n[f++])&&(~o(a,r)||a.push(r));return a}},function(t,n,r){t.exports=r(13)},function(t,n,r){var e=r(76)("meta"),i=r(6),o=r(24),u=r(11).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(4)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},h=function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},v=function(t){return a&&p.NEED&&f(t)&&!o(t,e)&&s(t),t},p=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:v}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n){t.exports=!1},function(t,n,r){var e=r(2),i=r(173),o=r(133),u=r(145)("IE_PROTO"),c=function(){},f="prototype",a=function(){var t,n=r(132)("iframe"),e=o.length;for(n.style.display="none",r(135).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;e--;)delete a[f][o[e]];return a()};t.exports=Object.create||function(t,n){var r;return null!==t?(c[f]=e(t),r=new c,c[f]=null,r[u]=t):r=a(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(175),i=r(133).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n,r){var e=r(175),i=r(133);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(28);t.exports=function(t,n,r){for(var i in n)e(t,i,n[i],r);return t}},function(t,n,r){"use strict";var e=r(3),i=r(11),o=r(10),u=r(7)("species");t.exports=function(t){var n=e[t];o&&n&&!n[u]&&i.f(n,u,{configurable:!0,get:function(){return this}})}},function(t,n,r){var e=r(67),i=Math.max,o=Math.min;t.exports=function(t,n){return t=e(t),t<0?i(t+n,0):o(t,n)}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(33);t.exports=function(t){return Object(e(t))}},function(t,n,r){var e=r(7)("unscopables"),i=Array.prototype;void 0==i[e]&&r(27)(i,e,{}),t.exports=function(t){i[e][t]=!0}},function(t,n,r){var e=r(53),i=r(169),o=r(137),u=r(2),c=r(16),f=r(154),a={},s={},n=t.exports=function(t,n,r,l,h){var v,p,d,y,g=h?function(){return t}:f(t),b=e(r,l,n?2:1),m=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(v=c(t.length);v>m;m++)if((y=n?b(u(p=t[m])[0],p[1]):b(t[m]))===a||y===s)return y}else for(d=g.call(t);!(p=d.next()).done;)if((y=i(d,b,p.value,n))===a||y===s)return y};n.BREAK=a,n.RETURN=s},function(t,n){t.exports={}},function(t,n,r){var e=r(11).f,i=r(24),o=r(7)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,r){var e=r(1),i=r(46),o=r(4),u=r(150),c="["+u+"]",f="​",a=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),l=function(t,n,r){var i={},c=o(function(){return!!u[t]()||f[t]()!=f}),a=i[t]=c?n(h):u[t];r&&(i[r]=a),e(e.P+e.F*c,"String",i)},h=l.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(a,"")),2&n&&(t=t.replace(s,"")),t};t.exports=l},function(t,n,r){t.exports={default:r(86),__esModule:!0}},function(t,n,r){t.exports={default:r(87),__esModule:!0}},function(t,n,r){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(84),o=e(i),u=r(83),c=e(u),f="function"==typeof c.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof c.default&&t.constructor===c.default&&t!==c.default.prototype?"symbol":typeof t};n.default="function"==typeof c.default&&"symbol"===f(o.default)?function(t){return void 0===t?"undefined":f(t)}:function(t){return t&&"function"==typeof c.default&&t.constructor===c.default&&t!==c.default.prototype?"symbol":void 0===t?"undefined":f(t)}},function(t,n,r){r(110),r(108),r(111),r(112),t.exports=r(25).Symbol},function(t,n,r){r(109),r(113),t.exports=r(44).f("iterator")},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(){}},function(t,n,r){var e=r(9),i=r(106),o=r(105);t.exports=function(t){return function(n,r,u){var c,f=e(n),a=i(f.length),s=o(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}}},function(t,n,r){var e=r(88);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){var e=r(19),i=r(62),o=r(37);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),f=o.f,a=0;c.length>a;)f.call(t,u=c[a++])&&n.push(u);return n}},function(t,n,r){t.exports=r(5).document&&document.documentElement},function(t,n,r){var e=r(56);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n,r){var e=r(56);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){"use strict";var e=r(60),i=r(22),o=r(38),u={};r(13)(u,r(15)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){var e=r(19),i=r(9);t.exports=function(t,n){for(var r,o=i(t),u=e(o),c=u.length,f=0;c>f;)if(o[r=u[f++]]===n)return r}},function(t,n,r){var e=r(23)("meta"),i=r(21),o=r(8),u=r(14).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(18)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},h=function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},v=function(t){return a&&p.NEED&&f(t)&&!o(t,e)&&s(t),t},p=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:v}},function(t,n,r){var e=r(14),i=r(20),o=r(19);t.exports=r(12)?Object.defineProperties:function(t,n){i(t);for(var r,u=o(n),c=u.length,f=0;c>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(37),i=r(22),o=r(9),u=r(42),c=r(8),f=r(58),a=Object.getOwnPropertyDescriptor;n.f=r(12)?a:function(t,n){if(t=o(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(9),i=r(61).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?c(t):i(e(t))}},function(t,n,r){var e=r(8),i=r(77),o=r(39)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,r){var e=r(41),i=r(33);t.exports=function(t){return function(n,r){var o,u,c=String(i(n)),f=e(r),a=c.length;return f<0||f>=a?t?"":void 0:(o=c.charCodeAt(f),o<55296||o>56319||f+1===a||(u=c.charCodeAt(f+1))<56320||u>57343?t?c.charAt(f):o:t?c.slice(f,f+2):u-56320+(o-55296<<10)+65536)}}},function(t,n,r){var e=r(41),i=Math.max,o=Math.min;t.exports=function(t,n){return t=e(t),t<0?i(t+n,0):o(t,n)}},function(t,n,r){var e=r(41),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){"use strict";var e=r(89),i=r(97),o=r(35),u=r(9);t.exports=r(59)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n){},function(t,n,r){"use strict";var e=r(104)(!0);r(59)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){"use strict";var e=r(5),i=r(8),o=r(12),u=r(51),c=r(64),f=r(99).KEY,a=r(18),s=r(40),l=r(38),h=r(23),v=r(15),p=r(44),d=r(43),y=r(98),g=r(92),b=r(95),m=r(20),x=r(9),w=r(42),S=r(22),_=r(60),O=r(102),E=r(101),P=r(14),j=r(19),F=E.f,M=P.f,A=O.f,N=e.Symbol,T=e.JSON,I=T&&T.stringify,k="prototype",L=v("_hidden"),R=v("toPrimitive"),C={}.propertyIsEnumerable,D=s("symbol-registry"),U=s("symbols"),W=s("op-symbols"),G=Object[k],B="function"==typeof N,V=e.QObject,z=!V||!V[k]||!V[k].findChild,q=o&&a(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=F(G,n);e&&delete G[n],M(t,n,r),e&&t!==G&&M(G,n,e)}:M,K=function(t){var n=U[t]=_(N[k]);return n._k=t,n},J=B&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},Y=function(t,n,r){return t===G&&Y(W,n,r),m(t),n=w(n,!0),m(r),i(U,n)?(r.enumerable?(i(t,L)&&t[L][n]&&(t[L][n]=!1),r=_(r,{enumerable:S(0,!1)})):(i(t,L)||M(t,L,S(1,{})),t[L][n]=!0),q(t,n,r)):M(t,n,r)},H=function(t,n){m(t);for(var r,e=g(n=x(n)),i=0,o=e.length;o>i;)Y(t,r=e[i++],n[r]);return t},$=function(t,n){return void 0===n?_(t):H(_(t),n)},X=function(t){var n=C.call(this,t=w(t,!0));return!(this===G&&i(U,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(U,t)||i(this,L)&&this[L][t])||n)},Q=function(t,n){if(t=x(t),n=w(n,!0),t!==G||!i(U,n)||i(W,n)){var r=F(t,n);return!r||!i(U,n)||i(t,L)&&t[L][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=A(x(t)),e=[],o=0;r.length>o;)i(U,n=r[o++])||n==L||n==f||e.push(n);return e},tt=function(t){for(var n,r=t===G,e=A(r?W:x(t)),o=[],u=0;e.length>u;)!i(U,n=e[u++])||r&&!i(G,n)||o.push(U[n]);return o};B||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===G&&n.call(W,r),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),q(this,t,S(1,r))};return o&&z&&q(G,t,{configurable:!0,set:n}),K(t)},c(N[k],"toString",function(){return this._k}),E.f=Q,P.f=Y,r(61).f=O.f=Z,r(37).f=X,r(62).f=tt,o&&!r(36)&&c(G,"propertyIsEnumerable",X,!0),p.f=function(t){return K(v(t))}),u(u.G+u.W+u.F*!B,{Symbol:N});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)v(nt[rt++]);for(var nt=j(v.store),rt=0;nt.length>rt;)d(nt[rt++]);u(u.S+u.F*!B,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=N(t)},keyFor:function(t){if(J(t))return y(D,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),u(u.S+u.F*!B,"Object",{create:$,defineProperty:Y,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),T&&u(u.S+u.F*(!B||a(function(){var t=N();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!J(t)){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);return n=e[1],"function"==typeof n&&(r=n),!r&&b(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!J(n))return n}),e[1]=n,I.apply(T,e)}}}),N[k][R]||r(13)(N[k],R,N[k].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){r(43)("asyncIterator")},function(t,n,r){r(43)("observable")},function(t,n,r){r(107);for(var e=r(5),i=r(13),o=r(35),u=r(15)("toStringTag"),c=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],f=0;f<5;f++){var a=c[f],s=e[a],l=s&&s.prototype;l&&!l[u]&&i(l,u,a),o[a]=o.Array}},function(t,n,r){var e=r(45),i=r(7)("toStringTag"),o="Arguments"==e(function(){return arguments}()),u=function(t,n){try{return t[n]}catch(t){}};t.exports=function(t){var n,r,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=u(n=Object(t),i))?r:o?e(n):"Object"==(c=e(n))&&"function"==typeof n.callee?"Arguments":c}},function(t,n,r){var e=r(45);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(30),i=r(16),o=r(75);t.exports=function(t){return function(n,r,u){var c,f=e(n),a=i(f.length),s=o(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}}},function(t,n,r){"use strict";var e=r(3),i=r(1),o=r(28),u=r(73),c=r(65),f=r(79),a=r(68),s=r(6),l=r(4),h=r(123),v=r(81),p=r(136);t.exports=function(t,n,r,d,y,g){var b=e[t],m=b,x=y?"set":"add",w=m&&m.prototype,S={},_=function(t){var n=w[t];o(w,t,"delete"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!s(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,r){return n.call(this,0===t?0:t,r),this})};if("function"==typeof m&&(g||w.forEach&&!l(function(){(new m).entries().next()}))){var O=new m,E=O[x](g?{}:-0,1)!=O,P=l(function(){O.has(1)}),j=h(function(t){new m(t)}),F=!g&&l(function(){for(var t=new m,n=5;n--;)t[x](n,n);return!t.has(-0)});j||(m=n(function(n,r){a(n,m,t);var e=p(new b,n,m);return void 0!=r&&f(r,y,e[x],e),e}),m.prototype=w,w.constructor=m),(P||F)&&(_("delete"),_("has"),y&&_("get")),(F||E)&&_(x),g&&w.clear&&delete w.clear}else m=d.getConstructor(n,t,y,x),u(m.prototype,r),c.NEED=!0;return v(m,t),S[t]=m,i(i.G+i.W+i.F*(m!=b),S),g||d.setStrong(m,t,y),m}},function(t,n,r){"use strict";var e=r(27),i=r(28),o=r(4),u=r(46),c=r(7);t.exports=function(t,n,r){var f=c(t),a=r(u,f,""[t]),s=a[0],l=a[1];o(function(){var n={};return n[f]=function(){return 7},7!=""[t](n)})&&(i(String.prototype,t,s),e(RegExp.prototype,f,2==n?function(t,n){return l.call(t,this,n)}:function(t){return l.call(t,this)}))}
},function(t,n,r){"use strict";var e=r(2);t.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(6),i=r(45),o=r(7)("match");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t))}},function(t,n,r){var e=r(7)("iterator"),i=!1;try{var o=[7][e]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!i)return!1;var r=!1;try{var o=[7],u=o[e]();u.next=function(){return{done:r=!0}},o[e]=function(){return u},t(o)}catch(t){}return r}},function(t,n,r){t.exports=r(69)||!r(4)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete r(3)[t]})},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(3),i="__core-js_shared__",o=e[i]||(e[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n,r){for(var e,i=r(3),o=r(27),u=r(76),c=u("typed_array"),f=u("view"),a=!(!i.ArrayBuffer||!i.DataView),s=a,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(e=i[h[l++]])?(o(e.prototype,c,!0),o(e.prototype,f,!0)):s=!1;t.exports={ABV:a,CONSTR:s,TYPED:c,VIEW:f}},function(t,n){"use strict";var r={versions:function(){var t=window.navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1==t.indexOf("Safari"),weixin:-1==t.indexOf("MicroMessenger")}}()};t.exports=r},function(t,n,r){"use strict";var e=r(85),i=function(t){return t&&t.__esModule?t:{default:t}}(e),o=function(){function t(t,n,e){return n||e?String.fromCharCode(n||e):r[t]||t}function n(t){return e[t]}var r={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},e={};for(var u in r)e[r[u]]=u;return r["&apos;"]="'",e["'"]="&#39;",{encode:function(t){return t?(""+t).replace(/['<> "&]/g,n).replace(/\r?\n/g,"<br/>").replace(/\s/g,"&nbsp;"):""},decode:function(n){return n?(""+n).replace(/<br\s*\/?>/gi,"\n").replace(/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,t).replace(/\u00a0/g," "):""},encodeBase16:function(t){if(!t)return t;t+="";for(var n=[],r=0,e=t.length;e>r;r++)n.push(t.charCodeAt(r).toString(16).toUpperCase());return n.join("")},encodeBase16forJSON:function(t){if(!t)return t;t=t.replace(/[\u4E00-\u9FBF]/gi,function(t){return escape(t).replace("%u","\\u")});for(var n=[],r=0,e=t.length;e>r;r++)n.push(t.charCodeAt(r).toString(16).toUpperCase());return n.join("")},decodeBase16:function(t){if(!t)return t;t+="";for(var n=[],r=0,e=t.length;e>r;r+=2)n.push(String.fromCharCode("0x"+t.slice(r,r+2)));return n.join("")},encodeObject:function(t){if(t instanceof Array)for(var n=0,r=t.length;r>n;n++)t[n]=o.encodeObject(t[n]);else if("object"==(void 0===t?"undefined":(0,i.default)(t)))for(var e in t)t[e]=o.encodeObject(t[e]);else if("string"==typeof t)return o.encode(t);return t},loadScript:function(t){var n=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(n),n.setAttribute("src",t)},addLoadEvent:function(t){var n=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){n(),t()}}}}();t.exports=o},function(t,n,r){"use strict";var e=r(17),i=r(75),o=r(16);t.exports=function(t){for(var n=e(this),r=o(n.length),u=arguments.length,c=i(u>1?arguments[1]:void 0,r),f=u>2?arguments[2]:void 0,a=void 0===f?r:i(f,r);a>c;)n[c++]=t;return n}},function(t,n,r){"use strict";var e=r(11),i=r(66);t.exports=function(t,n,r){n in t?e.f(t,n,i(0,r)):t[n]=r}},function(t,n,r){var e=r(6),i=r(3).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,r){var e=r(7)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(r){try{return n[e]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(t,n,r){t.exports=r(3).document&&document.documentElement},function(t,n,r){var e=r(6),i=r(144).set;t.exports=function(t,n,r){var o,u=n.constructor;return u!==r&&"function"==typeof u&&(o=u.prototype)!==r.prototype&&e(o)&&i&&i(t,o),t}},function(t,n,r){var e=r(80),i=r(7)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||o[i]===t)}},function(t,n,r){var e=r(45);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){"use strict";var e=r(70),i=r(66),o=r(81),u={};r(27)(u,r(7)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n,r){"use strict";var e=r(69),i=r(1),o=r(28),u=r(27),c=r(24),f=r(80),a=r(139),s=r(81),l=r(32),h=r(7)("iterator"),v=!([].keys&&"next"in[].keys()),p="keys",d="values",y=function(){return this};t.exports=function(t,n,r,g,b,m,x){a(r,n,g);var w,S,_,O=function(t){if(!v&&t in F)return F[t];switch(t){case p:case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=n+" Iterator",P=b==d,j=!1,F=t.prototype,M=F[h]||F["@@iterator"]||b&&F[b],A=M||O(b),N=b?P?O("entries"):A:void 0,T="Array"==n?F.entries||M:M;if(T&&(_=l(T.call(new t)))!==Object.prototype&&(s(_,E,!0),e||c(_,h)||u(_,h,y)),P&&M&&M.name!==d&&(j=!0,A=function(){return M.call(this)}),e&&!x||!v&&!j&&F[h]||u(F,h,A),f[n]=A,f[E]=y,b)if(w={values:P?A:O(d),keys:m?A:O(p),entries:N},x)for(S in w)S in F||o(F,S,w[S]);else i(i.P+i.F*(v||j),n,w);return w}},function(t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:r},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n,r){var e=r(3),i=r(151).set,o=e.MutationObserver||e.WebKitMutationObserver,u=e.process,c=e.Promise,f="process"==r(45)(u);t.exports=function(){var t,n,r,a=function(){var e,i;for(f&&(e=u.domain)&&e.exit();t;){i=t.fn,t=t.next;try{i()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(f)r=function(){u.nextTick(a)};else if(o){var s=!0,l=document.createTextNode("");new o(a).observe(l,{characterData:!0}),r=function(){l.data=s=!s}}else if(c&&c.resolve){var h=c.resolve();r=function(){h.then(a)}}else r=function(){i.call(e,a)};return function(e){var i={fn:e,next:void 0};n&&(n.next=i),t||(t=i,r()),n=i}}},function(t,n,r){var e=r(6),i=r(2),o=function(t,n){if(i(t),!e(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{e=r(53)(Function.call,r(31).f(Object.prototype,"__proto__").set,2),e(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,r){return o(t,r),n?t.__proto__=r:e(t,r),t}}({},!1):void 0),check:o}},function(t,n,r){var e=r(126)("keys"),i=r(76);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n,r){var e=r(2),i=r(26),o=r(7)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||void 0==(r=e(u)[o])?n:i(r)}},function(t,n,r){var e=r(67),i=r(46);t.exports=function(t){return function(n,r){var o,u,c=String(i(n)),f=e(r),a=c.length;return f<0||f>=a?t?"":void 0:(o=c.charCodeAt(f),o<55296||o>56319||f+1===a||(u=c.charCodeAt(f+1))<56320||u>57343?t?c.charAt(f):o:t?c.slice(f,f+2):u-56320+(o-55296<<10)+65536)}}},function(t,n,r){var e=r(122),i=r(46);t.exports=function(t,n,r){if(e(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},function(t,n,r){"use strict";var e=r(67),i=r(46);t.exports=function(t){var n=String(i(this)),r="",o=e(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(r+=n);return r}},function(t,n){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,n,r){var e,i,o,u=r(53),c=r(121),f=r(135),a=r(132),s=r(3),l=s.process,h=s.setImmediate,v=s.clearImmediate,p=s.MessageChannel,d=0,y={},g="onreadystatechange",b=function(){var t=+this;if(y.hasOwnProperty(t)){var n=y[t];delete y[t],n()}},m=function(t){b.call(t.data)};h&&v||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return y[++d]=function(){c("function"==typeof t?t:Function(t),n)},e(d),d},v=function(t){delete y[t]},"process"==r(45)(l)?e=function(t){l.nextTick(u(b,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=m,e=u(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(e=function(t){s.postMessage(t+"","*")},s.addEventListener("message",m,!1)):e=g in a("script")?function(t){f.appendChild(a("script"))[g]=function(){f.removeChild(this),b.call(t)}}:function(t){setTimeout(u(b,t,1),0)}),t.exports={set:h,clear:v}},function(t,n,r){"use strict";var e=r(3),i=r(10),o=r(69),u=r(127),c=r(27),f=r(73),a=r(4),s=r(68),l=r(67),h=r(16),v=r(71).f,p=r(11).f,d=r(130),y=r(81),g="ArrayBuffer",b="DataView",m="prototype",x="Wrong length!",w="Wrong index!",S=e[g],_=e[b],O=e.Math,E=e.RangeError,P=e.Infinity,j=S,F=O.abs,M=O.pow,A=O.floor,N=O.log,T=O.LN2,I="buffer",k="byteLength",L="byteOffset",R=i?"_b":I,C=i?"_l":k,D=i?"_o":L,U=function(t,n,r){var e,i,o,u=Array(r),c=8*r-n-1,f=(1<<c)-1,a=f>>1,s=23===n?M(2,-24)-M(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for(t=F(t),t!=t||t===P?(i=t!=t?1:0,e=f):(e=A(N(t)/T),t*(o=M(2,-e))<1&&(e--,o*=2),t+=e+a>=1?s/o:s*M(2,1-a),t*o>=2&&(e++,o/=2),e+a>=f?(i=0,e=f):e+a>=1?(i=(t*o-1)*M(2,n),e+=a):(i=t*M(2,a-1)*M(2,n),e=0));n>=8;u[l++]=255&i,i/=256,n-=8);for(e=e<<n|i,c+=n;c>0;u[l++]=255&e,e/=256,c-=8);return u[--l]|=128*h,u},W=function(t,n,r){var e,i=8*r-n-1,o=(1<<i)-1,u=o>>1,c=i-7,f=r-1,a=t[f--],s=127&a;for(a>>=7;c>0;s=256*s+t[f],f--,c-=8);for(e=s&(1<<-c)-1,s>>=-c,c+=n;c>0;e=256*e+t[f],f--,c-=8);if(0===s)s=1-u;else{if(s===o)return e?NaN:a?-P:P;e+=M(2,n),s-=u}return(a?-1:1)*e*M(2,s-n)},G=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},B=function(t){return[255&t]},V=function(t){return[255&t,t>>8&255]},z=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},q=function(t){return U(t,52,8)},K=function(t){return U(t,23,4)},J=function(t,n,r){p(t[m],n,{get:function(){return this[r]}})},Y=function(t,n,r,e){var i=+r,o=l(i);if(i!=o||o<0||o+n>t[C])throw E(w);var u=t[R]._b,c=o+t[D],f=u.slice(c,c+n);return e?f:f.reverse()},H=function(t,n,r,e,i,o){var u=+r,c=l(u);if(u!=c||c<0||c+n>t[C])throw E(w);for(var f=t[R]._b,a=c+t[D],s=e(+i),h=0;h<n;h++)f[a+h]=s[o?h:n-h-1]},$=function(t,n){s(t,S,g);var r=+n,e=h(r);if(r!=e)throw E(x);return e};if(u.ABV){if(!a(function(){new S})||!a(function(){new S(.5)})){S=function(t){return new j($(this,t))};for(var X,Q=S[m]=j[m],Z=v(j),tt=0;Z.length>tt;)(X=Z[tt++])in S||c(S,X,j[X]);o||(Q.constructor=S)}var nt=new _(new S(2)),rt=_[m].setInt8;nt.setInt8(0,2147483648),nt.setInt8(1,2147483649),!nt.getInt8(0)&&nt.getInt8(1)||f(_[m],{setInt8:function(t,n){rt.call(this,t,n<<24>>24)},setUint8:function(t,n){rt.call(this,t,n<<24>>24)}},!0)}else S=function(t){var n=$(this,t);this._b=d.call(Array(n),0),this[C]=n},_=function(t,n,r){s(this,_,b),s(t,S,b);var e=t[C],i=l(n);if(i<0||i>e)throw E("Wrong offset!");if(r=void 0===r?e-i:h(r),i+r>e)throw E(x);this[R]=t,this[D]=i,this[C]=r},i&&(J(S,k,"_l"),J(_,I,"_b"),J(_,k,"_l"),J(_,L,"_o")),f(_[m],{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var n=Y(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=Y(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return G(Y(this,4,t,arguments[1]))},getUint32:function(t){return G(Y(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return W(Y(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return W(Y(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){H(this,1,t,B,n)},setUint8:function(t,n){H(this,1,t,B,n)},setInt16:function(t,n){H(this,2,t,V,n,arguments[2])},setUint16:function(t,n){H(this,2,t,V,n,arguments[2])},setInt32:function(t,n){H(this,4,t,z,n,arguments[2])},setUint32:function(t,n){H(this,4,t,z,n,arguments[2])},setFloat32:function(t,n){H(this,4,t,K,n,arguments[2])},setFloat64:function(t,n){H(this,8,t,q,n,arguments[2])}});y(S,g),y(_,b),c(_[m],u.VIEW,!0),n[g]=S,n[b]=_},function(t,n,r){var e=r(3),i=r(52),o=r(69),u=r(182),c=r(11).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(114),i=r(7)("iterator"),o=r(80);t.exports=r(52).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[e(t)]}},function(t,n,r){"use strict";var e=r(78),i=r(170),o=r(80),u=r(30);t.exports=r(140)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n){function r(t,n){t.classList?t.classList.add(n):t.className+=" "+n}t.exports=r},function(t,n){function r(t,n){if(t.classList)t.classList.remove(n);else{var r=new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi");t.className=t.className.replace(r," ")}}t.exports=r},function(t,n){function r(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function i(t){if(s===setTimeout)return setTimeout(t,0);if((s===r||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(n){try{return s.call(null,t,0)}catch(n){return s.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===e||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(n){try{return l.call(null,t)}catch(n){return l.call(this,t)}}}function u(){d&&v&&(d=!1,v.length?p=v.concat(p):y=-1,p.length&&c())}function c(){if(!d){var t=i(u);d=!0;for(var n=p.length;n;){for(v=p,p=[];++y<n;)v&&v[y].run();y=-1,n=p.length}v=null,d=!1,o(t)}}function f(t,n){this.fun=t,this.array=n}function a(){}var s,l,h=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:r}catch(t){s=r}try{l="function"==typeof clearTimeout?clearTimeout:e}catch(t){l=e}}();var v,p=[],d=!1,y=-1;h.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];p.push(new f(t,n)),1!==p.length||d||i(c)},f.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=a,h.addListener=a,h.once=a,h.off=a,h.removeListener=a,h.removeAllListeners=a,h.emit=a,h.prependListener=a,h.prependOnceListener=a,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,n,r){var e=r(45);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=e(t))throw TypeError(n);return+t}},function(t,n,r){"use strict";var e=r(17),i=r(75),o=r(16);t.exports=[].copyWithin||function(t,n){var r=e(this),u=o(r.length),c=i(t,u),f=i(n,u),a=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===a?u:i(a,u))-f,u-c),l=1;for(f<c&&c<f+s&&(l=-1,f+=s-1,c+=s-1);s-- >0;)f in r?r[c]=r[f]:delete r[c],c+=l,f+=l;return r}},function(t,n,r){var e=r(79);t.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},function(t,n,r){var e=r(26),i=r(17),o=r(115),u=r(16);t.exports=function(t,n,r,c,f){e(n);var a=i(t),s=o(a),l=u(a.length),h=f?l-1:0,v=f?-1:1;if(r<2)for(;;){if(h in s){c=s[h],h+=v;break}if(h+=v,f?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;f?h>=0:l>h;h+=v)h in s&&(c=n(c,s[h],h,a));return c}},function(t,n,r){"use strict";var e=r(26),i=r(6),o=r(121),u=[].slice,c={},f=function(t,n,r){if(!(n in c)){for(var e=[],i=0;i<n;i++)e[i]="a["+i+"]";c[n]=Function("F,a","return new F("+e.join(",")+")")}return c[n](t,r)};t.exports=Function.bind||function(t){var n=e(this),r=u.call(arguments,1),c=function(){var e=r.concat(u.call(arguments));return this instanceof c?f(n,e.length,e):o(n,e,t)};return i(n.prototype)&&(c.prototype=n.prototype),c}},function(t,n,r){"use strict";var e=r(11).f,i=r(70),o=r(73),u=r(53),c=r(68),f=r(46),a=r(79),s=r(140),l=r(170),h=r(74),v=r(10),p=r(65).fastKey,d=v?"_s":"size",y=function(t,n){var r,e=p(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,s){var l=t(function(t,e){c(t,l,n,"_i"),t._i=i(null),t._f=void 0,t._l=void 0,t[d]=0,void 0!=e&&a(e,r,t[s],t)});return o(l.prototype,{clear:function(){for(var t=this,n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var n=this,r=y(n,t);if(r){var e=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=e),e&&(e.p=i),n._f==r&&(n._f=e),n._l==r&&(n._l=i),n[d]--}return!!r},forEach:function(t){c(this,l,"forEach");for(var n,r=u(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(this,t)}}),v&&e(l.prototype,"size",{get:function(){return f(this[d])}}),l},def:function(t,n,r){var e,i,o=y(t,n);return o?o.v=r:(t._l=o={i:i=p(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=o),e&&(e.n=o),t[d]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,n,r){s(t,n,function(t,n){this._t=t,this._k=n,this._l=void 0},function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==n?l(0,r.k):"values"==n?l(0,r.v):l(0,[r.k,r.v]):(t._t=void 0,l(1))},r?"entries":"values",!r,!0),h(n)}}},function(t,n,r){var e=r(114),i=r(161);t.exports=function(t){return function(){if(e(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,n,r){"use strict";var e=r(73),i=r(65).getWeak,o=r(2),u=r(6),c=r(68),f=r(79),a=r(48),s=r(24),l=a(5),h=a(6),v=0,p=function(t){return t._l||(t._l=new d)},d=function(){this.a=[]},y=function(t,n){return l(t.a,function(t){return t[0]===n})};d.prototype={get:function(t){var n=y(this,t);if(n)return n[1]},has:function(t){return!!y(this,t)},set:function(t,n){var r=y(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(t){var n=h(this.a,function(n){return n[0]===t});return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,o){var a=t(function(t,e){c(t,a,n,"_i"),t._i=v++,t._l=void 0,void 0!=e&&f(e,r,t[o],t)});return e(a.prototype,{delete:function(t){if(!u(t))return!1;var n=i(t);return!0===n?p(this).delete(t):n&&s(n,this._i)&&delete n[this._i]},has:function(t){if(!u(t))return!1;var n=i(t);return!0===n?p(this).has(t):n&&s(n,this._i)}}),a},def:function(t,n,r){var e=i(o(n),!0);return!0===e?p(t).set(n,r):e[t._i]=r,t},ufstore:p}},function(t,n,r){t.exports=!r(10)&&!r(4)(function(){return 7!=Object.defineProperty(r(132)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(6),i=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&i(t)===t}},function(t,n,r){var e=r(2);t.exports=function(t,n,r,i){try{return i?n(e(r)[0],r[1]):n(r)}catch(n){var o=t.return;throw void 0!==o&&e(o.call(t)),n}}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,n,r){"use strict";var e=r(72),i=r(125),o=r(116),u=r(17),c=r(115),f=Object.assign;t.exports=!f||r(4)(function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach(function(t){n[t]=t}),7!=f({},t)[r]||Object.keys(f({},n)).join("")!=e})?function(t,n){for(var r=u(t),f=arguments.length,a=1,s=i.f,l=o.f;f>a;)for(var h,v=c(arguments[a++]),p=s?e(v).concat(s(v)):e(v),d=p.length,y=0;d>y;)l.call(v,h=p[y++])&&(r[h]=v[h]);return r}:f},function(t,n,r){var e=r(11),i=r(2),o=r(72);t.exports=r(10)?Object.defineProperties:function(t,n){i(t);for(var r,u=o(n),c=u.length,f=0;c>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(30),i=r(71).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?c(t):i(e(t))}},function(t,n,r){var e=r(24),i=r(30),o=r(117)(!1),u=r(145)("IE_PROTO");t.exports=function(t,n){var r,c=i(t),f=0,a=[];for(r in c)r!=u&&e(c,r)&&a.push(r);for(;n.length>f;)e(c,r=n[f++])&&(~o(a,r)||a.push(r));return a}},function(t,n,r){var e=r(72),i=r(30),o=r(116).f;t.exports=function(t){return function(n){for(var r,u=i(n),c=e(u),f=c.length,a=0,s=[];f>a;)o.call(u,r=c[a++])&&s.push(t?[r,u[r]]:u[r]);return s}}},function(t,n,r){var e=r(71),i=r(125),o=r(2),u=r(3).Reflect;t.exports=u&&u.ownKeys||function(t){var n=e.f(o(t)),r=i.f;return r?n.concat(r(t)):n}},function(t,n,r){var e=r(3).parseFloat,i=r(82).trim;t.exports=1/e(r(150)+"-0")!=-1/0?function(t){var n=i(String(t),3),r=e(n);return 0===r&&"-"==n.charAt(0)?-0:r}:e},function(t,n,r){var e=r(3).parseInt,i=r(82).trim,o=r(150),u=/^[\-+]?0[xX]/;t.exports=8!==e(o+"08")||22!==e(o+"0x16")?function(t,n){var r=i(String(t),3);return e(r,n>>>0||(u.test(r)?16:10))}:e},function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(t,n,r){var e=r(16),i=r(149),o=r(46);t.exports=function(t,n,r,u){var c=String(o(t)),f=c.length,a=void 0===r?" ":String(r),s=e(n);if(s<=f||""==a)return c;var l=s-f,h=i.call(a,Math.ceil(l/a.length));return h.length>l&&(h=h.slice(0,l)),u?h+c:c+h}},function(t,n,r){n.f=r(7)},function(t,n,r){"use strict";var e=r(164);t.exports=r(118)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var n=e.getEntry(this,t);return n&&n.v},set:function(t,n){return e.def(this,0===t?0:t,n)}},e,!0)},function(t,n,r){r(10)&&"g"!=/./g.flags&&r(11).f(RegExp.prototype,"flags",{configurable:!0,get:r(120)})},function(t,n,r){"use strict";var e=r(164);t.exports=r(118)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t=0===t?0:t,t)}},e)},function(t,n,r){"use strict";var e,i=r(48)(0),o=r(28),u=r(65),c=r(172),f=r(166),a=r(6),s=u.getWeak,l=Object.isExtensible,h=f.ufstore,v={},p=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},d={get:function(t){if(a(t)){var n=s(t);return!0===n?h(this).get(t):n?n[this._i]:void 0}},set:function(t,n){return f.def(this,t,n)}},y=t.exports=r(118)("WeakMap",p,d,f,!0,!0);7!=(new y).set((Object.freeze||Object)(v),7).get(v)&&(e=f.getConstructor(p),c(e.prototype,d),u.NEED=!0,i(["delete","has","get","set"],function(t){var n=y.prototype,r=n[t];o(n,t,function(n,i){if(a(n)&&!l(n)){this._f||(this._f=new e);var o=this._f[t](n,i);return"set"==t?this:o}return r.call(this,n,i)})}))},,,,function(t,n){"use strict";function r(){var t=document.querySelector("#page-nav");if(t&&!document.querySelector("#page-nav .extend.prev")&&(t.innerHTML='<a class="extend prev disabled" rel="prev">&laquo; Prev</a>'+t.innerHTML),t&&!document.querySelector("#page-nav .extend.next")&&(t.innerHTML=t.innerHTML+'<a class="extend next disabled" rel="next">Next &raquo;</a>'),yiliaConfig&&yiliaConfig.open_in_new){document.querySelectorAll(".article-entry a:not(.article-more-a)").forEach(function(t){var n=t.getAttribute("target");n&&""!==n||t.setAttribute("target","_blank")})}if(yiliaConfig&&yiliaConfig.toc_hide_index){document.querySelectorAll(".toc-number").forEach(function(t){t.style.display="none"})}var n=document.querySelector("#js-aboutme");n&&0!==n.length&&(n.innerHTML=n.innerText)}t.exports={init:r}},function(t,n,r){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var r=/\/|index.html/g;return t.replace(r,"")===n.replace(r,"")}function o(){for(var t=document.querySelectorAll(".js-header-menu li a"),n=window.location.pathname,r=0,e=t.length;r<e;r++){var o=t[r];i(n,o.getAttribute("href"))&&(0,h.default)(o,"active")}}function u(t){for(var n=t.offsetLeft,r=t.offsetParent;null!==r;)n+=r.offsetLeft,r=r.offsetParent;return n}function c(t){for(var n=t.offsetTop,r=t.offsetParent;null!==r;)n+=r.offsetTop,r=r.offsetParent;return n}function f(t,n,r,e,i){var o=u(t),f=c(t)-n;if(f-r<=i){var a=t.$newDom;a||(a=t.cloneNode(!0),(0,d.default)(t,a),t.$newDom=a,a.style.position="fixed",a.style.top=(r||f)+"px",a.style.left=o+"px",a.style.zIndex=e||2,a.style.width="100%",a.style.color="#fff"),a.style.visibility="visible",t.style.visibility="hidden"}else{t.style.visibility="visible";var s=t.$newDom;s&&(s.style.visibility="hidden")}}function a(){var t=document.querySelector(".js-overlay"),n=document.querySelector(".js-header-menu");f(t,document.body.scrollTop,-63,2,0),f(n,document.body.scrollTop,1,3,0)}function s(){document.querySelector("#container").addEventListener("scroll",function(t){a()}),window.addEventListener("scroll",function(t){a()}),a()}var l=r(156),h=e(l),v=r(157),p=(e(v),r(382)),d=e(p),y=r(128),g=e(y),b=r(190),m=e(b),x=r(129);(function(){g.default.versions.mobile&&window.screen.width<800&&(o(),s())})(),(0,x.addLoadEvent)(function(){m.default.init()}),t.exports={}},,,,function(t,n,r){(function(t){"use strict";function n(t,n,r){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:r})}if(r(381),r(391),r(198),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&n(Array,t,Function.call.bind([][t]))})}).call(n,function(){return this}())},,,function(t,n,r){r(210),t.exports=r(52).RegExp.escape},,,,function(t,n,r){var e=r(6),i=r(138),o=r(7)("species");t.exports=function(t){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=void 0),e(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){var e=r(202);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){"use strict";var e=r(2),i=r(50),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(e(this),t!=o)}},function(t,n,r){var e=r(72),i=r(125),o=r(116);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),f=o.f,a=0;c.length>a;)f.call(t,u=c[a++])&&n.push(u);return n}},function(t,n,r){var e=r(72),i=r(30);t.exports=function(t,n){for(var r,o=i(t),u=e(o),c=u.length,f=0;c>f;)if(o[r=u[f++]]===n)return r}},function(t,n,r){"use strict";var e=r(208),i=r(121),o=r(26);t.exports=function(){for(var t=o(this),n=arguments.length,r=Array(n),u=0,c=e._,f=!1;n>u;)(r[u]=arguments[u++])===c&&(f=!0);return function(){var e,o=this,u=arguments.length,a=0,s=0;if(!f&&!u)return i(t,r,o);if(e=r.slice(),f)for(;n>a;a++)e[a]===c&&(e[a]=arguments[s++]);for(;u>s;)e.push(arguments[s++]);return i(t,e,o)}}},function(t,n,r){t.exports=r(3)},function(t,n){t.exports=function(t,n){var r=n===Object(n)?function(t){return n[t]}:n;return function(n){return String(n).replace(t,r)}}},function(t,n,r){var e=r(1),i=r(209)(/[\\^$*+?.()|[\]{}]/g,"\\$&");e(e.S,"RegExp",{escape:function(t){return i(t)}})},function(t,n,r){var e=r(1);e(e.P,"Array",{copyWithin:r(160)}),r(78)("copyWithin")},function(t,n,r){"use strict";var e=r(1),i=r(48)(4);e(e.P+e.F*!r(47)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,n,r){var e=r(1);e(e.P,"Array",{fill:r(130)}),r(78)("fill")},function(t,n,r){"use strict";var e=r(1),i=r(48)(2);e(e.P+e.F*!r(47)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(6),o="findIndex",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)(o)},function(t,n,r){"use strict";var e=r(1),i=r(48)(5),o="find",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)(o)},function(t,n,r){"use strict";var e=r(1),i=r(48)(0),o=r(47)([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(53),i=r(1),o=r(17),u=r(169),c=r(137),f=r(16),a=r(131),s=r(154);i(i.S+i.F*!r(123)(function(t){Array.from(t)}),"Array",{from:function(t){var n,r,i,l,h=o(t),v="function"==typeof this?this:Array,p=arguments.length,d=p>1?arguments[1]:void 0,y=void 0!==d,g=0,b=s(h);if(y&&(d=e(d,p>2?arguments[2]:void 0,2)),void 0==b||v==Array&&c(b))for(n=f(h.length),r=new v(n);n>g;g++)a(r,g,y?d(h[g],g):h[g]);else for(l=b.call(h),r=new v;!(i=l.next()).done;g++)a(r,g,y?u(l,d,[i.value,g],!0):i.value);return r.length=g,r}})},function(t,n,r){"use strict";var e=r(1),i=r(117)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(u||!r(47)(o)),"Array",{indexOf:function(t){return u?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,n,r){var e=r(1);e(e.S,"Array",{isArray:r(138)})},function(t,n,r){"use strict";var e=r(1),i=r(30),o=[].join;e(e.P+e.F*(r(115)!=Object||!r(47)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,n,r){"use strict";var e=r(1),i=r(30),o=r(67),u=r(16),c=[].lastIndexOf,f=!!c&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(f||!r(47)(c)),"Array",{lastIndexOf:function(t){if(f)return c.apply(this,arguments)||0;var n=i(this),r=u(n.length),e=r-1;for(arguments.length>1&&(e=Math.min(e,o(arguments[1]))),e<0&&(e=r+e);e>=0;e--)if(e in n&&n[e]===t)return e||0;return-1}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(1);e(e.P+e.F*!r(47)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(131);e(e.S+e.F*r(4)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>t;)i(r,t,arguments[t++]);return r.length=n,r}})},function(t,n,r){"use strict";var e=r(1),i=r(162);e(e.P+e.F*!r(47)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,n,r){"use strict";var e=r(1),i=r(162);e(e.P+e.F*!r(47)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,n,r){"use strict";var e=r(1),i=r(135),o=r(45),u=r(75),c=r(16),f=[].slice;e(e.P+e.F*r(4)(function(){i&&f.call(i)}),"Array",{slice:function(t,n){var r=c(this.length),e=o(this);if(n=void 0===n?r:n,"Array"==e)return f.call(this,t,n);for(var i=u(t,r),a=u(n,r),s=c(a-i),l=Array(s),h=0;h<s;h++)l[h]="String"==e?this.charAt(i+h):this[i+h];return l}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(3);e(e.P+e.F*!r(47)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(26),o=r(17),u=r(4),c=[].sort,f=[1,2,3];e(e.P+e.F*(u(function(){f.sort(void 0)})||!u(function(){f.sort(null)})||!r(47)(c)),"Array",{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},function(t,n,r){r(74)("Array")},function(t,n,r){var e=r(1);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,r){"use strict";var e=r(1),i=r(4),o=Date.prototype.getTime,u=function(t){return t>9?t:"0"+t};e(e.P+e.F*(i(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!i(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){
if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),r=t.getUTCMilliseconds(),e=n<0?"-":n>9999?"+":"";return e+("00000"+Math.abs(n)).slice(e?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(r>99?r:"0"+u(r))+"Z"}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50);e(e.P+e.F*r(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var n=i(this),r=o(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}})},function(t,n,r){var e=r(7)("toPrimitive"),i=Date.prototype;e in i||r(27)(i,e,r(204))},function(t,n,r){var e=Date.prototype,i="Invalid Date",o="toString",u=e[o],c=e.getTime;new Date(NaN)+""!=i&&r(28)(e,o,function(){var t=c.call(this);return t===t?u.call(this):i})},function(t,n,r){var e=r(1);e(e.P,"Function",{bind:r(163)})},function(t,n,r){"use strict";var e=r(6),i=r(32),o=r(7)("hasInstance"),u=Function.prototype;o in u||r(11).f(u,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,r){var e=r(11).f,i=r(66),o=r(24),u=Function.prototype,c="name",f=Object.isExtensible||function(){return!0};c in u||r(10)&&e(u,c,{configurable:!0,get:function(){try{var t=this,n=(""+t).match(/^\s*function ([^ (]*)/)[1];return o(t,c)||!f(t)||e(t,c,i(5,n)),n}catch(t){return""}}})},function(t,n,r){var e=r(1),i=r(171),o=Math.sqrt,u=Math.acosh;e(e.S+e.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,n,r){function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=r(1),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:e})},function(t,n,r){var e=r(1),i=Math.atanh;e(e.S+e.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,n,r){var e=r(1),i=r(142);e(e.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,n,r){var e=r(1),i=Math.exp;e(e.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,n,r){var e=r(1),i=r(141);e(e.S+e.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,n,r){var e=r(1),i=r(142),o=Math.pow,u=o(2,-52),c=o(2,-23),f=o(2,127)*(2-c),a=o(2,-126),s=function(t){return t+1/u-1/u};e(e.S,"Math",{fround:function(t){var n,r,e=Math.abs(t),o=i(t);return e<a?o*s(e/a/c)*a*c:(n=(1+c/u)*e,r=n-(n-e),r>f||r!=r?o*(1/0):o*r)}})},function(t,n,r){var e=r(1),i=Math.abs;e(e.S,"Math",{hypot:function(t,n){for(var r,e,o=0,u=0,c=arguments.length,f=0;u<c;)r=i(arguments[u++]),f<r?(e=f/r,o=o*e*e+1,f=r):r>0?(e=r/f,o+=e*e):o+=r;return f===1/0?1/0:f*Math.sqrt(o)}})},function(t,n,r){var e=r(1),i=Math.imul;e(e.S+e.F*r(4)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,n){var r=65535,e=+t,i=+n,o=r&e,u=r&i;return 0|o*u+((r&e>>>16)*u+o*(r&i>>>16)<<16>>>0)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},function(t,n,r){var e=r(1);e(e.S,"Math",{log1p:r(171)})},function(t,n,r){var e=r(1);e(e.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,n,r){var e=r(1);e(e.S,"Math",{sign:r(142)})},function(t,n,r){var e=r(1),i=r(141),o=Math.exp;e(e.S+e.F*r(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,n,r){var e=r(1),i=r(141),o=Math.exp;e(e.S,"Math",{tanh:function(t){var n=i(t=+t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(o(t)+o(-t))}})},function(t,n,r){var e=r(1);e(e.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,n,r){"use strict";var e=r(3),i=r(24),o=r(45),u=r(136),c=r(50),f=r(4),a=r(71).f,s=r(31).f,l=r(11).f,h=r(82).trim,v="Number",p=e[v],d=p,y=p.prototype,g=o(r(70)(y))==v,b="trim"in String.prototype,m=function(t){var n=c(t,!1);if("string"==typeof n&&n.length>2){n=b?n.trim():h(n,3);var r,e,i,o=n.charCodeAt(0);if(43===o||45===o){if(88===(r=n.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:e=2,i=49;break;case 79:case 111:e=8,i=55;break;default:return+n}for(var u,f=n.slice(2),a=0,s=f.length;a<s;a++)if((u=f.charCodeAt(a))<48||u>i)return NaN;return parseInt(f,e)}}return+n};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var n=arguments.length<1?0:t,r=this;return r instanceof p&&(g?f(function(){y.valueOf.call(r)}):o(r)!=v)?u(new d(m(n)),r,p):m(n)};for(var x,w=r(10)?a(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;w.length>S;S++)i(d,x=w[S])&&!i(p,x)&&l(p,x,s(d,x));p.prototype=y,y.constructor=p,r(28)(e,v,p)}},function(t,n,r){var e=r(1);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){var e=r(1),i=r(3).isFinite;e(e.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,n,r){var e=r(1);e(e.S,"Number",{isInteger:r(168)})},function(t,n,r){var e=r(1);e(e.S,"Number",{isNaN:function(t){return t!=t}})},function(t,n,r){var e=r(1),i=r(168),o=Math.abs;e(e.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,n,r){var e=r(1);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,r){var e=r(1);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,r){var e=r(1),i=r(178);e(e.S+e.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,n,r){var e=r(1),i=r(179);e(e.S+e.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,n,r){"use strict";var e=r(1),i=r(67),o=r(159),u=r(149),c=1..toFixed,f=Math.floor,a=[0,0,0,0,0,0],s="Number.toFixed: incorrect invocation!",l="0",h=function(t,n){for(var r=-1,e=n;++r<6;)e+=t*a[r],a[r]=e%1e7,e=f(e/1e7)},v=function(t){for(var n=6,r=0;--n>=0;)r+=a[n],a[n]=f(r/t),r=r%t*1e7},p=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==a[t]){var r=String(a[t]);n=""===n?r:n+u.call(l,7-r.length)+r}return n},d=function(t,n,r){return 0===n?r:n%2==1?d(t,n-1,r*t):d(t*t,n/2,r)},y=function(t){for(var n=0,r=t;r>=4096;)n+=12,r/=4096;for(;r>=2;)n+=1,r/=2;return n};e(e.P+e.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(4)(function(){c.call({})})),"Number",{toFixed:function(t){var n,r,e,c,f=o(this,s),a=i(t),g="",b=l;if(a<0||a>20)throw RangeError(s);if(f!=f)return"NaN";if(f<=-1e21||f>=1e21)return String(f);if(f<0&&(g="-",f=-f),f>1e-21)if(n=y(f*d(2,69,1))-69,r=n<0?f*d(2,-n,1):f/d(2,n,1),r*=4503599627370496,(n=52-n)>0){for(h(0,r),e=a;e>=7;)h(1e7,0),e-=7;for(h(d(10,e,1),0),e=n-1;e>=23;)v(1<<23),e-=23;v(1<<e),h(1,1),v(2),b=p()}else h(0,r),h(1<<-n,0),b=p()+u.call(l,a);return a>0?(c=b.length,b=g+(c<=a?"0."+u.call(l,a-c)+b:b.slice(0,c-a)+"."+b.slice(c-a))):b=g+b,b}})},function(t,n,r){"use strict";var e=r(1),i=r(4),o=r(159),u=1..toPrecision;e(e.P+e.F*(i(function(){return"1"!==u.call(1,void 0)})||!i(function(){u.call({})})),"Number",{toPrecision:function(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(n):u.call(n,t)}})},function(t,n,r){var e=r(1);e(e.S+e.F,"Object",{assign:r(172)})},function(t,n,r){var e=r(1);e(e.S,"Object",{create:r(70)})},function(t,n,r){var e=r(1);e(e.S+e.F*!r(10),"Object",{defineProperties:r(173)})},function(t,n,r){var e=r(1);e(e.S+e.F*!r(10),"Object",{defineProperty:r(11).f})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("freeze",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(30),i=r(31).f;r(49)("getOwnPropertyDescriptor",function(){return function(t,n){return i(e(t),n)}})},function(t,n,r){r(49)("getOwnPropertyNames",function(){return r(174).f})},function(t,n,r){var e=r(17),i=r(32);r(49)("getPrototypeOf",function(){return function(t){return i(e(t))}})},function(t,n,r){var e=r(6);r(49)("isExtensible",function(t){return function(n){return!!e(n)&&(!t||t(n))}})},function(t,n,r){var e=r(6);r(49)("isFrozen",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(6);r(49)("isSealed",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(1);e(e.S,"Object",{is:r(180)})},function(t,n,r){var e=r(17),i=r(72);r(49)("keys",function(){return function(t){return i(e(t))}})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("preventExtensions",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("seal",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(1);e(e.S,"Object",{setPrototypeOf:r(144).set})},function(t,n,r){"use strict";var e=r(114),i={};i[r(7)("toStringTag")]="z",i+""!="[object z]"&&r(28)(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0)},function(t,n,r){var e=r(1),i=r(178);e(e.G+e.F*(parseFloat!=i),{parseFloat:i})},function(t,n,r){var e=r(1),i=r(179);e(e.G+e.F*(parseInt!=i),{parseInt:i})},function(t,n,r){"use strict";var e,i,o,u=r(69),c=r(3),f=r(53),a=r(114),s=r(1),l=r(6),h=r(26),v=r(68),p=r(79),d=r(146),y=r(151).set,g=r(143)(),b="Promise",m=c.TypeError,x=c.process,w=c[b],x=c.process,S="process"==a(x),_=function(){},O=!!function(){try{var t=w.resolve(1),n=(t.constructor={})[r(7)("species")]=function(t){t(_,_)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(_)instanceof n}catch(t){}}(),E=function(t,n){return t===n||t===w&&n===o},P=function(t){var n;return!(!l(t)||"function"!=typeof(n=t.then))&&n},j=function(t){return E(w,t)?new F(t):new i(t)},F=i=function(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw m("Bad Promise constructor");n=t,r=e}),this.resolve=h(n),this.reject=h(r)},M=function(t){try{t()}catch(t){return{error:t}}},A=function(t,n){if(!t._n){t._n=!0;var r=t._c;g(function(){for(var e=t._v,i=1==t._s,o=0;r.length>o;)!function(n){var r,o,u=i?n.ok:n.fail,c=n.resolve,f=n.reject,a=n.domain;try{u?(i||(2==t._h&&I(t),t._h=1),!0===u?r=e:(a&&a.enter(),r=u(e),a&&a.exit()),r===n.promise?f(m("Promise-chain cycle")):(o=P(r))?o.call(r,c,f):c(r)):f(e)}catch(t){f(t)}}(r[o++]);t._c=[],t._n=!1,n&&!t._h&&N(t)})}},N=function(t){y.call(c,function(){var n,r,e,i=t._v;if(T(t)&&(n=M(function(){S?x.emit("unhandledRejection",i,t):(r=c.onunhandledrejection)?r({promise:t,reason:i}):(e=c.console)&&e.error&&e.error("Unhandled promise rejection",i)}),t._h=S||T(t)?2:1),t._a=void 0,n)throw n.error})},T=function(t){if(1==t._h)return!1;for(var n,r=t._a||t._c,e=0;r.length>e;)if(n=r[e++],n.fail||!T(n.promise))return!1;return!0},I=function(t){y.call(c,function(){var n;S?x.emit("rejectionHandled",t):(n=c.onrejectionhandled)&&n({promise:t,reason:t._v})})},k=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),A(n,!0))},L=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw m("Promise can't be resolved itself");(n=P(t))?g(function(){var e={_w:r,_d:!1};try{n.call(t,f(L,e,1),f(k,e,1))}catch(t){k.call(e,t)}}):(r._v=t,r._s=1,A(r,!1))}catch(t){k.call({_w:r,_d:!1},t)}}};O||(w=function(t){v(this,w,b,"_h"),h(t),e.call(this);try{t(f(L,this,1),f(k,this,1))}catch(t){k.call(this,t)}},e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},e.prototype=r(73)(w.prototype,{then:function(t,n){var r=j(d(this,w));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=S?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&A(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),F=function(){var t=new e;this.promise=t,this.resolve=f(L,t,1),this.reject=f(k,t,1)}),s(s.G+s.W+s.F*!O,{Promise:w}),r(81)(w,b),r(74)(b),o=r(52)[b],s(s.S+s.F*!O,b,{reject:function(t){var n=j(this);return(0,n.reject)(t),n.promise}}),s(s.S+s.F*(u||!O),b,{resolve:function(t){if(t instanceof w&&E(t.constructor,this))return t;var n=j(this);return(0,n.resolve)(t),n.promise}}),s(s.S+s.F*!(O&&r(123)(function(t){w.all(t).catch(_)})),b,{all:function(t){var n=this,r=j(n),e=r.resolve,i=r.reject,o=M(function(){var r=[],o=0,u=1;p(t,!1,function(t){var c=o++,f=!1;r.push(void 0),u++,n.resolve(t).then(function(t){f||(f=!0,r[c]=t,--u||e(r))},i)}),--u||e(r)});return o&&i(o.error),r.promise},race:function(t){var n=this,r=j(n),e=r.reject,i=M(function(){p(t,!1,function(t){n.resolve(t).then(r.resolve,e)})});return i&&e(i.error),r.promise}})},function(t,n,r){var e=r(1),i=r(26),o=r(2),u=(r(3).Reflect||{}).apply,c=Function.apply;e(e.S+e.F*!r(4)(function(){u(function(){})}),"Reflect",{apply:function(t,n,r){var e=i(t),f=o(r);return u?u(e,n,f):c.call(e,n,f)}})},function(t,n,r){var e=r(1),i=r(70),o=r(26),u=r(2),c=r(6),f=r(4),a=r(163),s=(r(3).Reflect||{}).construct,l=f(function(){function t(){}return!(s(function(){},[],t)instanceof t)}),h=!f(function(){s(function(){})});e(e.S+e.F*(l||h),"Reflect",{construct:function(t,n){o(t),u(n);var r=arguments.length<3?t:o(arguments[2]);if(h&&!l)return s(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var e=[null];return e.push.apply(e,n),new(a.apply(t,e))}var f=r.prototype,v=i(c(f)?f:Object.prototype),p=Function.apply.call(t,v,n);return c(p)?p:v}})},function(t,n,r){var e=r(11),i=r(1),o=r(2),u=r(50);i(i.S+i.F*r(4)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,n,r){o(t),n=u(n,!0),o(r);try{return e.f(t,n,r),!0}catch(t){return!1}}})},function(t,n,r){var e=r(1),i=r(31).f,o=r(2);e(e.S,"Reflect",{deleteProperty:function(t,n){var r=i(o(t),n);return!(r&&!r.configurable)&&delete t[n]}})},function(t,n,r){"use strict";var e=r(1),i=r(2),o=function(t){this._t=i(t),this._i=0;var n,r=this._k=[];for(n in t)r.push(n)};r(139)(o,"Object",function(){var t,n=this,r=n._k;do{if(n._i>=r.length)return{value:void 0,done:!0}}while(!((t=r[n._i++])in n._t));return{value:t,done:!1}}),e(e.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,n,r){var e=r(31),i=r(1),o=r(2);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return e.f(o(t),n)}})},function(t,n,r){var e=r(1),i=r(32),o=r(2);e(e.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,n,r){function e(t,n){var r,c,s=arguments.length<3?t:arguments[2];return a(t)===s?t[n]:(r=i.f(t,n))?u(r,"value")?r.value:void 0!==r.get?r.get.call(s):void 0:f(c=o(t))?e(c,n,s):void 0}var i=r(31),o=r(32),u=r(24),c=r(1),f=r(6),a=r(2);c(c.S,"Reflect",{get:e})},function(t,n,r){var e=r(1);e(e.S,"Reflect",{has:function(t,n){return n in t}})},function(t,n,r){var e=r(1),i=r(2),o=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,n,r){var e=r(1);e(e.S,"Reflect",{ownKeys:r(177)})},function(t,n,r){var e=r(1),i=r(2),o=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,n,r){var e=r(1),i=r(144);i&&e(e.S,"Reflect",{setPrototypeOf:function(t,n){i.check(t,n);try{return i.set(t,n),!0}catch(t){return!1}}})},function(t,n,r){function e(t,n,r){var f,h,v=arguments.length<4?t:arguments[3],p=o.f(s(t),n);if(!p){if(l(h=u(t)))return e(h,n,r,v);p=a(0)}return c(p,"value")?!(!1===p.writable||!l(v)||(f=o.f(v,n)||a(0),f.value=r,i.f(v,n,f),0)):void 0!==p.set&&(p.set.call(v,r),!0)}var i=r(11),o=r(31),u=r(32),c=r(24),f=r(1),a=r(66),s=r(2),l=r(6);f(f.S,"Reflect",{set:e})},function(t,n,r){var e=r(3),i=r(136),o=r(11).f,u=r(71).f,c=r(122),f=r(120),a=e.RegExp,s=a,l=a.prototype,h=/a/g,v=/a/g,p=new a(h)!==h;if(r(10)&&(!p||r(4)(function(){return v[r(7)("match")]=!1,a(h)!=h||a(v)==v||"/a/i"!=a(h,"i")}))){a=function(t,n){var r=this instanceof a,e=c(t),o=void 0===n;return!r&&e&&t.constructor===a&&o?t:i(p?new s(e&&!o?t.source:t,n):s((e=t instanceof a)?t.source:t,e&&o?f.call(t):n),r?this:l,a)};for(var d=u(s),y=0;d.length>y;)!function(t){t in a||o(a,t,{configurable:!0,get:function(){return s[t]},set:function(n){s[t]=n}})}(d[y++]);l.constructor=a,a.prototype=l,r(28)(e,"RegExp",a)}r(74)("RegExp")},function(t,n,r){r(119)("match",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(119)("replace",2,function(t,n,r){return[function(e,i){"use strict";var o=t(this),u=void 0==e?void 0:e[n];return void 0!==u?u.call(e,o,i):r.call(String(o),e,i)},r]})},function(t,n,r){r(119)("search",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(119)("split",2,function(t,n,e){"use strict";var i=r(122),o=e,u=[].push,c="split",f="length",a="lastIndex";if("c"=="abbc"[c](/(b)*/)[1]||4!="test"[c](/(?:)/,-1)[f]||2!="ab"[c](/(?:ab)*/)[f]||4!="."[c](/(.?)(.?)/)[f]||"."[c](/()()/)[f]>1||""[c](/.?/)[f]){var s=void 0===/()??/.exec("")[1];e=function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!i(t))return o.call(r,t,n);var e,c,l,h,v,p=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,g=void 0===n?4294967295:n>>>0,b=new RegExp(t.source,d+"g");for(s||(e=new RegExp("^"+b.source+"$(?!\\s)",d));(c=b.exec(r))&&!((l=c.index+c[0][f])>y&&(p.push(r.slice(y,c.index)),!s&&c[f]>1&&c[0].replace(e,function(){for(v=1;v<arguments[f]-2;v++)void 0===arguments[v]&&(c[v]=void 0)}),c[f]>1&&c.index<r[f]&&u.apply(p,c.slice(1)),h=c[0][f],y=l,p[f]>=g));)b[a]===c.index&&b[a]++;return y===r[f]?!h&&b.test("")||p.push(""):p.push(r.slice(y)),p[f]>g?p.slice(0,g):p}}else"0"[c](void 0,0)[f]&&(e=function(t,n){return void 0===t&&0===n?[]:o.call(this,t,n)});return[function(r,i){var o=t(this),u=void 0==r?void 0:r[n];return void 0!==u?u.call(r,o,i):e.call(String(o),r,i)},e]})},function(t,n,r){"use strict";r(184);var e=r(2),i=r(120),o=r(10),u="toString",c=/./[u],f=function(t){r(28)(RegExp.prototype,u,t,!0)};r(4)(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?f(function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):c.name!=u&&f(function(){return c.call(this)})},function(t,n,r){"use strict";r(29)("anchor",function(t){return function(n){return t(this,"a","name",n)}})},function(t,n,r){"use strict";r(29)("big",function(t){return function(){return t(this,"big","","")}})},function(t,n,r){"use strict";r(29)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,n,r){"use strict";r(29)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,n,r){"use strict";var e=r(1),i=r(147)(!1);e(e.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(1),i=r(16),o=r(148),u="endsWith",c=""[u];e(e.P+e.F*r(134)(u),"String",{endsWith:function(t){var n=o(this,t,u),r=arguments.length>1?arguments[1]:void 0,e=i(n.length),f=void 0===r?e:Math.min(i(r),e),a=String(t);return c?c.call(n,a,f):n.slice(f-a.length,f)===a}})},function(t,n,r){"use strict";r(29)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,n,r){"use strict";r(29)("fontcolor",function(t){return function(n){return t(this,"font","color",n)}})},function(t,n,r){"use strict";r(29)("fontsize",function(t){return function(n){return t(this,"font","size",n)}})},function(t,n,r){var e=r(1),i=r(75),o=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],i(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?o(n):o(55296+((n-=65536)>>10),n%1024+56320))}return r.join("")}})},function(t,n,r){"use strict";var e=r(1),i=r(148),o="includes";e(e.P+e.F*r(134)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,r){"use strict";r(29)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,n,r){"use strict";var e=r(147)(!0);r(140)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){"use strict";r(29)("link",function(t){return function(n){return t(this,"a","href",n)}})},function(t,n,r){var e=r(1),i=r(30),o=r(16);e(e.S,"String",{raw:function(t){for(var n=i(t.raw),r=o(n.length),e=arguments.length,u=[],c=0;r>c;)u.push(String(n[c++])),c<e&&u.push(String(arguments[c]));return u.join("")}})},function(t,n,r){var e=r(1);e(e.P,"String",{repeat:r(149)})},function(t,n,r){"use strict";r(29)("small",function(t){return function(){return t(this,"small","","")}})},function(t,n,r){"use strict";var e=r(1),i=r(16),o=r(148),u="startsWith",c=""[u];e(e.P+e.F*r(134)(u),"String",{startsWith:function(t){var n=o(this,t,u),r=i(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),e=String(t);return c?c.call(n,e,r):n.slice(r,r+e.length)===e}})},function(t,n,r){"use strict";r(29)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,n,r){"use strict";r(29)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,n,r){"use strict";r(29)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,n,r){"use strict";r(82)("trim",function(t){return function(){return t(this,3)}})},function(t,n,r){"use strict";var e=r(3),i=r(24),o=r(10),u=r(1),c=r(28),f=r(65).KEY,a=r(4),s=r(126),l=r(81),h=r(76),v=r(7),p=r(182),d=r(153),y=r(206),g=r(205),b=r(138),m=r(2),x=r(30),w=r(50),S=r(66),_=r(70),O=r(174),E=r(31),P=r(11),j=r(72),F=E.f,M=P.f,A=O.f,N=e.Symbol,T=e.JSON,I=T&&T.stringify,k="prototype",L=v("_hidden"),R=v("toPrimitive"),C={}.propertyIsEnumerable,D=s("symbol-registry"),U=s("symbols"),W=s("op-symbols"),G=Object[k],B="function"==typeof N,V=e.QObject,z=!V||!V[k]||!V[k].findChild,q=o&&a(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=F(G,n);e&&delete G[n],M(t,n,r),e&&t!==G&&M(G,n,e)}:M,K=function(t){var n=U[t]=_(N[k]);return n._k=t,n},J=B&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},Y=function(t,n,r){return t===G&&Y(W,n,r),m(t),n=w(n,!0),m(r),i(U,n)?(r.enumerable?(i(t,L)&&t[L][n]&&(t[L][n]=!1),r=_(r,{enumerable:S(0,!1)})):(i(t,L)||M(t,L,S(1,{})),t[L][n]=!0),q(t,n,r)):M(t,n,r)},H=function(t,n){m(t);for(var r,e=g(n=x(n)),i=0,o=e.length;o>i;)Y(t,r=e[i++],n[r]);return t},$=function(t,n){return void 0===n?_(t):H(_(t),n)},X=function(t){var n=C.call(this,t=w(t,!0));return!(this===G&&i(U,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(U,t)||i(this,L)&&this[L][t])||n)},Q=function(t,n){if(t=x(t),n=w(n,!0),t!==G||!i(U,n)||i(W,n)){var r=F(t,n);return!r||!i(U,n)||i(t,L)&&t[L][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=A(x(t)),e=[],o=0;r.length>o;)i(U,n=r[o++])||n==L||n==f||e.push(n);return e},tt=function(t){for(var n,r=t===G,e=A(r?W:x(t)),o=[],u=0;e.length>u;)!i(U,n=e[u++])||r&&!i(G,n)||o.push(U[n]);return o};B||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===G&&n.call(W,r),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),q(this,t,S(1,r))};return o&&z&&q(G,t,{configurable:!0,set:n}),K(t)},c(N[k],"toString",function(){return this._k}),E.f=Q,P.f=Y,r(71).f=O.f=Z,r(116).f=X,r(125).f=tt,o&&!r(69)&&c(G,"propertyIsEnumerable",X,!0),p.f=function(t){return K(v(t))}),u(u.G+u.W+u.F*!B,{Symbol:N});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)v(nt[rt++]);for(var nt=j(v.store),rt=0;nt.length>rt;)d(nt[rt++]);u(u.S+u.F*!B,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=N(t)},keyFor:function(t){if(J(t))return y(D,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),u(u.S+u.F*!B,"Object",{create:$,defineProperty:Y,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),T&&u(u.S+u.F*(!B||a(function(){var t=N();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!J(t)){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);return n=e[1],"function"==typeof n&&(r=n),!r&&b(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!J(n))return n}),e[1]=n,I.apply(T,e)}}}),N[k][R]||r(27)(N[k],R,N[k].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){"use strict";var e=r(1),i=r(127),o=r(152),u=r(2),c=r(75),f=r(16),a=r(6),s=r(3).ArrayBuffer,l=r(146),h=o.ArrayBuffer,v=o.DataView,p=i.ABV&&s.isView,d=h.prototype.slice,y=i.VIEW,g="ArrayBuffer";e(e.G+e.W+e.F*(s!==h),{ArrayBuffer:h}),e(e.S+e.F*!i.CONSTR,g,{isView:function(t){return p&&p(t)||a(t)&&y in t}}),e(e.P+e.U+e.F*r(4)(function(){return!new h(2).slice(1,void 0).byteLength}),g,{slice:function(t,n){if(void 0!==d&&void 0===n)return d.call(u(this),t);for(var r=u(this).byteLength,e=c(t,r),i=c(void 0===n?r:n,r),o=new(l(this,h))(f(i-e)),a=new v(this),s=new v(o),p=0;e<i;)s.setUint8(p++,a.getUint8(e++));return o}}),r(74)(g)},function(t,n,r){var e=r(1);e(e.G+e.W+e.F*!r(127).ABV,{DataView:r(152).DataView})},function(t,n,r){r(55)("Float32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Float64",8,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}},!0)},function(t,n,r){"use strict";var e=r(166);r(118)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t,!0)}},e,!1,!0)},function(t,n,r){"use strict";var e=r(1),i=r(117)(!0);e(e.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)("includes")},function(t,n,r){var e=r(1),i=r(143)(),o=r(3).process,u="process"==r(45)(o);e(e.G,{asap:function(t){var n=u&&o.domain;i(n?n.bind(t):t)}})},function(t,n,r){var e=r(1),i=r(45);e(e.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,n,r){var e=r(1);e(e.P+e.R,"Map",{toJSON:r(165)("Map")})},function(t,n,r){var e=r(1);e(e.S,"Math",{iaddh:function(t,n,r,e){var i=t>>>0,o=n>>>0,u=r>>>0;return o+(e>>>0)+((i&u|(i|u)&~(i+u>>>0))>>>31)|0}})},function(t,n,r){var e=r(1);e(e.S,"Math",{imulh:function(t,n){var r=65535,e=+t,i=+n,o=e&r,u=i&r,c=e>>16,f=i>>16,a=(c*u>>>0)+(o*u>>>16);return c*f+(a>>16)+((o*f>>>0)+(a&r)>>16)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{isubh:function(t,n,r,e){var i=t>>>0,o=n>>>0,u=r>>>0;return o-(e>>>0)-((~i&u|~(i^u)&i-u>>>0)>>>31)|0}})},function(t,n,r){var e=r(1);e(e.S,"Math",{umulh:function(t,n){var r=65535,e=+t,i=+n,o=e&r,u=i&r,c=e>>>16,f=i>>>16,a=(c*u>>>0)+(o*u>>>16);return c*f+(a>>>16)+((o*f>>>0)+(a&r)>>>16)}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(26),u=r(11);r(10)&&e(e.P+r(124),"Object",{__defineGetter__:function(t,n){u.f(i(this),t,{get:o(n),enumerable:!0,configurable:!0})}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(26),u=r(11);r(10)&&e(e.P+r(124),"Object",{__defineSetter__:function(t,n){u.f(i(this),t,{set:o(n),enumerable:!0,configurable:!0})}})},function(t,n,r){var e=r(1),i=r(176)(!0);e(e.S,"Object",{entries:function(t){return i(t)}})},function(t,n,r){var e=r(1),i=r(177),o=r(30),u=r(31),c=r(131);e(e.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,r=o(t),e=u.f,f=i(r),a={},s=0;f.length>s;)c(a,n=f[s++],e(r,n));return a}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50),u=r(32),c=r(31).f;r(10)&&e(e.P+r(124),"Object",{__lookupGetter__:function(t){var n,r=i(this),e=o(t,!0);do{if(n=c(r,e))return n.get}while(r=u(r))}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50),u=r(32),c=r(31).f;r(10)&&e(e.P+r(124),"Object",{__lookupSetter__:function(t){var n,r=i(this),e=o(t,!0);do{if(n=c(r,e))return n.set}while(r=u(r))}})},function(t,n,r){var e=r(1),i=r(176)(!1);e(e.S,"Object",{values:function(t){return i(t)}})},function(t,n,r){"use strict";var e=r(1),i=r(3),o=r(52),u=r(143)(),c=r(7)("observable"),f=r(26),a=r(2),s=r(68),l=r(73),h=r(27),v=r(79),p=v.RETURN,d=function(t){return null==t?void 0:f(t)},y=function(t){var n=t._c;n&&(t._c=void 0,n())},g=function(t){return void 0===t._o},b=function(t){g(t)||(t._o=void 0,y(t))},m=function(t,n){a(t),this._c=void 0,this._o=t,t=new x(this);try{var r=n(t),e=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){e.unsubscribe()}:f(r),this._c=r)}catch(n){return void t.error(n)}g(this)&&y(this)};m.prototype=l({},{unsubscribe:function(){b(this)}});var x=function(t){this._s=t};x.prototype=l({},{next:function(t){var n=this._s;if(!g(n)){var r=n._o;try{var e=d(r.next);if(e)return e.call(r,t)}catch(t){try{b(n)}finally{throw t}}}},error:function(t){var n=this._s;if(g(n))throw t;var r=n._o;n._o=void 0;try{var e=d(r.error);if(!e)throw t;t=e.call(r,t)}catch(t){try{y(n)}finally{throw t}}return y(n),t},complete:function(t){var n=this._s;if(!g(n)){var r=n._o;n._o=void 0;try{var e=d(r.complete);t=e?e.call(r,t):void 0}catch(t){try{y(n)}finally{throw t}}return y(n),t}}});var w=function(t){s(this,w,"Observable","_f")._f=f(t)};l(w.prototype,{subscribe:function(t){return new m(t,this._f)},forEach:function(t){var n=this;return new(o.Promise||i.Promise)(function(r,e){f(t);var i=n.subscribe({next:function(n){try{return t(n)}catch(t){e(t),i.unsubscribe()}},error:e,complete:r})})}}),l(w,{from:function(t){var n="function"==typeof this?this:w,r=d(a(t)[c]);if(r){var e=a(r.call(t));return e.constructor===n?e:new n(function(t){return e.subscribe(t)})}return new n(function(n){var r=!1;return u(function(){if(!r){try{if(v(t,!1,function(t){if(n.next(t),r)return p})===p)return}catch(t){if(r)throw t;return void n.error(t)}n.complete()}}),function(){r=!0}})},of:function(){for(var t=0,n=arguments.length,r=Array(n);t<n;)r[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var n=!1;return u(function(){if(!n){for(var e=0;e<r.length;++e)if(t.next(r[e]),n)return;t.complete()}}),function(){n=!0}})}}),h(w.prototype,c,function(){return this}),e(e.G,{Observable:w}),r(74)("Observable")},function(t,n,r){var e=r(54),i=r(2),o=e.key,u=e.set;e.exp({defineMetadata:function(t,n,r,e){u(t,n,i(r),o(e))}})},function(t,n,r){var e=r(54),i=r(2),o=e.key,u=e.map,c=e.store;e.exp({deleteMetadata:function(t,n){var r=arguments.length<3?void 0:o(arguments[2]),e=u(i(n),r,!1);if(void 0===e||!e.delete(t))return!1;if(e.size)return!0;var f=c.get(n);return f.delete(r),!!f.size||c.delete(n)}})},function(t,n,r){var e=r(185),i=r(161),o=r(54),u=r(2),c=r(32),f=o.keys,a=o.key,s=function(t,n){var r=f(t,n),o=c(t);if(null===o)return r;var u=s(o,n);return u.length?r.length?i(new e(r.concat(u))):u:r};o.exp({getMetadataKeys:function(t){return s(u(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(32),u=e.has,c=e.get,f=e.key,a=function(t,n,r){if(u(t,n,r))return c(t,n,r);var e=o(n);return null!==e?a(t,e,r):void 0};e.exp({getMetadata:function(t,n){return a(t,i(n),arguments.length<3?void 0:f(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.keys,u=e.key;e.exp({getOwnMetadataKeys:function(t){
return o(i(t),arguments.length<2?void 0:u(arguments[1]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.get,u=e.key;e.exp({getOwnMetadata:function(t,n){return o(t,i(n),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(32),u=e.has,c=e.key,f=function(t,n,r){if(u(t,n,r))return!0;var e=o(n);return null!==e&&f(t,e,r)};e.exp({hasMetadata:function(t,n){return f(t,i(n),arguments.length<3?void 0:c(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.has,u=e.key;e.exp({hasOwnMetadata:function(t,n){return o(t,i(n),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(26),u=e.key,c=e.set;e.exp({metadata:function(t,n){return function(r,e){c(t,n,(void 0!==e?i:o)(r),u(e))}}})},function(t,n,r){var e=r(1);e(e.P+e.R,"Set",{toJSON:r(165)("Set")})},function(t,n,r){"use strict";var e=r(1),i=r(147)(!0);e(e.P,"String",{at:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(1),i=r(46),o=r(16),u=r(122),c=r(120),f=RegExp.prototype,a=function(t,n){this._r=t,this._s=n};r(139)(a,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),e(e.P,"String",{matchAll:function(t){if(i(this),!u(t))throw TypeError(t+" is not a regexp!");var n=String(this),r="flags"in f?String(t.flags):c.call(t),e=new RegExp(t.source,~r.indexOf("g")?r:"g"+r);return e.lastIndex=o(t.lastIndex),new a(e,n)}})},function(t,n,r){"use strict";var e=r(1),i=r(181);e(e.P,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,r){"use strict";var e=r(1),i=r(181);e(e.P,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,r){"use strict";r(82)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,n,r){"use strict";r(82)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,n,r){r(153)("asyncIterator")},function(t,n,r){r(153)("observable")},function(t,n,r){var e=r(1);e(e.S,"System",{global:r(3)})},function(t,n,r){for(var e=r(155),i=r(28),o=r(3),u=r(27),c=r(80),f=r(7),a=f("iterator"),s=f("toStringTag"),l=c.Array,h=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],v=0;v<5;v++){var p,d=h[v],y=o[d],g=y&&y.prototype;if(g){g[a]||u(g,a,l),g[s]||u(g,s,d),c[d]=l;for(p in e)g[p]||i(g,p,e[p],!0)}}},function(t,n,r){var e=r(1),i=r(151);e(e.G+e.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,n,r){var e=r(3),i=r(1),o=r(121),u=r(207),c=e.navigator,f=!!c&&/MSIE .\./.test(c.userAgent),a=function(t){return f?function(n,r){return t(o(u,[].slice.call(arguments,2),"function"==typeof n?n:Function(n)),r)}:t};i(i.G+i.B+i.F*f,{setTimeout:a(e.setTimeout),setInterval:a(e.setInterval)})},function(t,n,r){r(330),r(269),r(271),r(270),r(273),r(275),r(280),r(274),r(272),r(282),r(281),r(277),r(278),r(276),r(268),r(279),r(283),r(284),r(236),r(238),r(237),r(286),r(285),r(256),r(266),r(267),r(257),r(258),r(259),r(260),r(261),r(262),r(263),r(264),r(265),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(317),r(322),r(329),r(320),r(312),r(313),r(318),r(323),r(325),r(308),r(309),r(310),r(311),r(314),r(315),r(316),r(319),r(321),r(324),r(326),r(327),r(328),r(231),r(233),r(232),r(235),r(234),r(220),r(218),r(224),r(221),r(227),r(229),r(217),r(223),r(214),r(228),r(212),r(226),r(225),r(219),r(222),r(211),r(213),r(216),r(215),r(230),r(155),r(302),r(307),r(184),r(303),r(304),r(305),r(306),r(287),r(183),r(185),r(186),r(342),r(331),r(332),r(337),r(340),r(341),r(335),r(338),r(336),r(339),r(333),r(334),r(288),r(289),r(290),r(291),r(292),r(295),r(293),r(294),r(296),r(297),r(298),r(299),r(301),r(300),r(343),r(369),r(372),r(371),r(373),r(374),r(370),r(375),r(376),r(354),r(357),r(353),r(351),r(352),r(355),r(356),r(346),r(368),r(377),r(345),r(347),r(349),r(348),r(350),r(359),r(360),r(362),r(361),r(364),r(363),r(365),r(366),r(367),r(344),r(358),r(380),r(379),r(378),t.exports=r(52)},function(t,n){function r(t,n){if("string"==typeof n)return t.insertAdjacentHTML("afterend",n);var r=t.nextSibling;return r?t.parentNode.insertBefore(n,r):t.parentNode.appendChild(n)}t.exports=r},,,,,,,,,function(t,n,r){(function(n,r){!function(n){"use strict";function e(t,n,r,e){var i=n&&n.prototype instanceof o?n:o,u=Object.create(i.prototype),c=new p(e||[]);return u._invoke=s(t,r,c),u}function i(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function o(){}function u(){}function c(){}function f(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function a(t){function n(r,e,o,u){var c=i(t[r],t,e);if("throw"!==c.type){var f=c.arg,a=f.value;return a&&"object"==typeof a&&m.call(a,"__await")?Promise.resolve(a.__await).then(function(t){n("next",t,o,u)},function(t){n("throw",t,o,u)}):Promise.resolve(a).then(function(t){f.value=t,o(f)},u)}u(c.arg)}function e(t,r){function e(){return new Promise(function(e,i){n(t,r,e,i)})}return o=o?o.then(e,e):e()}"object"==typeof r&&r.domain&&(n=r.domain.bind(n));var o;this._invoke=e}function s(t,n,r){var e=P;return function(o,u){if(e===F)throw new Error("Generator is already running");if(e===M){if("throw"===o)throw u;return y()}for(r.method=o,r.arg=u;;){var c=r.delegate;if(c){var f=l(c,r);if(f){if(f===A)continue;return f}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===P)throw e=M,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=F;var a=i(t,n,r);if("normal"===a.type){if(e=r.done?M:j,a.arg===A)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(e=M,r.method="throw",r.arg=a.arg)}}}function l(t,n){var r=t.iterator[n.method];if(r===g){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=g,l(t,n),"throw"===n.method))return A;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var e=i(r,t.iterator,n.arg);if("throw"===e.type)return n.method="throw",n.arg=e.arg,n.delegate=null,A;var o=e.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=g),n.delegate=null,A):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function h(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function v(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function d(t){if(t){var n=t[w];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,e=function n(){for(;++r<t.length;)if(m.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=g,n.done=!0,n};return e.next=e}}return{next:y}}function y(){return{value:g,done:!0}}var g,b=Object.prototype,m=b.hasOwnProperty,x="function"==typeof Symbol?Symbol:{},w=x.iterator||"@@iterator",S=x.asyncIterator||"@@asyncIterator",_=x.toStringTag||"@@toStringTag",O="object"==typeof t,E=n.regeneratorRuntime;if(E)return void(O&&(t.exports=E));E=n.regeneratorRuntime=O?t.exports:{},E.wrap=e;var P="suspendedStart",j="suspendedYield",F="executing",M="completed",A={},N={};N[w]=function(){return this};var T=Object.getPrototypeOf,I=T&&T(T(d([])));I&&I!==b&&m.call(I,w)&&(N=I);var k=c.prototype=o.prototype=Object.create(N);u.prototype=k.constructor=c,c.constructor=u,c[_]=u.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===u||"GeneratorFunction"===(n.displayName||n.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,_ in t||(t[_]="GeneratorFunction")),t.prototype=Object.create(k),t},E.awrap=function(t){return{__await:t}},f(a.prototype),a.prototype[S]=function(){return this},E.AsyncIterator=a,E.async=function(t,n,r,i){var o=new a(e(t,n,r,i));return E.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},f(k),k[_]="Generator",k.toString=function(){return"[object Generator]"},E.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},E.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(v),!t)for(var n in this)"t"===n.charAt(0)&&m.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){function n(n,e){return o.type="throw",o.arg=t,r.next=n,e&&(r.method="next",r.arg=g),!!e}if(this.done)throw t;for(var r=this,e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=m.call(i,"catchLoc"),c=m.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&m.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=n,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),A},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),v(r),A}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;v(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:d(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=g),A}}}("object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:this)}).call(n,function(){return this}(),r(158))}])</script><script src="/./main.0cf68a.js"></script><script>!function(){!function(e){var t=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("src",e)}("/slider.e37972.js")}()</script>


    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
      
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">所有文章</a></li>
      
        
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'friends')"><a href="javascript:void(0)" q-class="active:friends">友链</a></li>
      
        
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'aboutme')"><a href="javascript:void(0)" q-class="active:aboutme">关于我</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="find something…">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">tag:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
            缺失模块。<br/>1、请确保node版本大于6.2<br/>2、在博客根目录（注意不是yilia根目录）执行以下命令：<br/> npm i hexo-generator-json-content --save<br/><br/>
            3、在根目录_config.yml里添加配置：
<pre style="font-size: 12px;" q-show="jsonFail">
  jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: false
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
</pre>
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
          </li>
        </ul>
    	</section>
    

    
    	<section class="tools-section tools-section-friends" q-show="friends">
  		
        <ul class="search-ul">
          
            <li class="search-li">
              <a href="http://localhost:4000/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>友情链接1</a>
            </li>
          
            <li class="search-li">
              <a href="http://localhost:4000/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>友情链接2</a>
            </li>
          
            <li class="search-li">
              <a href="http://localhost:4000/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>友情链接3</a>
            </li>
          
            <li class="search-li">
              <a href="http://localhost:4000/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>友情链接4</a>
            </li>
          
            <li class="search-li">
              <a href="http://localhost:4000/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>友情链接5</a>
            </li>
          
            <li class="search-li">
              <a href="http://localhost:4000/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>友情链接6</a>
            </li>
          
        </ul>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me" q-show="aboutme">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">很惭愧&lt;br&gt;&lt;br&gt;只做了一点微小的工作&lt;br&gt;谢谢大家</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>