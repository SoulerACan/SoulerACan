<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>关于文件系统，以及history、cd、ls、touch、cp命令以及通配符 | Souler ACan’s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="#==DAY 3== 命令行扩展、被括起来的集合 ``  $()  把一个命令的输出打印给另一个命令的参数  &amp;quot;&amp;quot;弱引用 ，&amp;apos;&amp;apos;强引用  {} 打印重复字符串的简化形式 文件通配符 *        --&amp;gt; 匹配任意个字符 ？       --&amp;gt; 匹配单个字符 ~        --&amp;gt; 当前用户家目录 ~mage    --&amp;gt; 用户m">
<meta property="og:type" content="article">
<meta property="og:title" content="关于文件系统，以及history、cd、ls、touch、cp命令以及通配符">
<meta property="og:url" content="http://yoursite.com/2018/07/25/关于文件系统，以及history、cd、ls、touch、cp命令/index.html">
<meta property="og:site_name" content="Souler ACan’s blog">
<meta property="og:description" content="#==DAY 3== 命令行扩展、被括起来的集合 ``  $()  把一个命令的输出打印给另一个命令的参数  &amp;quot;&amp;quot;弱引用 ，&amp;apos;&amp;apos;强引用  {} 打印重复字符串的简化形式 文件通配符 *        --&amp;gt; 匹配任意个字符 ？       --&amp;gt; 匹配单个字符 ~        --&amp;gt; 当前用户家目录 ~mage    --&amp;gt; 用户m">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-07-25T12:23:07.656Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="关于文件系统，以及history、cd、ls、touch、cp命令以及通配符">
<meta name="twitter:description" content="#==DAY 3== 命令行扩展、被括起来的集合 ``  $()  把一个命令的输出打印给另一个命令的参数  &amp;quot;&amp;quot;弱引用 ，&amp;apos;&amp;apos;强引用  {} 打印重复字符串的简化形式 文件通配符 *        --&amp;gt; 匹配任意个字符 ？       --&amp;gt; 匹配单个字符 ~        --&amp;gt; 当前用户家目录 ~mage    --&amp;gt; 用户m">
  
    <link rel="alternate" href="/atom.xml" title="Souler ACan’s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Souler ACan’s blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">who am i ？</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-关于文件系统，以及history、cd、ls、touch、cp命令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/25/关于文件系统，以及history、cd、ls、touch、cp命令/" class="article-date">
  <time datetime="2018-07-25T12:30:00.000Z" itemprop="datePublished">2018-07-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      关于文件系统，以及history、cd、ls、touch、cp命令以及通配符
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#<strong>==DAY 3==</strong></p>
<p><strong>命令行扩展、被括起来的集合</strong></p>
<pre><code>``  $()  把一个命令的输出打印给另一个命令的参数

&quot;&quot;弱引用 ，&apos;&apos;强引用

{} 打印重复字符串的简化形式
</code></pre><p><strong>文件通配符</strong></p>
<pre><code>*        --&gt; 匹配任意个字符
？       --&gt; 匹配单个字符
~        --&gt; 当前用户家目录
~mage    --&gt; 用户mage家目录
~+       --&gt; 当前工作目录
~-       --&gt; 前一个工作目录
[0-9]:   --&gt; 匹配数字范围
[a-z]:   --&gt; 小写字母
[A-Z]:   --&gt; 大写字母
[qwer]   --&gt; 匹配列表中的任何的一个字符
[^qwer]  --&gt; 匹配列表中的所有字符以外的字符
</code></pre><p>  预定义支付类： man 7 glob</p>
<pre><code>[:digit:]：任意数字，相当于0-9
[:lower:]：任意小写字母
[:upper:]: 任意大写字母
[:alpha:]: 任意大小写字母
[:alnum:]：任意数字或字母
[:blank:]：水平空白字符
[:space:]：水平或垂直空白字符
[:punct:]：标点符号
[:print:]：可打印字符
[:cntrl:]：控制（非打印）字符
[:graph:]：图形字符
[:xdigit:]：十六进制字符
</code></pre><p>#TAB键补全命令</p>
<p>  前提是安装了程序 bash-completion<br>  查看该安装包版本<br>    $rpm -qa bash-completion&lt;&gt;.noarch<br>   centos 6<br>    支持命令、目录的补全；不支持补全命令选项参数<br>   centos 7<br>    支持命令、目录的补全；支持补全命令选项参数</p>
<p>#history命令</p>
<p>  history命令用于显示指定数目的指令命令，读取历史命令文件中的目录到历史缓存区和将历史命令缓存区中的目录写入命令文件。</p>
<pre><code>每个用户的家目录下有个 .bash_history的文件，是专门存放用户所输入的命令历史。
.bash_history（并非即时记录，用户登出才会将history追加入文件，不正常关机则无法写入文件）
</code></pre><p>  该命令单独使用时，仅显示历史命令，在命令行中，可以使用符号!执行指定序号的历史命令。例如，要执行第2个历史命令，则输入!2。<br>  历史命令是被保存在内存中的，当退出或者登录Shell时，会自动保存或读取。在内存中，历史命令仅能够存储1000条历史命令，该数量是由环境变量HISTSIZE进行控制。</p>
<p>  1.命令格式<br>    history [选项][参数]<br>  2.命令功能<br>    可单独用于查看历史命令，也可配合参数调用或删除历史命令。<br>  3.命令参数<br>    -c  (常用)<br>    清除内存中的历史列表<br>    -d <n><br>    清除第n条命令<br>    <n>（常用）<br>    显示最近n条历史记录<br>    -a<br>    将当前的历史记录行追加到历史记录文件<br>    -r<br>    读取未读取的历史<br>    -w &lt;文件名&gt;<br>    将当前历史写到指定文件中<br>    -p<br>    执行且不留历史记录<br>    -s<br>    伪造历史记录，但不执行</n></n></p>
<p><strong>关于history调用</strong></p>
<p>  调用历史命令，n是命历史命令编号<br>    !n<br>  执行上一条命令<br>    !!<br>  执行前一条命令，去除参数<br>    !:0<br>  补全上一个命令<br>    Esc，.<br>  补全上一个命令<br>    按住alt+. </p>
<p><strong>关于命令历史相关变量</strong></p>
<pre><code>HISTSIZE  历史记录条数
HISTFILE  存储历史文件
HISTFILESIZE  命令历史文件记录历史条数
HISTTIMEFORMAT= &quot;%F %T&quot; 显示时间
HISTIGNORE=&quot;str1:str2* &quot; 忽略str1命令，str2开头的历史
</code></pre><p><strong>控制历史命令记录的方式</strong></p>
<pre><code>环境变量：HISTCONTROL
ignoredups: 忽略重复的命令；连续且相同方为”重复“
ignorespace: 忽略所有空白开头的命令
ignoreboth: ignoredups,ignorespace
erasedups: 删除重复命令
Export 变量名=&quot;值
存放在 /etc/profile或 ~/.bash_profile
</code></pre><p><strong>bash快捷键</strong></p>
<p>  Ctrl + l<br>    清屏，相当于clear命令<br>  Ctrl + o<br>    执行当前命令，并重新显示本命令<br>  Ctrl + s<br>    阻止屏幕输出，锁定<br>  Ctrl + q<br>    允许屏幕输出<br>  Ctrl + c<br>    终止命令<br>  Ctrl + z<br>    挂起命令bash的快捷键<br>  Ctrl + a<br>    光标移到命令行首，相当于Home<br>  Ctrl + e<br>    光标移到命令行尾，相当于End<br>  Ctrl + f<br>    光标向右移动一个字符<br>  Ctrl + b<br>    光标向左移动一个字符<br>  Alt + f<br>    光标向右移动一个单词尾<br>  Alt + b<br>    光标向左移动一个单词首<br>  Ctrl + xx<br>    光标在命令行首和光标之间移动<br>  Ctrl + u<br>    从光标处删除至命令行首<br>  Ctrl + k<br>    从光标处删除至命令行尾<br>  Alt + r<br>    删除当前整行bash的快捷键<br>  Ctrl + w<br>    从光标处向左删除至单词首<br>  Alt + d<br>    从光标处向右删除至单词尾<br>  Ctrl + d<br>    删除光标处的一个字符<br>  Ctrl + h<br>    删除光标前的一个字符<br>  Ctrl + y<br>    将删除的字符粘贴至光标后<br>  Alt + c<br>    从光标处开始向右更改为首字母大写的单词<br>  Alt + u<br>    从光标处开始，将右边一个单词更改为大写<br>  Alt + l<br>    从光标处开始，将右边一个单词更改为小写<br>  Ctrl + t<br>    交换光标处和之前的字符位置<br>  Alt + t<br>    交换光标处和之前的单词位置<br>  Alt + N<br>    提示输入指定字符后，重复显示该字符N次</p>
<p>####注意：Alt组合快捷键经常和其它软件冲突</p>
<p><strong>实验：录屏</strong></p>
<p>  创建一个录屏命令 （用于复现）复现<br>    $ script -t 2&gt; time.log -a cmd.session<br>    $ …..<br>    $ …..<br>    $ …..<br>  退出录屏<br>    $exit<br>  复现录像<br>    $ scriptptreplay time.log cmd.session</p>
<p>#####多用于动态演示</p>
<p><strong>文件系统分层结构  LSB</strong></p>
<pre><code>/bin -&gt;/usr/bin 存放供用户使用的二进制程序

/boot 引导程序文件，例如：kernel

/dev  存放设备文件
   brw------- b打头  块设备，随机访问
   crw------- c打头  字符设备，线性访问

/etc  存放系统范围内的配置文件，，可编辑的文本配置
  /etc/opt  opt的配置文件
  /etc/X11  X Windows系统的配置文件
  /etc/sgml SGML的配置文件
  /etc/xml  XML的配置文件

/usr   用户存储只读用户数据的第二层次，包含绝大多数的（多）用户工具和应用程序

/home  普通用户的家目录，保存用户个人的配置文件，一般为单独的分区

/lib   /bin/和/sbin/中二进制文件必要的库文件

/sbin  给管理员使用的二进制程序

/media 可移除媒体的挂载点，图形界面下，自动充当光盘挂载点，代替/run/media

/misc  命令行界面,普通用户手动挂载（进入该文件夹/misc/cd，则自动挂载光盘，不进入则不挂在）
     $ systemctl start autofs
     $ systemctl enable autofs
       查看块设备 
     $ df

/mnt   临时挂载的文件系统，超级用户手动挂载 $ mount /dev/sr0 /mnt

/opt   可选应用软件包

/proc  虚拟文件系统，，将内核与进程状态归档为文本文件，存放于内存，磁盘中所占空间为0，修改文件立即生效，但断电后数据丢失，数据修改不保存。

/sys  虚拟文件系统，存放于内存，映射硬件信息
      当识别不出块设备，扫描所有磁盘
      $ echo &apos;- - -&apos; &gt; /sys/class/scsi_host/host2/scan
/root  超级用户的家目录

/sbin  必要的系统二进制文件

/srv   站点的具体数据，由系统提供

/data

/run  不属于linux标准目录，代替/var/run

/var  动态文件————在正常运行的系统中其内容不断变化的文件，如日志，脱机文件和临时电子邮件文件。有时是一个单独的分区，亦可称为变量文件

/tmp  临时文件，在系统重启时目录中文件不会被保留
</code></pre><p>#####标准可参考 FHS国际规范 </p>
<p><strong>文件系统</strong><br>  rootfs： root filesystem<br>  文件名大小写区分看文件系统：<br>  eg：<br>     文件系统 xfs 严格区分大小写<br>     文件系统 vfat 不区分大小写 </p>
<p>  文件有两类数据：<br>     数据：data   存放数据的内容<br>     元数据：metadata 存放数据的属性     </p>
<p><strong>文件特性</strong></p>
<p>  查看文件类型的颜色规则<br>    $ cat /etc/DIR_COLOR</p>
<pre><code>蓝色--&gt;目录
绿色--&gt;可执行文件
红色--&gt;压缩文件
浅蓝色--&gt;链接文件
灰色--&gt;其他文件
亮黄色--&gt;设备文件
</code></pre><p>  查看文件类型<br>    drwxr-xr-x.  5 root root      231 Jul 18 14:49 vmware-tools<br>    eg： 文件类型由字符串drwxr-xr-x的第一位来表示，当前字符串第一位为d，由此我们可以得出该文件类型是目录文件</p>
<pre><code>-：普通文件
d：目录文件
b：块设备
c：字符设备
l：符号链接文件
p：管道文件pise
s：套接字文件socker
</code></pre><p><strong>显示当前工作目录</strong><br>  pwd命令</p>
<pre><code>$ pwd 显示连接路径
$ pwd -P  显示真实物理路径
</code></pre><p>  路径分为两种：相对路径，绝对路径</p>
<p>   相对路径（方便文件转移后的运行）<br>     不以正斜杠开始<br>     指定相对于当前工作目录或某目录的位置<br>     eg：<br>        $ cd home/xu<br>     在每个目录下都有’.’和’..’ ，相对路径中经常会使用到<br>      ‘.’表当前目录，’..’表父目录</p>
<p>   绝对路径<br>     以正斜杠开始<br>     完整的路径位置<br>     eg:<br>        $cd /home/xu<br>  基名：basename<br>  目录名：dirname</p>
<p><strong>cd命令</strong><br>  用于切换目录</p>
<p>  1.命令格式<br>     cd &lt;路径&gt;<br>  2.命令功能<br>     使用绝对或相对路径切换目录<br>  3.命令参数<br>    cd<br>      切换至当前用户主目录<br>    cd ..<br>      切换至父目录<br>    cd ~<br>      切换到当前登录用户的家目录<br>    cd ~用户名<br>      切换到指定用户家目录<br>    cd -<br>      切换回上次的目录，原理：由变量$OLDPWD控制<br>      可以手动更改变量 $OLDPWD=/路径名</p>
<p><strong>ls命令</strong></p>
<p>  ls命令是linux下最常用的命令。ls命令就是list的缩写，ls用来打印出当前目录的清单，如果ls指定其他目录，那么就会显示指定目录里的文件及文件夹清单。<br>  通过ls 命令不仅可以查看linux文件夹包含的文件，而且可以查看文件权限(包括目录、文件夹、文件权限)查看目录信息等等。ls 命令在日常的linux操作中用的很多!</p>
<p>  1.命令格式<br>    ls [选项][参数]<br>  2.命令功能<br>    列出名表目录中所有的子目录和文件<br>  3.命令参数<br>    -d，<br>    列出目录本身，而不是其内容<br>    -a，<br>    列出所有文件以及文件夹（包括隐藏）<br>    -l<br>    使用长列表格式<br>    -A，<br>    不列出’.’(表当前目录)和’..’（表当前目录的父目录）<br>    -u，–time=atime, –time=access,–time= use<br>    与-l配合使用，显示访问时间<br>    -c，–time=ctime, –time=status<br>    与-l配合使用，显示权限修改时间<br>    -1<br>    显示另一列文件<br>    -S<br>    按文件从大到小排序<br>    -r，<br>    排序时的逆序<br>    -Sr<br>    反转，按文件小到大排序<br>    -R，<br>    以递归方式列出子目录<br>    -X<br>    按后缀排序<br>    -U<br>    不排序;按目录顺序列出条目<br>    -p，<br>    追加/指标到目录<br>    -n， -num-uid-gid<br>    像-l，但列出数字用户和组ID<br>    -o<br>    像-l，但不列出组信息<br>    （还有一些不懂怎么用，没列出来）</p>
<p><strong>touch命令</strong></p>
<p>  linux的touch命令不常用，一般在使用make的时候可能会用到，用来修改文件时间戳，或者新建一个不存在的文件。</p>
<p>  1.命令格式<br>    touch [选项]..文件名..<br>  2.命令功能<br>    创建一个不存在的文件。<br>    touch命令参数可更改文档或目录的日期时间，包括存取时间和更改时间。<br>  3.命令参数<br>    -r &lt;指定文档&gt; &lt;参考文档&gt;<br>    将文件时间与指定参考文件时间对齐。<br>    -c &lt;文件名&gt;<br>    若文件名不存在，则不创建。<br>    -t[[CC]YY]MMDDhhmm[.SS] &lt;文件名&gt;<br>    设定文件的时间戳<br>    [[CC]YY]MMDDhhmm[.SS]<br>    eg：2018年07月24日14点20分00秒;对应格式：201807241420.00<br>    -m 配合-t使用，修改Modify time 修改时间<br>    -a 配合-t使用，修改Acess time 访问时间</p>
<p><strong>cp命令</strong></p>
<p>  cp命令用来复制文件或者目录，是Linux系统中最常用的命令之一。<br>  一般情况下，shell会设置一个别名，在命令行下复制文件时，如果目标文件已经存在，就会询问是否覆盖，不管你是否使用-i参数。但是如果是在shell脚本中执行cp时，没有-i参数时不会询问是否覆盖。<br>  这说明命令行和shell脚本的执行方式有些不同。 </p>
<p>  1.命令格式<br>    cp[选项].. 源 目的<br>  2.命令功能<br>    将源文件复制至目标文件，或将多个源文件复制至目标目录。<br>  3.命令参数<br>    -a,-archive<br>    与-dR –preserve = all相同<br>    –attributes-only<br>    不要复制文件数据，只复制属性<br>    -i<br>    覆盖前询问<br>    -n<br>    不覆盖已存在的文件<br>    –backup[=CONTROL]<br>    备份每个现有目标文件,接受参数<br>    -b像–backup但不接受参数<br>    –copy-contents<br>    递归时复制特殊文件的内容<br>    -d与–no-dereference –preserve=links<br>    相同<br>    -f,–force<br>    如果无法打开现有目标文件，请将其删除并尝试<br>    再次（当使用-n选项时忽略此选项）<br>    -H<br>    遵循SOURCE中的命令行符号链接<br>    -l,–link<br>    硬链接文件而不是复制<br>    -L,–dereference<br>    始终遵循SOURCE中的符号链接<br>    -P,–no-dereference<br>    永远不要在SOURCE中关注符号链接<br>    -p与–preserve = mode，ownership，timestamps<br>    相同</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/25/关于文件系统，以及history、cd、ls、touch、cp命令/" data-id="cjk13palr0000kcisi114hdcy" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2018/07/22/个人blog搭建（纯属笔记，不做任何解释）/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">个人blog搭建（纯属笔记，不做任何解释）</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/07/25/关于文件系统，以及history、cd、ls、touch、cp命令/">关于文件系统，以及history、cd、ls、touch、cp命令以及通配符</a>
          </li>
        
          <li>
            <a href="/2018/07/22/个人blog搭建（纯属笔记，不做任何解释）/">个人blog搭建（纯属笔记，不做任何解释）</a>
          </li>
        
          <li>
            <a href="/2018/07/21/linux基础知识/">linux基础知识</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 ACan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>